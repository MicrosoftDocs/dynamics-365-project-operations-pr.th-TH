---
title: เพิ่มฟิลด์ที่กำหนดเองในการตั้งค่าราคาและเอนทิตีธุรกรรม
description: หัวข้อนี้แสดงข้อมูลเกี่ยวกับการเพิ่มฟิลด์ที่กำหนดเองสำหรับการตั้งค่าราคาและเอนทิตี้ทางธุรกรรม
author: Rumant
manager: kfend
ms.custom:
- dyn365-projectservice
ms.date: 11/26/2018
ms.topic: article
ms.prod: Project Service
ms.service: business-applications
ms.assetid: 1d6e996b-dcf2-473f-b642-edd33d8d6d4e
ms.author: rumant
audience: Admin
search.audienceType:
- admin
- customizer
- enduser
search.app:
- D365PS
ms.openlocfilehash: 95cea2c5d499335c24d31b725ed68901808ee084
ms.sourcegitcommit: 8c786230ef2a497280885b827162561776e2eb00
ms.translationtype: HT
ms.contentlocale: th-TH
ms.lasthandoff: 03/24/2020
ms.locfileid: "3756355"
---
# <a name="add-custom-fields-to-price-setup-and-transactional-entities"></a><span data-ttu-id="849bb-103">เพิ่มฟิลด์ที่กำหนดเองในการตั้งค่าราคาและเอนทิตีธุรกรรม</span><span class="sxs-lookup"><span data-stu-id="849bb-103">Add custom fields to price setup and transactional entities</span></span> 
<span data-ttu-id="849bb-104">หัวข้อนี้สันนิษฐานว่า คุณได้ทำตามขั้นตอนในหัวข้อเสร็จสมบูรณ์แล้ว [ให้สร้างฟิลด์และเอนทิตีแบบกำหนดเอง](create-custom-fields-entities.md)</span><span class="sxs-lookup"><span data-stu-id="849bb-104">This topic assumes that you have completed the procedures in the topic, [Create custom fields and entities](create-custom-fields-entities.md).</span></span> <span data-ttu-id="849bb-105">ถ้าคุณยังไม่ได้ดำเนินการตามขั้นตอนเหล่านั้น ให้ย้อนกลับและทำให้เสร็จสมบูรณ์แล้วกลับมายังหัวข้อนี้</span><span class="sxs-lookup"><span data-stu-id="849bb-105">If you haven't completed those procedures, go back and complete them and then return to this topic.</span></span> 

<span data-ttu-id="849bb-106">ในหัวข้อนี้ กระบวนงานจะแสดงวิธีการเพิ่มการอ้างอิงฟิลด์แบบกำหนดเองที่จำเป็นไปยังเอนทิตี และองค์ประกอบของส่วนติดต่อผู้ใช้ (UI) เช่น ฟอร์ม และมุมมอง</span><span class="sxs-lookup"><span data-stu-id="849bb-106">In this topic, the procedures will show you how to add the required custom field references to entities and to the user interface (UI) elements such as forms and views.</span></span>

## <a name="add-custom-pricing-dimension-fields"></a><span data-ttu-id="849bb-107">เพิ่มฟิลด์มิติการกำหนดราคาแบบกำหนดเอง</span><span class="sxs-lookup"><span data-stu-id="849bb-107">Add custom pricing dimension fields</span></span> 
<span data-ttu-id="849bb-108">หลังจากที่สร้างฟิลด์และเอนทิตีแบบกำหนดเองแล้ว ขั้นตอนถัดไปคือทำให้การตั้งค่าราคาและเอนทิตีธุรกรรมตระหนักถึงเอนทิตีแบบกำหนดเองหรือชุดตัวเลือกใดๆ โดยการสร้างฟิลด์อ้างอิง</span><span class="sxs-lookup"><span data-stu-id="849bb-108">After custom fields and entities have been created, the next step is to make price setup and transactional entities aware of any custom entities or option sets by creating reference fields.</span></span> <span data-ttu-id="849bb-109">ขึ้นอยู่กับว่ารายการมิติการกำหนดราคาของคุณรวมมิติชุดตัวเลือกหรือมิติของเอนทิตีหรือทั้งสองอย่าง ให้ทำตามขั้นตอนใน **มิติการกำหนดราคาแบบกำหนดเองตามชุดตัวเลือก** หรือ **มิติการกำหนดราคาแบบกำหนดเองตามเอนทิตี** หรือทั้งสองอย่าง ตามลำดับ</span><span class="sxs-lookup"><span data-stu-id="849bb-109">Depending on whether your pricing dimensions list includes option set dimensions or entity dimensions or both, follow only the steps in **Option set-based custom pricing dimensions** or **Entity-based custom pricing dimensions**, or both, respectively.</span></span>

### <a name="option-set-based-custom-pricing-dimensions"></a><span data-ttu-id="849bb-110">มิติการกำหนดราคาแบบกำหนดเองตามชุดตัวเลือก</span><span class="sxs-lookup"><span data-stu-id="849bb-110">Option set-based custom pricing dimensions</span></span>
<span data-ttu-id="849bb-111">เมื่อมิติการกำหนดราคาแบบกำหนดเองเป็นแบบตามชุดตัวเลือก ให้เพิ่มเป็นฟิลด์สำหรับเอนทิตีของ Project Service ที่สำคัญ</span><span class="sxs-lookup"><span data-stu-id="849bb-111">When a custom pricing dimension is option set-based, add it as a field to key Project Service entities.</span></span> <span data-ttu-id="849bb-112">ในกระบวนงานต่อไปนี้ **สถานที่ทำงานของทรัพยากร** และ **ชั่วโมงทำงานของทรัพยากร** จะถูกใช้เป็นมิติการกำหนดราคาตามชุดตัวเลือก</span><span class="sxs-lookup"><span data-stu-id="849bb-112">In the following procedure, **Resource Work Location** and **Resource Work Hours** are used as the option set-based pricing dimensions.</span></span> <span data-ttu-id="849bb-113">สิ่งเหล่านี้ต้องถูกเพิ่มเป็นฟิลด์ไปยังเอนทิตีการกำหนดราคา **ราคาตามบทบาท** และ **ส่วนเพิ่มราคาของราคาตามบทบาท**</span><span class="sxs-lookup"><span data-stu-id="849bb-113">These must first be added as fields to the pricing entities, **Role Price** and **Role Price Markup**.</span></span>

1. <span data-ttu-id="849bb-114">ใน Project Service Automation (PSA) คลิก **การตั้งค่า** > **โซลูชัน** จากนั้นคลิกสองครั้งที่ **\<ชื่อองค์กรของคุณ > มิติการกำหนดราคา**</span><span class="sxs-lookup"><span data-stu-id="849bb-114">In Project Service Automation (PSA), click **Settings** > **Solutions**, and then double-click **\<your organization name> pricing dimensions**.</span></span> 
2. <span data-ttu-id="849bb-115">ในตัวสำรวจโซลูชัน บนบานหน้าต่างการนำทางด้านซ้าย เลือก **เอนทิตี > ราคาตามบทบาท**</span><span class="sxs-lookup"><span data-stu-id="849bb-115">In Solution Explorer, on the left navigation pane, select **Entities > Role Price**.</span></span>
3. <span data-ttu-id="849bb-116">ขยาย **ราคาตามบทบาท** เอนทิตี และเลือก **ฟิลด์**</span><span class="sxs-lookup"><span data-stu-id="849bb-116">Expand the entity **Role Price** and select **Fields**.</span></span>
4. <span data-ttu-id="849bb-117">คลิก **สร้าง** เพื่อสร้างฟิลด์ใหม่ที่เรียกว่า **สถานที่ทำงานของทรัพยากร** และเลือก **ชุดตัวเลือก** เป็นชนิดของฟิลด์</span><span class="sxs-lookup"><span data-stu-id="849bb-117">Click **New** to create a new field called **Resource Work Location** and select **Option set** as the field type.</span></span> 
5. <span data-ttu-id="849bb-118">เลือก **ใช้ชุดตัวเลือกที่มีอยู่** แล้วเลือกชุดตัวเลือก **สถานที่ทำงานของทรัพยากร** แล้วคลิก **บันทึก**</span><span class="sxs-lookup"><span data-stu-id="849bb-118">Select **Use an existing Option set**, select the **Resource Work Location** option set, and then click **Save**.</span></span>
6. <span data-ttu-id="849bb-119">ทำซ้ำขั้นตอนที่ 1-5 เพื่อเพิ่มฟิลด์นี้ลงในเอนทิตี **ส่วนเพิ่มราคาของราคาตามบทบาท**</span><span class="sxs-lookup"><span data-stu-id="849bb-119">Repeat steps 1 - 5 to add this field to the **Role Price Markup** entity.</span></span> 
7. <span data-ttu-id="849bb-120">ทำซ้ำขั้นตอนที่ 1-5 สำหรับชุดตัวเลือก **ชั่วโมงทำงานของทรัพยากร**</span><span class="sxs-lookup"><span data-stu-id="849bb-120">Repeat steps 1 - 5 for the **Resource Work Hours** option set.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="849bb-121">เมื่อคุณเพิ่มฟิลด์ลงในเอนทิตีมากกว่าหนึ่งเอนทิตี ให้ใช้ชื่อฟิลด์เดียวกันในเอนทิตีทั้งหมด</span><span class="sxs-lookup"><span data-stu-id="849bb-121">When you add a field to more than one entity, use the same field name across all of the entities.</span></span> 

> ![การเพิ่มสถานที่ทำงานของทรัพยากรให้กับราคาตามบทบาท](media/RWL-Field.png)

<span data-ttu-id="849bb-123">ในขั้นตอนการขายและการประเมินสำหรับโครงการ การประเมินความพยายามในการทำงานที่จำเป็นสำหรับการทำงาน **ท้องถิ่น** และ **นอกสถานที่** ให้เสร็จสมบูรณ์ ใน **ชั่วโมงปกติ** และ **ชั่วโมงล่วงเวลา**  จะถูกใช้ประเมินมูลค่าของใบเสนอราคาหรือโครงการ</span><span class="sxs-lookup"><span data-stu-id="849bb-123">In the sales and estimation phases for a project, estimates of the work effort that is required to complete **Local** and **Onsite** work, in **Regular hours** and **Overtime hours**  are used to estimate the value of the Quote/Project.</span></span> <span data-ttu-id="849bb-124">ฟิลด์ **สถานที่ทำงานของทรัพยากร** และ **ชั่วโมงการทำงานของทรัพยากร** จะถูกเพิ่มลงในเอนทิตีการประเมิน **รายละเอียดบรรทัดใบเสนอราคา** **รายละเอียดที่เป็นรายละเอียดการให้บริการตามสัญญา** **สมาชิกของทีมโครงการ** และ **บรรทัดการประมาณการ**</span><span class="sxs-lookup"><span data-stu-id="849bb-124">The fields **Resource Work Location** and **Resource Work Hours** will be added to the estimation entities, **Quote Line Detail**, **Contract Line detail**, **Project Team Member**, and **Estimate Line**.</span></span>

1. <span data-ttu-id="849bb-125">ใน PSA คลิก **การตั้งค่า** > **โซลูชัน** จากนั้นคลิกสองครั้งที่ **\<ชื่อองค์กรของคุณ > มิติการกำหนดราคา**</span><span class="sxs-lookup"><span data-stu-id="849bb-125">In PSA, click **Settings** > **Solutions**, and then double-click **\<your organization name> pricing dimensions**.</span></span> 
2. <span data-ttu-id="849bb-126">ในตัวสำรวจโซลูชัน บนบานหน้าต่างการนำทางด้านซ้าย เลือก **เอนทิตี > รายละเอียดบรรทัดใบเสนอราคา**</span><span class="sxs-lookup"><span data-stu-id="849bb-126">In Solution Explorer, on the left navigation pane, select **Entities > Quote Line Detail**.</span></span>
3. <span data-ttu-id="849bb-127">ขยายเอนทิตี **รายละเอียดบรรทัดใบเสนอราคา** และเลือก **ฟิลด์**</span><span class="sxs-lookup"><span data-stu-id="849bb-127">Expand the **Quote Line Detail** entity, and select **Fields**.</span></span>
4. <span data-ttu-id="849bb-128">คลิก **สร้าง** เพื่อสร้างฟิลด์ใหม่ที่เรียกว่า **สถานที่ทำงานของทรัพยากร** และเลือกชนิดของฟิลด์ **ชุดตัวเลือก**</span><span class="sxs-lookup"><span data-stu-id="849bb-128">Click **New** to create a new field called **Resource Work Location** and select the field type, **Option set**.</span></span> 
5. <span data-ttu-id="849bb-129">เลือก **ใช้ชุดตัวเลือกที่มีอยู่** และ **สถานที่ทำงานของทรัพยากร** แล้วคลิก **บันทึก**</span><span class="sxs-lookup"><span data-stu-id="849bb-129">Select **Use an existing Option set** and **Resource Work Location**, and then click **Save**.</span></span>
6. <span data-ttu-id="849bb-130">ทำซ้ำขั้นตอนที่ 1-5 เพื่อเพิ่มฟิลด์นี้ในเอนทิตี **รายละเอียดการให้บริการตามสัญญาของโครงการ** **สมาชิกของทีมโครงการ** และ **บรรทัดการประมาณการ**</span><span class="sxs-lookup"><span data-stu-id="849bb-130">Repeat steps 1 - 5 to add this field to the **Project Contract line detail**, **Project Team Member**, and **Estimate Line** entities.</span></span>
7. <span data-ttu-id="849bb-131">ทำซ้ำขั้นตอนที่ 1-6 สำหรับชุดตัวเลือก **ชั่วโมงทำงานของทรัพยากร**</span><span class="sxs-lookup"><span data-stu-id="849bb-131">Repeat steps 1 - 6 for the **Resource Work Hours** option set.</span></span> 

> ![การเพิ่มสถานที่ทำงานของทรัพยากรให้กับบรรทัดการประมาณการ](media/RWL-Default-Value.png)


<span data-ttu-id="849bb-133">สำหรับการจัดส่งและการออกใบแจ้งหนี้ งานที่เสร็จสมบูรณ์จะต้องมีการกำหนดราคาอย่างถูกต้อง เพื่อเลือกว่าจะดำเนินการ **ภายใน** หรือ **นอกสถานที่** **การใน** และไม่ว่าจะเสร็จสมบูรณ์ในระหว่าง **ชั่วโมงปกติ** จำนวนจริงของโครงการ</span><span class="sxs-lookup"><span data-stu-id="849bb-133">For delivery and invoicing, completed work needs to be accurately priced to select whether it was performed **Local** or **Onsite**, and whether it was completed during **Regular hours** or **Overtime** on the Project Actuals.</span></span> <span data-ttu-id="849bb-134">ฟิลด์ **สถานที่ทำงานของทรัพยากร** และ **ชั่วโมงทำงานของทรัพยากร** ควรเพิ่มลงในเอนทิตี **รายการเวลา** **ค่าจริง** **รายละเอียดบรรทัดใบแจ้งหนี้** และ **บรรทัดสมุดรายวัน**</span><span class="sxs-lookup"><span data-stu-id="849bb-134">The **Resource Work Location** and **Resource Work hours** fields should be added to the **Time Entry**, **Actual**, **Invoice Line Detail**, and **Journal Line** entities.</span></span>

1. <span data-ttu-id="849bb-135">ใน PSA คลิก **การตั้งค่า** > **โซลูชัน** จากนั้นคลิกสองครั้งที่ **\<ชื่อองค์กรของคุณ > มิติการกำหนดราคา**</span><span class="sxs-lookup"><span data-stu-id="849bb-135">In PSA, click **Settings** > **Solutions**, and then double-click **\<your organization name> pricing dimensions**.</span></span>
2. <span data-ttu-id="849bb-136">ในตัวสำรวจโซลูชัน บนบานหน้าต่างการนำทางด้านซ้าย เลือก  **เอนทิตี > รายการเวลา**</span><span class="sxs-lookup"><span data-stu-id="849bb-136">In Solution Explorer, on the left navigation pane, select  **Entities > Time Entry**.</span></span>
3. <span data-ttu-id="849bb-137">ขยายเอนทิตี **รายละเอียดบรรทัดใบเสนอราคา** และเลือก **ฟิลด์**</span><span class="sxs-lookup"><span data-stu-id="849bb-137">Expand the **Quote Line Detail** entity, and then select **Fields**.</span></span>
4. <span data-ttu-id="849bb-138">คลิก **สร้าง** เพื่อสร้างฟิลด์ใหม่ที่เรียกว่า **สถานที่ทำงานของทรัพยากร** และเลือก **ชุดตัวเลือก** เป็นชนิดของฟิลด์</span><span class="sxs-lookup"><span data-stu-id="849bb-138">Click **New** to create a new field called **Resource Work Location** and select **Option set** as the field type.</span></span> 
5. <span data-ttu-id="849bb-139">เลือก **ใช้ชุดตัวเลือกที่มีอยู่** แล้วเลือกชุดตัวเลือก **สถานที่ทำงานของทรัพยากร** แล้วคลิก **บันทึก**</span><span class="sxs-lookup"><span data-stu-id="849bb-139">Select **Use an existing Option set**, select the **Resource Work Location** option set, and then click **Save**.</span></span>
6. <span data-ttu-id="849bb-140">ทำซ้ำขั้นตอนที่ 1-5 เพื่อเพิ่มฟิลด์นี้ไปยัง **ค่าจริง** **รายละเอียดบรรทัดใบแจ้งหนี้** และเอนทิตี **บรรทัดสมุดรายวัน**</span><span class="sxs-lookup"><span data-stu-id="849bb-140">Repeat steps 1 - 5 to add this field to the **Actual**, **Invoice Line Detail**, and **Journal Line** entities.</span></span>
7. <span data-ttu-id="849bb-141">ทำซ้ำขั้นตอนที่ 1-6 สำหรับชุดตัวเลือก **ชั่วโมงทำงานของทรัพยากร**</span><span class="sxs-lookup"><span data-stu-id="849bb-141">Repeat steps 1 - 6 for the **Resource Work Hours** option set.</span></span> 

> ![การเพิ่มสถานที่ทำงานของทรัพยากรให้กับราคาเวลา](media/RWL-time-entry.png)

<span data-ttu-id="849bb-143">ดำเนินการการเปลี่ยนแปลง Schema ที่จำเป็นสำหรับมิติข้อมูลที่กำหนดเองตามชุดตัวเลือกจนเสร็จ</span><span class="sxs-lookup"><span data-stu-id="849bb-143">This completes the schema changes required for option set-based custom dimensions.</span></span>

## <a name="entity-based-custom-pricing-dimensions"></a><span data-ttu-id="849bb-144">มิติการกำหนดราคาแบบกำหนดเองตามเอนทิตี</span><span class="sxs-lookup"><span data-stu-id="849bb-144">Entity-based custom pricing dimensions</span></span>

<span data-ttu-id="849bb-145">เมื่อมิติการกำหนดราคาแบบกำหนดเองเป็นเอนทิตี คุณจะเพิ่มความสัมพันธ์แบบ 1: N ระหว่างเอนทิตีมิติและเอนทิตีของ Project Service ที่สำคัญ</span><span class="sxs-lookup"><span data-stu-id="849bb-145">When the custom pricing dimension is an entity, you will add 1:N relationships between the dimension entity and key Project Service entities.</span></span> <span data-ttu-id="849bb-146">การใช้ตัวอย่างชื่อเรื่องมาตรฐานจากด้านบน มีความเหมาะสมที่คาดหวังว่าพนักงานแต่ละคนจะได้รับการกำหนดชื่อมาตรฐาน</span><span class="sxs-lookup"><span data-stu-id="849bb-146">Using the Standard Title example from above, it is reasonable to expect that each employee is assigned a standard title.</span></span> <span data-ttu-id="849bb-147">ผลลัพธ์ที่ได้ คุณจะต้องมีความสัมพันธ์แบบ 1: N จากชื่อมาตรฐานไปยังทรัพยากรที่สามารถจองได้ หรือความสัมพันธ์แบบ N:1 ถ้าถูกสร้างขึ้นจากทรัพยากรที่สามารถจองได้ไปยังชื่อมาตรฐาน</span><span class="sxs-lookup"><span data-stu-id="849bb-147">SAs a result, you will need a 1:N relationship from Standard Title to Bookable Resource, or a N:1 relationship if it were created from Bookable Resource to Standard Title.</span></span>

1. <span data-ttu-id="849bb-148">ใน PSA คลิก **การตั้งค่า** > **โซลูชัน** จากนั้นคลิกสองครั้งที่ **\<ชื่อองค์กรของคุณ > มิติการกำหนดราคา**</span><span class="sxs-lookup"><span data-stu-id="849bb-148">In PSA, click **Settings** > **Solutions**, and then double-click **\<your organization name> pricing dimensions**.</span></span> 
2. <span data-ttu-id="849bb-149">ในตัวสำรวจโซลูชัน บนบานหน้าต่างการนำทางด้านซ้าย เลือก **เอนทิตี > ชื่อมาตรฐาน**</span><span class="sxs-lookup"><span data-stu-id="849bb-149">In Solution Explorer, on the left navigation pane, select **Entities > Standard Title**.</span></span>
3. <span data-ttu-id="849bb-150">ขยายเอนทิตี **ชื่อมาตรฐาน** และเลือก **ความสัมพันธ์แบบ 1:N**</span><span class="sxs-lookup"><span data-stu-id="849bb-150">Expand the **Standard Title** entity and select **1:N Relationships**.</span></span>
4. <span data-ttu-id="849bb-151">คลิก **สร้าง** เพื่อสร้างความสัมพันธ์แบบ 1: N ใหม่ที่เรียกว่า **ชื่อมาตรฐานไปยังทรัพยากรที่สามารถจองได้**</span><span class="sxs-lookup"><span data-stu-id="849bb-151">Click **New** to create a new 1:N relationship called **Standard Title to Bookable Resource**.</span></span> <span data-ttu-id="849bb-152">ป้อนข้อมูลที่จำเป็นให้ครบ จากนั้นคลิก **บันทึก**</span><span class="sxs-lookup"><span data-stu-id="849bb-152">Enter the required information, and then click **Save**.</span></span>

> ![การเพิ่มชื่อมาตรฐานเป็นฟิลด์อ้างอิงไปยังทรัพยากรที่สามารถจองได้](media/ST-BR.png)

<span data-ttu-id="849bb-154">ชื่อมาตรฐานจะต้องถูกเพิ่มลงในเอนทิตีการกำหนดของ Project Service **ราคาตามบทบาท** และ **ส่วนเพิ่มราคาของราคาตามบทบาท**</span><span class="sxs-lookup"><span data-stu-id="849bb-154">The Standard Title will also need to be added to Project Service Pricing entities, **Role Price** and **Role Price Markup**.</span></span> <span data-ttu-id="849bb-155">นอกจากนี้ยังเสร็จสมบูรณ์โดยใช้ความสัมพันธ์แบบ 1: N ระหว่าง **ชื่อมาตรฐาน** และเอนทิตี **ราคาตามบทบาท** และ **ชื่อมาตรฐาน** และเอนทิตี **ส่วนเพิ่มราคาของราคาตามบทบาท**</span><span class="sxs-lookup"><span data-stu-id="849bb-155">This is also completed using 1:N relationships between the **Standard Title** and **Role Price** entities and **Standard Title** and **Role Price Markup** entities.</span></span>

1. <span data-ttu-id="849bb-156">ในตัวสำรวจโซลูชัน บนบานหน้าต่างการนำทางด้านซ้าย เลือก **เอนทิตี > ชื่อมาตรฐาน**</span><span class="sxs-lookup"><span data-stu-id="849bb-156">In Solution Explorer, on the left navigation pane, select **Entities > Standard Title**.</span></span>
2. <span data-ttu-id="849bb-157">ขยายเอนทิตี **ชื่อมาตรฐาน** และเลือก **ความสัมพันธ์แบบ 1:N**</span><span class="sxs-lookup"><span data-stu-id="849bb-157">Expand the **Standard Title** entity and select **1:N Relationships**.</span></span>
3. <span data-ttu-id="849bb-158">คลิก **สร้าง** เพื่อสร้างความสัมพันธ์แบบ 1: N ใหม่ที่เรียกว่า **ชื่อมาตรฐานไปยังราคาตามบทบาท**</span><span class="sxs-lookup"><span data-stu-id="849bb-158">Click **New** to create a new 1:N relationship called **Standard Title to Role Price**.</span></span> <span data-ttu-id="849bb-159">ป้อนข้อมูลที่จำเป็นให้ครบ จากนั้นคลิก **บันทึก**</span><span class="sxs-lookup"><span data-stu-id="849bb-159">Enter the required information, and then click **Save**.</span></span>
4. <span data-ttu-id="849bb-160">ทำซ้ำขั้นตอนที่ 1-4 เพื่อสร้างความสัมพันธ์แบบ 1: N ระหว่าง **ชื่อมาตรฐาน** และเอนทิตี **ส่วนเพิ่มราคาของราคาตามบทบาท**</span><span class="sxs-lookup"><span data-stu-id="849bb-160">Repeat steps 1 - 4 to create 1:N relationships between the **Standard Title** and **Role Price Markup** entities,</span></span>

<span data-ttu-id="849bb-161">ในขั้นตอนการขายและการประมาณการสำหรับโครงการ เพื่อตั้งราคาใบเสนอราคา/โครงการการ การประเมินความพยายามในการทำงานจำเป็นสำหรับแต่ละชื่อมาตรฐาน</span><span class="sxs-lookup"><span data-stu-id="849bb-161">In the sales and estimation phases for the project, to price the Quote/Project, estimates of the work effort are required for each standard title.</span></span> <span data-ttu-id="849bb-162">ซึ่งหมายความว่าความสัมพันธ์แบบ 1: N จากชื่อมาตรฐานไปยังแต่ละเอนทิตีการประเมินเหล่านี้ใน Project Service เป็นสิ่งจำเป็น</span><span class="sxs-lookup"><span data-stu-id="849bb-162">This means that 1:N relationships from Standard Title to each of these estimation entities in Project Service are needed:</span></span> 

- <span data-ttu-id="849bb-163">**รายละเอียดบรรทัดใบเสนอราคา**</span><span class="sxs-lookup"><span data-stu-id="849bb-163">**Quote line Detail**</span></span>
- <span data-ttu-id="849bb-164">**รายละเอียดการให้บริการตามสัญญาโครงการ**</span><span class="sxs-lookup"><span data-stu-id="849bb-164">**Project Contract Line Detail**</span></span>
- <span data-ttu-id="849bb-165">**สมาชิกของทีมโครงการ**</span><span class="sxs-lookup"><span data-stu-id="849bb-165">**Project Team Member**</span></span>
- <span data-ttu-id="849bb-166">**บรรทัดการประมาณการ**</span><span class="sxs-lookup"><span data-stu-id="849bb-166">**Estimate Line**</span></span>

5. <span data-ttu-id="849bb-167">ทำซ้ำขั้นตอนที่ 1-5 เพื่อสร้างความสัมพันธ์แบบ 1: N จาก **ชื่อมาตรฐาน** ไปยัง **รายละเอียดบรรทัดใบเสนอราคา** **รายละเอียดการให้บริการตามสัญญาของโครงการ** **สมาชิกของทีมโครงการ**  และ **บรรทัดการประมาณการ**</span><span class="sxs-lookup"><span data-stu-id="849bb-167">Repeat steps 1 - 5 to create 1:N relationships from **Standard Title** to **Quote line Detail**, **Project Contract Line Detail**, **Project Team Member**, and **Estimate Line**.</span></span>

> ![การเพิ่มชื่อมาตรฐานเป็นฟิลด์อ้างอิงไปยังบรรทัดการประมาณการ](media/ST-Estimate-Line.png)

<span data-ttu-id="849bb-169">ในขั้นตอนการจัดส่งและการออกใบแจ้งหนี้ งานที่เสร็จสมบูรณ์โดยแต่ละชื่อมาตรฐานต้องมีการกำหนดราคาในจำนวนจริงของโครงการอย่างแม่นยำ</span><span class="sxs-lookup"><span data-stu-id="849bb-169">In the Delivery and Invoicing phases, the work completed by each standard title must be accurately priced on the Project Actuals.</span></span> <span data-ttu-id="849bb-170">ซึ่งหมายความว่าต้องมีความสัมพันธ์แบบ 1: N จาก **ชื่อมาตรฐาน** ไปยัง **รายการเวลา** **ค่าจริง** **รายละเอียดบรรทัดใบแจ้งหนี้** และ **เอนทิตีบรรทัดสมุดรายวัน**</span><span class="sxs-lookup"><span data-stu-id="849bb-170">This means that there needs to be 1:N relationships from **Standard Title** to **Time Entry**, **Actual**, **Invoice Line Detail**, and **Journal Line entities**.</span></span>

6. <span data-ttu-id="849bb-171">ทำซ้ำขั้นตอนที่ 1-6 เพื่อสร้างความสัมพันธ์แบบ 1: N จาก **ชื่อมาตรฐาน** ไปยัง **รายการเวลา** **ค่าจริง** **รายละเอียดบรรทัดใบแจ้งหนี้** และ **เอนทิตีบรรทัดสมุดรายวัน**</span><span class="sxs-lookup"><span data-stu-id="849bb-171">Repeat steps 1 - 6 to create 1:N relationships from **Standard Title** to **Time Entry**, **Actual**, **Invoice Line Detail**, and **Journal Line entities**.</span></span>

> ![การเพิ่มชื่อมาตรฐานเป็นฟิลด์อ้างอิงไปยังรายการเวลา](media/ST-Mapping.png)

### <a name="set-up-dimension-value-defaulting-using-the-mappings-features-of-the-platform"></a><span data-ttu-id="849bb-173">ตั้งค่าเริ่มต้นของค่ามิติโดยใช้ลักษณะการทำงานของการแม็ปของแพลตฟอร์ม</span><span class="sxs-lookup"><span data-stu-id="849bb-173">Set up Dimension value defaulting using the mappings features of the platform</span></span>
<span data-ttu-id="849bb-174">สำหรับรายการเวลา เป็นประโยชน์ที่จะมีระบบกำหนดชื่อมาตรฐานเริ่มต้นบนรายการเวลาจากทรัพยากรที่สามารถทำได้ที่มีการบันทึกรายการเวลา</span><span class="sxs-lookup"><span data-stu-id="849bb-174">For Time Entry, it would be helpful to have the system default the standard title on the Time Entry from the Bookable Resource that is recording the time entry.</span></span> <span data-ttu-id="849bb-175">ใช้ขั้นตอนต่อไปนี้ในการเพิ่มการแม็ปฟิลด์บนความสัมพันธ์แบบ 1:N จาก **ทรัพยากรที่สามารถจองได้** ไปยัง **รายการเวลา**</span><span class="sxs-lookup"><span data-stu-id="849bb-175">Use the following steps to add field mappings on the 1:N relationship from **Bookable Resource** to **Time Entry**.</span></span>

1. <span data-ttu-id="849bb-176">ในตัวสำรวจโซลูชัน บนบานหน้าต่างการนำทางด้านซ้าย เลือก **เอนทิตี > ชื่อมาตรฐาน**</span><span class="sxs-lookup"><span data-stu-id="849bb-176">In Solution Explorer, on the left navigation pane, select **Entities > Standard Title**.</span></span>
2. <span data-ttu-id="849bb-177">ขยายเอนทิตี **ชื่อมาตรฐาน** และเลือก **ความสัมพันธ์แบบ 1:N**</span><span class="sxs-lookup"><span data-stu-id="849bb-177">Expand the **Standard Title** entity and select **1:N Relationships**.</span></span>
3. <span data-ttu-id="849bb-178">คลิกสองครั้ง **ทรัพยากรที่สามารถจองได้ไปยังรายการเวลา**</span><span class="sxs-lookup"><span data-stu-id="849bb-178">Double-click **Bookable Resource to Time Entry**.</span></span> <span data-ttu-id="849bb-179">บนเพจ **ความสัมพันธ์** ให้คลิก **ใช้การแม็ปของฟิลด์**</span><span class="sxs-lookup"><span data-stu-id="849bb-179">On the **Relationship** page, click **Use Field mappings**.</span></span> 
4. <span data-ttu-id="849bb-180">คลิก **สร้าง** เพื่อสร้างการแม็ปของฟิลด์ใหม่ระหว่างฟิลด์ **ชื่อมาตรฐาน** บนเอนทิตี **ทรัพยากรที่สามารถจองได้** ไปยังฟิลด์การอ้างอิง **ชื่อมาตรฐาน** บนเอนทิตี **รายการเวลา**</span><span class="sxs-lookup"><span data-stu-id="849bb-180">Click **New** to create a new field mapping between the **Standard Title** field on the **Bookable Resource** entity to the **Standard Title** reference field on **Time Entry** entity.</span></span> 

> ![ตั้งค่าการแม็ปของฟิลด์เพื่ออนุญาตการกำหนดค่าเริ่มต้นของชื่อมาตรฐานจากทรัพยากรที่สามารถจองได้ไปยังรายการเวลา](media/ST-Mapping2.png)


<span data-ttu-id="849bb-182">ดำเนินการการเปลี่ยนแปลง Schema ที่จำเป็นสำหรับมิติข้อมูลที่กำหนดเองตามเอนทิตีจนเสร็จ</span><span class="sxs-lookup"><span data-stu-id="849bb-182">This completes the schema changes required for entity-based custom dimensions.</span></span>

##  <a name="add-custom-fields-to-forms-views-and-business-rules"></a><span data-ttu-id="849bb-183">เพิ่มฟิลด์แบบกำหนดเองลงในฟอร์ม มุมมองและกฎธุรกิจ</span><span class="sxs-lookup"><span data-stu-id="849bb-183">Add custom fields to forms, views, and business rules</span></span>

<span data-ttu-id="849bb-184">หลังจากที่คุณได้ทำการเปลี่ยนแปลง Schema ที่จำเป็นทั้งหมดแล้ว ขั้นตอนถัดไปคือทำให้ฟิลด์มองเห็นได้ใน UI โดยการเพิ่มฟิลด์ลงในฟอร์มและมุมมอง</span><span class="sxs-lookup"><span data-stu-id="849bb-184">After you have made all of the required schema changes, the next step is to make the fields visible in the UI by adding the fields to the forms and views.</span></span>

1. <span data-ttu-id="849bb-185">เปิดฟอร์มหรือมุมมอง</span><span class="sxs-lookup"><span data-stu-id="849bb-185">Open the form or the view.</span></span> <span data-ttu-id="849bb-186">บนบานหน้าต่างนำทางด้านขวา ให้เลือกฟิลด์ และลากไปยังพื้นที่ทำงานของฟอร์ม</span><span class="sxs-lookup"><span data-stu-id="849bb-186">On the right navigation pane, select the field and drag it on to the form canvas.</span></span> 
2. <span data-ttu-id="849bb-187">ถ้าคุณกำลังแก้ไขมุมมอง ให้ใช้บานหน้าต่างนำทางด้านขวา คลิก **เพิ่มฟิลด์** และในกล่องโต้ตอบ **รายการฟิลด์** ให้เลือกฟิลด์ที่คุณต้องการและคลิก **ตกลง**</span><span class="sxs-lookup"><span data-stu-id="849bb-187">If you are editing a view, use the right navigation pane, click **Add fields**, and in the **Field listing** dialog box, select the fields that you need and click **Ok**.</span></span>

<span data-ttu-id="849bb-188">ตารางต่อไปนี้แสดงรายการที่ครอบคลุมของฟอร์มและมุมมองสำเร็จรูป โดยเอนทิตี ซึ่งจะต้องมีการปรับปรุงกับฟิลด์ใหม่</span><span class="sxs-lookup"><span data-stu-id="849bb-188">The following table provides a comprehensive list of out-of-the-box forms and views, by entity, that will need to be updated with the new fields.</span></span> <span data-ttu-id="849bb-189">ถ้าคุณมีมุมมองหรือฟอร์มเพิ่มเติมใดๆ ในการกำหนดเองของคุณบนเอนทิตีเหล่านี้ ให้เพิ่มฟิลด์ใหม่ให้กับรายการเหล่านั้นด้วย</span><span class="sxs-lookup"><span data-stu-id="849bb-189">If you have any additional views or forms in your customizations on these entities, add the new fields to those as well.</span></span>

| <span data-ttu-id="849bb-190">เอนทิตี Project Service</span><span class="sxs-lookup"><span data-stu-id="849bb-190">Project Service Entity</span></span>        | <span data-ttu-id="849bb-191">ฟอร์มที่ต้องการฟิลด์ใหม่</span><span class="sxs-lookup"><span data-stu-id="849bb-191">Forms that need the new field</span></span>   |<span data-ttu-id="849bb-192">มุมมองที่ต้องการฟิลด์ใหม่</span><span class="sxs-lookup"><span data-stu-id="849bb-192">Views that need the new field</span></span>      |
| ------------------------------|---------------------------------|----------------------------------|
|  <span data-ttu-id="849bb-193">ราคาตามบทบาท</span><span class="sxs-lookup"><span data-stu-id="849bb-193">Role Price</span></span>|<span data-ttu-id="849bb-194">• ข้อมูล</span><span class="sxs-lookup"><span data-stu-id="849bb-194">• Information</span></span> |<span data-ttu-id="849bb-195">• ราคาของประเภททรัพยากรที่ใช้งาน</span><span class="sxs-lookup"><span data-stu-id="849bb-195">• Active Resource Category Prices</span></span><br> <span data-ttu-id="849bb-196">• มุมมองร่วมของราคาประเภททรัพยากร</span><span class="sxs-lookup"><span data-stu-id="849bb-196">• Resource Category Price Associated View</span></span>|
|  <span data-ttu-id="849bb-197">ส่วนเพิ่มราคาของราคาตามบทบาท</span><span class="sxs-lookup"><span data-stu-id="849bb-197">Role Price Markup</span></span>|<span data-ttu-id="849bb-198">• ข้อมูล</span><span class="sxs-lookup"><span data-stu-id="849bb-198">• Information</span></span>|<span data-ttu-id="849bb-199">• ส่วนเพิ่มราคาของราคาตามบทบาทที่ใช้งาน</span><span class="sxs-lookup"><span data-stu-id="849bb-199">• Active Role Price Markup</span></span><br><span data-ttu-id="849bb-200">• มุมมองร่วมของส่วนเพิ่มราคาสำหรับราคาตามบทบาท</span><span class="sxs-lookup"><span data-stu-id="849bb-200">• Role Price Markup Associated View</span></span>|
|  <span data-ttu-id="849bb-201">รายละเอียดบรรทัดใบเสนอราคา</span><span class="sxs-lookup"><span data-stu-id="849bb-201">Quote line detail</span></span>|<span data-ttu-id="849bb-202">• ข้อมูลโครงการ</span><span class="sxs-lookup"><span data-stu-id="849bb-202">• Project Information</span></span><br><span data-ttu-id="849bb-203">• การสร้างโครงการแบบด่วน</span><span class="sxs-lookup"><span data-stu-id="849bb-203">• Project Quick Create</span></span>|<span data-ttu-id="849bb-204">• รายละเอียดบรรทัดใบเสนอราคาที่ใช้งาน</span><span class="sxs-lookup"><span data-stu-id="849bb-204">• Active Quote Line Detail</span></span><br><span data-ttu-id="849bb-205">• รายละเอียดบรรทัดใบเสนอราคาแบบรวม</span><span class="sxs-lookup"><span data-stu-id="849bb-205">• Combined Quote Line Details</span></span><br><span data-ttu-id="849bb-206">• มุมมองร่วมของรายละเอียดบรรทัดใบเสนอราคา</span><span class="sxs-lookup"><span data-stu-id="849bb-206">• Quote Line Detail associated view</span></span>|
|  <span data-ttu-id="849bb-207">บรรทัดรายละเอียดการให้บริการตามสัญญาโครงการ</span><span class="sxs-lookup"><span data-stu-id="849bb-207">Project Contract line detail</span></span>|<span data-ttu-id="849bb-208">• ข้อมูลโครงการ</span><span class="sxs-lookup"><span data-stu-id="849bb-208">• Project Information</span></span><br><span data-ttu-id="849bb-209">• การสร้างโครงการแบบด่วน</span><span class="sxs-lookup"><span data-stu-id="849bb-209">• Project Quick Create</span></span>|<span data-ttu-id="849bb-210">• รายละเอียดที่เป็นรายละเอียดการให้บริการตามสัญญาของโครงการแบบรวม</span><span class="sxs-lookup"><span data-stu-id="849bb-210">• Combined Contract Line Details</span></span><br><span data-ttu-id="849bb-211">• รายละเอียดที่เป็นรายละเอียดการให้บริการตามสัญญาของโครงการที่ใช้งาน</span><span class="sxs-lookup"><span data-stu-id="849bb-211">• Active Contract Line Details</span></span><br><span data-ttu-id="849bb-212">• มุมมองร่วมของรายละเอียดที่เป็นรายละเอียดการให้บริการตามสัญญา</span><span class="sxs-lookup"><span data-stu-id="849bb-212">• Contract Line Details Associated View</span></span>|
|  <span data-ttu-id="849bb-213">สมาชิกของทีมโครงการ</span><span class="sxs-lookup"><span data-stu-id="849bb-213">Project Team Member</span></span>|<span data-ttu-id="849bb-214">• ข้อมูล</span><span class="sxs-lookup"><span data-stu-id="849bb-214">• Information</span></span><br><span data-ttu-id="849bb-215">• ฟอร์มใหม่</span><span class="sxs-lookup"><span data-stu-id="849bb-215">• New Form</span></span>|<span data-ttu-id="849bb-216">• สมาชิกทีมโครงการที่ใช้งาน</span><span class="sxs-lookup"><span data-stu-id="849bb-216">• Active Project Team Members</span></span><br><span data-ttu-id="849bb-217">• สมาชิกของทีมโครงการ</span><span class="sxs-lookup"><span data-stu-id="849bb-217">• Project Team Members</span></span><br><span data-ttu-id="849bb-218">• มุมมองร่วมของสมาชิกทีมโครงการ</span><span class="sxs-lookup"><span data-stu-id="849bb-218">• Project Team members associated View</span></span>|
|  <span data-ttu-id="849bb-219">รายการเวลา</span><span class="sxs-lookup"><span data-stu-id="849bb-219">Time Entry</span></span>|<span data-ttu-id="849bb-220">• ข้อมูล</span><span class="sxs-lookup"><span data-stu-id="849bb-220">• Information</span></span><br><span data-ttu-id="849bb-221">• สร้างรายการเวลา</span><span class="sxs-lookup"><span data-stu-id="849bb-221">• Create Time Entry</span></span>|<span data-ttu-id="849bb-222">• รายการเวลาของฉันตามวันที่</span><span class="sxs-lookup"><span data-stu-id="849bb-222">• My Time Entries By Date</span></span><br><span data-ttu-id="849bb-223">• รายการเวลาของฉันสำหรับสัปดาห์นี้</span><span class="sxs-lookup"><span data-stu-id="849bb-223">• My time Entries for this week</span></span><br><span data-ttu-id="849bb-224">• รายการเวลาสำหรับการอนุมัติ</span><span class="sxs-lookup"><span data-stu-id="849bb-224">• Time entries for approval</span></span>|
|  <span data-ttu-id="849bb-225">บรรทัดสมุดรายวัน</span><span class="sxs-lookup"><span data-stu-id="849bb-225">Journal Line</span></span>|<span data-ttu-id="849bb-226">• ข้อมูล</span><span class="sxs-lookup"><span data-stu-id="849bb-226">• Information</span></span><br><span data-ttu-id="849bb-227">• การสร้างด่วน</span><span class="sxs-lookup"><span data-stu-id="849bb-227">• Quick create</span></span>|<span data-ttu-id="849bb-228">• บรรทัดสมุดรายวันที่ใช้งาน</span><span class="sxs-lookup"><span data-stu-id="849bb-228">• Active journal lines</span></span><br><span data-ttu-id="849bb-229">• มุมมองร่วมของบรรทัดสมุดรายวัน</span><span class="sxs-lookup"><span data-stu-id="849bb-229">• Journal Line associated view</span></span>|
|  <span data-ttu-id="849bb-230">รายละเอียดรายการใบแจ้งหนี้</span><span class="sxs-lookup"><span data-stu-id="849bb-230">Invoice Line Detail</span></span>|<span data-ttu-id="849bb-231">• ข้อมูล</span><span class="sxs-lookup"><span data-stu-id="849bb-231">• Information</span></span><br><span data-ttu-id="849bb-232">• การสร้างด่วน</span><span class="sxs-lookup"><span data-stu-id="849bb-232">• Quick create</span></span>|<span data-ttu-id="849bb-233">• รายละเอียดบรรทัดใบแจ้งหนี้ที่ใช้งาน</span><span class="sxs-lookup"><span data-stu-id="849bb-233">• Active Invoice Line Details</span></span><br><span data-ttu-id="849bb-234">• ธุรกรรมใบแจ้งหนี้ที่คิดค่าธรรมเนียมได้</span><span class="sxs-lookup"><span data-stu-id="849bb-234">• Chargeable Invoice Transactions</span></span><br><span data-ttu-id="849bb-235">• ธุรกรรมใบแจ้งหนี้ส่วนเสริม</span><span class="sxs-lookup"><span data-stu-id="849bb-235">• Complimentary Invoice Transactions</span></span><br><span data-ttu-id="849bb-236">• มุมมองร่วมของรายละเอียดบรรทัดใบแจ้งหนี้</span><span class="sxs-lookup"><span data-stu-id="849bb-236">• Invoice Line Detail associated view</span></span><br><span data-ttu-id="849bb-237">• ธุรกรรมใบแจ้งหนี้ที่คิดค่าธรรมเนียมไม่ได้</span><span class="sxs-lookup"><span data-stu-id="849bb-237">• Non-Chargeable Invoice Transactions</span></span>|
|  <span data-ttu-id="849bb-238">ตามจริง</span><span class="sxs-lookup"><span data-stu-id="849bb-238">Actual</span></span>|<span data-ttu-id="849bb-239">• ข้อมูล</span><span class="sxs-lookup"><span data-stu-id="849bb-239">• Information</span></span><br><span data-ttu-id="849bb-240">• ข้อมูลจริงที่ใช้งาน</span><span class="sxs-lookup"><span data-stu-id="849bb-240">• Active Actuals</span></span>|<span data-ttu-id="849bb-241">• มุมมองร่วมของข้อมูลจริง</span><span class="sxs-lookup"><span data-stu-id="849bb-241">• Actual Associated view</span></span>|

<span data-ttu-id="849bb-242">ฟิลด์ที่กำหนดเองอาจจำเป็นต้องเพิ่มลงในกฎธุรกิจ โดยขึ้นอยู่กับสิ่งที่คุณได้กำหนดไว้</span><span class="sxs-lookup"><span data-stu-id="849bb-242">Custom fields may also need to be added on business rules depending on what you have defined.</span></span> <span data-ttu-id="849bb-243">ตัวอย่างสำเร็จรูปหนึ่งตัวอย่างคือสำหรับกฎธุรกิจ **ความสามารถในการแก้ไขรายการเวลาตามสถานะ**</span><span class="sxs-lookup"><span data-stu-id="849bb-243">One out-of-the-box example is for the business rule **Editability of Time Entry based on status**.</span></span> <span data-ttu-id="849bb-244">กฎนี้กำหนดว่าฟิลด์ใดจำเป็นต้องถูกล็อก เมื่อรายการเวลาอยู่ในสถานะที่ไม่สามารถแก้ไขได้ เช่น **อนุมัติแล้ว**</span><span class="sxs-lookup"><span data-stu-id="849bb-244">This rule defines which fields need to be locked when the Time Entry is in a non-editable status such as **Approved**.</span></span> <span data-ttu-id="849bb-245">เพิ่มฟิลด์ลงในกฎทางธุรกิจนี้ เพื่อให้ฟิลด์ถูกล็อกเพื่อแก้ไข เมื่อรายการเวลาอยู่ในสถานะอื่นที่ไม่ใช่ **แบบร่าง** หรือ **ถูกส่งคืน**</span><span class="sxs-lookup"><span data-stu-id="849bb-245">Add fields to this business rule so that the fields are locked for editing when the Time Entry is in a status other than **Draft** or **Returned**.</span></span>
