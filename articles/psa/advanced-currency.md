---
title: สถานการณ์หลายสกุลเงิน (รุ่น 3.x)
description: หัวข้อนี้ให้ข้อมูลเกี่ยวกับสถานการณ์หลายสกุลเงิน
author: rumant
ms.custom:
- dyn365-projectservice
ms.date: 12/26/2018
ms.topic: article
ms.author: rumant
audience: Admin
search.audienceType:
- admin
- customizer
- enduser
search.app:
- D365CE
- D365PS
- ProjectOperations
ms.reviewer: johnmichalak
ms.openlocfilehash: 2925d431258a150d5830238fb5ff365499b1b440
ms.sourcegitcommit: c0792bd65d92db25e0e8864879a19c4b93efb10c
ms.translationtype: HT
ms.contentlocale: th-TH
ms.lasthandoff: 04/14/2022
ms.locfileid: "8590185"
---
# <a name="multiple-currency-scenarios"></a>สถานการณ์หลายสกุลเงิน

[!include [banner](../includes/psa-now-project-operations.md)]

[!INCLUDE[cc-applies-to-psa-app-3.x](../includes/cc-applies-to-psa-app-3x.md)]

Microsoft Dynamics 365 มีสองแนวคิดของสกุลเงิน:

- **สกุลเงินของธุรกรรม** - สกุลเงินที่มีธุรกรรมเกิดขึ้น 
- **สกุลเงินฐาน** - สกุลเงินของอินสแตนซ์ Dynamics 365 สกุลเงินนี้ถูกตั้งค่าเมื่อมีการเตรียมใช้งานอินสแตนซ์ Dynamics 365 ไม่สามารถเปลี่ยนแปลงได้

ตัวอย่าง เช่น Contoso สหรัฐ ขายเสื้อยืด 100 ตัว ให้กับลูกค้าในสหราชอาณาจักรราคาตัวละ 15 ปอนด์สเตอร์ลิง (GBP) ตารางต่อไปนี้แสดงวิธีการบันทึกธุรกรรมนี้ในเอนทิตีผลิตภัณฑ์ในใบสั่ง

| ผลิตภัณฑ์ | ปริมาณ | ราคาต่อหน่วย | สกุลเงิน | จำนวน | อัตราแลกเปลี่ยน | ราคาต่อหน่วย (ฐาน)| จำนวนเงิน (ฐาน)|
|---------|----------|----------------|----------|--------|---------------|----------------------|--------------|
| เสื้อยืด | 100      | 15             | GBP      | 1500   | 0.94          | 17.25 ดอลลาร์สหรัฐ               | 1,725 ดอลลาร์สหรัฐ       |

คอลัมน์ **สกุลเงิน** แสดงสกุลเงินของธุรกรรมซึ่งเป็นสกุลเงินที่มีการขายเกิดขึ้น คอลัมน์ **อัตราแลกเปลี่ยน** คืออัตราแลกเปลี่ยนระหว่างสกุลเงินของธุรกรรมและสกุลเงินฐาน สกุลเงินฐานคือดอลลาร์สหรัฐ (USD) สกุลเงินฐานนี้ถูกตั้งค่าเมื่อมีการเตรียมใช้งานอินสแตนซ์ Dynamics 365
ดังที่ตารางแสดง ทุกธุรกรรมจะถูกบันทึกทั้งในสกุลเงินของธุรกรรมและสกุลเงินฐาน Dynamics 365 ใช้อัตราแลกเปลี่ยนสกุลเงินเพื่อคำนวณยอดสกุลเงินฐาน

## <a name="project-service-automation-extensions"></a>ส่วนขยาย Project Service Automation

Dynamics 365 Project Service Automation มีผลกระทบต่อสกุลเงินของธุรกรรม เนื่องจากธุรกรรมทางธุรกิจมักจะมีสองแง่มุม: ต้นทุนและการขาย

เอนทิตีต่อไปนี้จะถือเป็นธุรกรรมทางธุรกิจ:

- รายละเอียดบรรทัดใบเสนอราคา
- รายละเอียดการให้บริการตามสัญญาโครงการ
- บรรทัดการประมาณการ
- บรรทัดสมุดรายวัน
- รายละเอียดบรรทัดใบแจ้งหนี้
- ตามจริง

ในแต่ละเอนทิตีเหล่านี้ จะมีเรกคอร์ดที่แสดงถึงยอดต้นทุนหรือยอดการขาย สำหรับเอนทิตี Dynamics 365 ใดๆ ที่มีฟิลด์ **จำนวน** แต่ละเรกคอร์ดมียอดเงินในทั้งสกุลเงินของธุรกรรมและสกุลเงินฐาน 

PSA ขยายแนวคิดของสกุลเงินธุรกรรมสำหรับต้นทุนและยอดขายด้วยวิธีการดังต่อไปนี้:

- สกุลเงินของธุรกรรมต้นทุนสำหรับธุรกรรมเวลา มาจากสกุลเงินของหน่วยองค์กรที่เป็นเจ้าของหรือจัดการโครงการเสมอ หน่วยองค์กรนี้เรียกว่าหน่วยที่ทำสัญญา
- สกุลเงินธุรกรรมการขายสำหรับธุรกรรมเวลาและค่าใช้จ่าย จะมาจากสกุลเงินของสัญญาโครงการเสมอ
- สกุลเงินของธุรกรรมต้นทุนสำหรับค่าใช้จ่ายมาจากสกุลเงินที่มีการสร้างรายการค่าใช้จ่าย

## <a name="multiple-currency-scenario"></a>สถานการณ์หลายสกุลเงิน

ส่วนนี้อธิบายตัวอย่างของโครงการที่ Contoso สหราชอาณาจักร ส่งมอบให้กับลูกค้าที่ชื่อ Fabrikam ประเทศญี่ปุ่น นี่คือวิธีการตั้งค่าสถานการณ์:

1. GBP และ เยนญี่ปุ่น (JPY) มีการตั้งค่าภายใต้ **การตั้งค่า** \> **การจัดการธุรกิจ** \> **สกุลเงิน** 
2. บัญชีลูกค้าที่ชื่อ **Fabrikam - Japan** ถูกตั้งค่า และ JPY ถูกเลือกเป็นสกุลเงินในบัญชี
3. หน่วยองค์กรที่ชื่อ **Contoso UK** ถูกตั้งค่า และ GBP ถูกเลือกเป็นสกุลเงิน
4. สัญญาโครงการถูกสร้างขึ้นโดยที่ **Contoso UK** ถูกระบุว่าเป็นหน่วยที่ทำสัญญา และ **Fabrikam – ญี่ปุ่น** ถูกระบุเป็นลูกค้า
5. รายละเอียดการให้บริการตามสัญญาโครงการที่ถูกสร้าง ขึ้นอยู่กับการจัดเตรียมการเรียกเก็บเงิน สำหรับคลาสของธุรกรรมต่างๆ ในโครงการ เช่น การเรียกเก็บเงินตามเวลาเปรียบเทียบกับการเรียกเก็บเงินตามค่าใช้จ่าย
6. โครงการถูกสร้างขึ้นโดยที่ **Contoso UK** ถูกระบุเป็นหน่วยที่ทำสัญญา โครงการนี้ถูกสร้างและแม็ปกับรายละเอียดการให้บริการตามสัญญาของโครงการ


ในระหว่างการประเมินที่ใช้รายละเอียดบรรทัดใบเสนอราคา รายละเอียดรายการสัญญาโครงการ หรือบนบรรทัดการประเมินของกำหนดการ จะมีการสร้างเรกคอร์ดสองเรกคอร์ดในเอนทิตีเสมอ หนึ่งเรกคอร์ดสำหรับต้นทุน และอีกเรกคอร์ดสำหรับการขาย

- โดยค่าเริ่มต้น สกุลเงินธุรกรรมบนเรกคอร์ดต้นทุนถูกตั้งค่าเป็นสกุลเงินของหน่วยที่ทำสัญญาของโครงการ ในตัวอย่างนี้ สกุลเงินคือ GBP
- โดยค่าเริ่มต้น สกุลเงินธุรกรรมบนเรกคอร์ดการขายถูกตั้งค่าเป็นสกุลเงินของสัญญาโครงการ ในตัวอย่างนี้ สกุลเงินคือ JPY

เมื่อค่าจริงถูกสร้างขึ้นสำหรับเวลา โดยใช้รายการเวลาหรือบรรทัดสมุดรายวัน ลักษณะการทำงานต่อไปนี้จะเกิดขึ้น:

- โดยค่าเริ่มต้น สกุลเงินธุรกรรมบนเรกคอร์ดต้นทุนถูกตั้งค่าเป็นสกุลเงินของหน่วยที่ทำสัญญาของโครงการ
- โดยค่าเริ่มต้น สกุลเงินธุรกรรมบนเรกคอร์ดการขายถูกตั้งค่าเป็นสกุลเงินของสัญญาโครงการ

เมื่อค่าจริงถูกสร้างขึ้นสำหรับค่าใช้จ่าย โดยใช้รายการค่าใช้จ่ายหรือบรรทัดสมุดรายวัน ลักษณะการทำงานต่อไปนี้จะเกิดขึ้น:

- คุณสามารถบันทึกยอดค่าใช้จ่ายในสกุลเงินใดก็ได้ เลือกสกุลเงินโดยใช้ตัวเลือกสกุลเงินในเพจ **รายการค่าใช้จ่าย** หรือเพจ **บรรทัดสมุดรายวัน** โดยค่าเริ่มต้น สกุลเงินธุรกรรมสำหรับเรกคอร์ดต้นทุน ถูกตั้งค่าเป็นสกุลเงินบนรายการค่าใช้จ่าย 
- โดยค่าเริ่มต้น สกุลเงินธุรกรรมสำหรับเรกคอร์ดการขายถูก คือสกุลเงินของสัญญาโครงการ การตั้งค่าสกุลเงินนี้ ระบบจะแปลงยอดเงินธุรกรรมในสกุลเงินที่ผู้ใช้ป้อนเป็นสกุลเงินฐานเป็นอันดับแรก จากนั้นจะแปลงยอดเงินเป็นสกุลเงินของสัญญาโครงการ 

### <a name="computing-roll-ups-when-project-actuals-are-recorded-in-multiple-transaction-currencies"></a>การประมวลผลแบบเพิ่มขึ้น เมื่อมีการบันทึกโครงการที่เกิดขึ้นจริงในสกุลเงินหลายธุรกรรม

Dynamics 365 จะจัดการกับยอดเงินที่เพิ่มขึ้นในสกุลเงินอื่นโดยอัตโนมัติ นี่เป็นตัวอย่าง:

| ประเภทธุรกรรม | ชนิดธุรกรรม| Date   | ทรัพยากร | ประเภทธุรกรรม | ปริมาณ | ราคาต่อหน่วย | จำนวน      | อัตราแลกเปลี่ยน | จำนวนยอดเงินในฐาน |
|-------------------|------------------|--------|----------|----------------------|----------|--------------|-------------|---------------|----------------|
| Time              | การขายที่ยังไม่ได้เรียกเก็บเงิน   | 14 มิ.ย. | กสิณ  |                      | 8 ชม.    | 20,000 JPY    | 160,000 JPY | 123           | 1,300.81 USD    |
| Time              | การขายที่ยังไม่ได้เรียกเก็บเงิน   | 15 มิ.ย. | กสิณ  |                      | 8 ชม.    | 20,000 JPY    | 160,000 JPY | 123           | 1,300.81 USD    |
| ค่าใช้จ่าย           | การขายที่ยังไม่ได้เรียกเก็บเงิน   | 16 มิ.ย. | กสิณ  | โรงแรม                | 1 ea     | 250 EUR      | 250 EUR     | 0.94          | 265.95 USD     |
| ค่าใช้จ่าย           | การขายที่ยังไม่ได้เรียกเก็บเงิน   | 17 มิ.ย. | กสิณ  | การเช่ารถ           | 1 ea     | 150 EUR      | 150 EUR     | 0.94          | 159.57 USD     |

การคำนวณค่าการขายที่ยังไม่ได้เรียกเก็บเงินทั้งหมดในโครงการ คุณสามาสร้างฟิลด์ค่าสะสมสำหรับฟิลด์ **จำนวนเงิน** บนค่าจริงของการขายที่ยังไม่ได้เรียกเก็บเงินทีเกี่ยวข้องทั้งหมด ฟิลด์ค่าสะสม คือโครงสร้างของ Dynamics 365 ที่อนุญาตให้ใช้สำหรับสูตรแบบด่วนบนเรกคอร์ดที่เกี่ยวข้อง


[!INCLUDE[footer-include](../includes/footer-banner.md)]
