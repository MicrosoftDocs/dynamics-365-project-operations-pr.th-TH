---
title: เพิ่มฟิลด์ที่กำหนดเองในการตั้งค่าราคาและเอนทิตีธุรกรรม
description: หัวข้อนี้แสดงข้อมูลเกี่ยวกับการเพิ่มฟิลด์ที่กำหนดเองสำหรับการตั้งค่าราคาและเอนทิตี้ทางธุรกรรม
author: Rumant
ms.custom:
- dyn365-projectservice
ms.date: 10/01/2020
ms.topic: article
ms.author: rumant
audience: Admin
search.audienceType:
- admin
- customizer
- enduser
search.app:
- D365PS
- ProjectOperations
ms.openlocfilehash: 0eebafe8b4ce54c6ad6ca64200caea8fa414f6cf
ms.sourcegitcommit: 40f68387f594180af64a5e5c748b6efa188bd300
ms.translationtype: HT
ms.contentlocale: th-TH
ms.lasthandoff: 05/10/2021
ms.locfileid: "6007569"
---
# <a name="add-custom-fields-to-price-setup-and-transactional-entities"></a>เพิ่มฟิลด์ที่กำหนดเองในการตั้งค่าราคาและเอนทิตีธุรกรรม 

[!include [banner](../includes/psa-now-project-operations.md)]

หัวข้อนี้สันนิษฐานว่า คุณได้ทำตามขั้นตอนในหัวข้อเสร็จสมบูรณ์แล้ว [ให้สร้างฟิลด์และเอนทิตีแบบกำหนดเอง](create-custom-fields-entities.md) ถ้าคุณยังไม่ได้ดำเนินการตามขั้นตอนเหล่านั้น ให้ย้อนกลับและทำให้เสร็จสมบูรณ์แล้วกลับมายังหัวข้อนี้ 

ในหัวข้อนี้ กระบวนงานจะแสดงวิธีการเพิ่มการอ้างอิงฟิลด์แบบกำหนดเองที่จำเป็นไปยังเอนทิตี และองค์ประกอบของส่วนติดต่อผู้ใช้ (UI) เช่น ฟอร์ม และมุมมอง

## <a name="add-custom-pricing-dimension-fields"></a>เพิ่มฟิลด์มิติการกำหนดราคาแบบกำหนดเอง 
หลังจากที่สร้างฟิลด์และเอนทิตีแบบกำหนดเองแล้ว ขั้นตอนถัดไปคือทำให้การตั้งค่าราคาและเอนทิตีธุรกรรมตระหนักถึงเอนทิตีแบบกำหนดเองหรือชุดตัวเลือกใดๆ โดยการสร้างฟิลด์อ้างอิง ขึ้นอยู่กับว่ารายการมิติการกำหนดราคาของคุณรวมมิติชุดตัวเลือกหรือมิติของเอนทิตีหรือทั้งสองอย่าง ให้ทำตามขั้นตอนใน **มิติการกำหนดราคาแบบกำหนดเองตามชุดตัวเลือก** หรือ **มิติการกำหนดราคาแบบกำหนดเองตามเอนทิตี** หรือทั้งสองอย่าง ตามลำดับ

### <a name="option-set-based-custom-pricing-dimensions"></a>มิติการกำหนดราคาแบบกำหนดเองตามชุดตัวเลือก
เมื่อมิติการกำหนดราคาแบบกำหนดเองเป็นแบบตามชุดตัวเลือก ให้เพิ่มเป็นฟิลด์สำหรับเอนทิตีของ Project Service ที่สำคัญ ในกระบวนงานต่อไปนี้ **สถานที่ทำงานของทรัพยากร** และ **ชั่วโมงทำงานของทรัพยากร** จะถูกใช้เป็นมิติการกำหนดราคาตามชุดตัวเลือก สิ่งเหล่านี้ต้องถูกเพิ่มเป็นฟิลด์ไปยังเอนทิตีการกำหนดราคา **ราคาตามบทบาท** และ **ส่วนเพิ่มราคาของราคาตามบทบาท**

1. ใน Project Service Automation (PSA) คลิก **การตั้งค่า** > **โซลูชัน** จากนั้นดับเบิลคลิกที่ **มิติการกำหนดราคาของ \<your organization name>** 
2. ในตัวสำรวจโซลูชัน บนบานหน้าต่างการนำทางด้านซ้าย เลือก **เอนทิตี > ราคาตามบทบาท**
3. ขยาย **ราคาตามบทบาท** เอนทิตี และเลือก **ฟิลด์**
4. คลิก **สร้าง** เพื่อสร้างฟิลด์ใหม่ที่เรียกว่า **สถานที่ทำงานของทรัพยากร** และเลือก **ชุดตัวเลือก** เป็นชนิดของฟิลด์ 
5. เลือก **ใช้ชุดตัวเลือกที่มีอยู่** แล้วเลือกชุดตัวเลือก **สถานที่ทำงานของทรัพยากร** แล้วคลิก **บันทึก**
6. ทำซ้ำขั้นตอนที่ 1-5 เพื่อเพิ่มฟิลด์นี้ลงในเอนทิตี **ส่วนเพิ่มราคาของราคาตามบทบาท** 
7. ทำซ้ำขั้นตอนที่ 1-5 สำหรับชุดตัวเลือก **ชั่วโมงทำงานของทรัพยากร**

> [!IMPORTANT]
> เมื่อคุณเพิ่มฟิลด์ลงในเอนทิตีมากกว่าหนึ่งเอนทิตี ให้ใช้ชื่อฟิลด์เดียวกันในเอนทิตีทั้งหมด 

> ![การเพิ่มสถานที่ทำงานของทรัพยากรให้กับราคาตามบทบาท](media/RWL-Field.png)

ในขั้นตอนการขายและการประเมินสำหรับโครงการ การประเมินความพยายามในการทำงานที่จำเป็นสำหรับการทำงาน **ท้องถิ่น** และ **นอกสถานที่** ให้เสร็จสมบูรณ์ ใน **ชั่วโมงปกติ** และ **ชั่วโมงล่วงเวลา**  จะถูกใช้ประเมินมูลค่าของใบเสนอราคาหรือโครงการ ฟิลด์ **สถานที่ทำงานของทรัพยากร** และ **ชั่วโมงการทำงานของทรัพยากร** จะถูกเพิ่มลงในเอนทิตีการประเมิน **รายละเอียดรายการใบเสนอราคา**, **รายละเอียดที่เป็นรายละเอียดการให้บริการตามสัญญา**, **งานโครงการ**, **สมาชิกของทีมโครงการ** และ **รายการการประมาณการ**

1. ใน PSA คลิก **การตั้งค่า** > **แนวทางแก้ไข** แล้วดับเบิลคลิก **มิติการกำหนดราคาของ \<your organization name>** 
2. ในตัวสำรวจโซลูชัน บนบานหน้าต่างการนำทางด้านซ้าย เลือก **เอนทิตี > รายละเอียดรายการใบเสนอราคา**
3. ขยายเอนทิตี **รายละเอียดบรรทัดใบเสนอราคา** และเลือก **ฟิลด์**
4. คลิก **สร้าง** เพื่อสร้างฟิลด์ใหม่ที่เรียกว่า **สถานที่ทำงานของทรัพยากร** และเลือกชนิดของฟิลด์ **ชุดตัวเลือก** 
5. เลือก **ใช้ชุดตัวเลือกที่มีอยู่** และ **สถานที่ทำงานของทรัพยากร** แล้วคลิก **บันทึก**
6. ทำซ้ำขั้นตอนที่ 1-5 เพื่อเพิ่มฟิลด์นี้ในเอนทิตี **รายละเอียดการให้บริการตามสัญญาของโครงการ**,**งานโครงการ**, **สมาชิกของทีมโครงการ** และ **รายการการประมาณการ**
7. ทำซ้ำขั้นตอนที่ 1-6 สำหรับชุดตัวเลือก **ชั่วโมงทำงานของทรัพยากร** 

> ![การเพิ่มสถานที่ทำงานของทรัพยากรให้กับบรรทัดการประมาณการ](media/RWL-Default-Value.png)


สำหรับการจัดส่งและการออกใบแจ้งหนี้ งานที่เสร็จสมบูรณ์จะต้องมีการกำหนดราคาอย่างถูกต้อง เพื่อเลือกว่าจะดำเนินการ **ภายใน** หรือ **นอกสถานที่** **การใน** และไม่ว่าจะเสร็จสมบูรณ์ในระหว่าง **ชั่วโมงปกติ** จำนวนจริงของโครงการ ฟิลด์ **สถานที่ทำงานของทรัพยากร** และ **ชั่วโมงทำงานของทรัพยากร** ควรเพิ่มลงในเอนทิตี **รายการเวลา** **ค่าจริง** **รายละเอียดรายการใบแจ้งหนี้** และ **รายการสมุดรายวัน**

1. ใน PSA คลิก **การตั้งค่า** > **แนวทางแก้ไข** แล้วดับเบิลคลิก **มิติการกำหนดราคาของ \<your organization name>**
2. ในตัวสำรวจโซลูชัน บนบานหน้าต่างการนำทางด้านซ้าย เลือก  **เอนทิตี > รายการเวลา**
3. ขยายเอนทิตี **รายละเอียดบรรทัดใบเสนอราคา** และเลือก **ฟิลด์**
4. คลิก **สร้าง** เพื่อสร้างฟิลด์ใหม่ที่เรียกว่า **สถานที่ทำงานของทรัพยากร** และเลือก **ชุดตัวเลือก** เป็นชนิดของฟิลด์ 
5. เลือก **ใช้ชุดตัวเลือกที่มีอยู่** แล้วเลือกชุดตัวเลือก **สถานที่ทำงานของทรัพยากร** แล้วคลิก **บันทึก**
6. ทำซ้ำขั้นตอนที่ 1-5 เพื่อเพิ่มฟิลด์นี้ไปยัง **ค่าจริง** **รายละเอียดบรรทัดใบแจ้งหนี้** และเอนทิตี **บรรทัดสมุดรายวัน**
7. ทำซ้ำขั้นตอนที่ 1-6 สำหรับชุดตัวเลือก **ชั่วโมงทำงานของทรัพยากร** 

> ![การเพิ่มสถานที่ทำงานของทรัพยากรให้กับราคาเวลา](media/RWL-time-entry.png)

ดำเนินการการเปลี่ยนแปลง Schema ที่จำเป็นสำหรับมิติข้อมูลที่กำหนดเองตามชุดตัวเลือกจนเสร็จ

## <a name="entity-based-custom-pricing-dimensions"></a>มิติการกำหนดราคาแบบกำหนดเองตามเอนทิตี

เมื่อมิติการกำหนดราคาแบบกำหนดเองเป็นเอนทิตี คุณจะเพิ่มความสัมพันธ์แบบ 1: N ระหว่างเอนทิตีมิติและเอนทิตีของ Project Service ที่สำคัญ การใช้ตัวอย่างชื่อเรื่องมาตรฐานจากด้านบน มีความเหมาะสมที่คาดหวังว่าพนักงานแต่ละคนจะได้รับการกำหนดชื่อมาตรฐาน ผลลัพธ์ที่ได้ คุณจะต้องมีความสัมพันธ์แบบ 1: N จากชื่อมาตรฐานไปยังทรัพยากรที่สามารถจองได้ หรือความสัมพันธ์แบบ N:1 ถ้าถูกสร้างขึ้นจากทรัพยากรที่สามารถจองได้ไปยังชื่อมาตรฐาน

1. ใน PSA คลิก **การตั้งค่า** > **แนวทางแก้ไข** แล้วดับเบิลคลิก **มิติการกำหนดราคาของ \<your organization name>** 
2. ในตัวสำรวจโซลูชัน บนบานหน้าต่างการนำทางด้านซ้าย เลือก **เอนทิตี > ชื่อมาตรฐาน**
3. ขยายเอนทิตี **ชื่อมาตรฐาน** และเลือก **ความสัมพันธ์แบบ 1:N**
4. คลิก **สร้าง** เพื่อสร้างความสัมพันธ์แบบ 1: N ใหม่ที่เรียกว่า **ชื่อมาตรฐานไปยังทรัพยากรที่สามารถจองได้** ป้อนข้อมูลที่จำเป็นให้ครบ จากนั้นคลิก **บันทึก**

> ![การเพิ่มชื่อมาตรฐานเป็นฟิลด์อ้างอิงไปยังทรัพยากรที่สามารถจองได้](media/ST-BR.png)

ชื่อมาตรฐานจะต้องถูกเพิ่มลงในเอนทิตีการกำหนดของ Project Service **ราคาตามบทบาท** และ **ส่วนเพิ่มราคาของราคาตามบทบาท** นอกจากนี้ยังเสร็จสมบูรณ์โดยใช้ความสัมพันธ์แบบ 1: N ระหว่าง **ชื่อมาตรฐาน** และเอนทิตี **ราคาตามบทบาท** และ **ชื่อมาตรฐาน** และเอนทิตี **ส่วนเพิ่มราคาของราคาตามบทบาท**

1. ในตัวสำรวจโซลูชัน บนบานหน้าต่างการนำทางด้านซ้าย เลือก **เอนทิตี > ชื่อมาตรฐาน**
2. ขยายเอนทิตี **ชื่อมาตรฐาน** และเลือก **ความสัมพันธ์แบบ 1:N**
3. คลิก **สร้าง** เพื่อสร้างความสัมพันธ์แบบ 1: N ใหม่ที่เรียกว่า **ชื่อมาตรฐานไปยังราคาตามบทบาท** ป้อนข้อมูลที่จำเป็นให้ครบ จากนั้นคลิก **บันทึก**
4. ทำซ้ำขั้นตอนที่ 1-4 เพื่อสร้างความสัมพันธ์แบบ 1: N ระหว่าง **ชื่อมาตรฐาน** และเอนทิตี **ส่วนเพิ่มราคาของราคาตามบทบาท**

ในขั้นตอนการขายและการประมาณการสำหรับโครงการ เพื่อตั้งราคาใบเสนอราคา/โครงการการ การประเมินความพยายามในการทำงานจำเป็นสำหรับแต่ละชื่อมาตรฐาน ซึ่งหมายความว่าความสัมพันธ์แบบ 1: N จากชื่อมาตรฐานไปยังแต่ละเอนทิตีการประเมินเหล่านี้ใน Project Service เป็นสิ่งจำเป็น 

- **รายละเอียดรายการใบเสนอราคา**
- **รายการรายละเอียดการให้บริการตามสัญญาโครงการ**
- **งานโครงการ**
- **สมาชิกของทีมโครงการ**
- **บรรทัดการประมาณการ**

5. ทำซ้ำขั้นตอนที่ 1-5 เพื่อสร้างความสัมพันธ์แบบ 1: N จาก **ชื่อมาตรฐาน** ไปยัง **รายละเอียดรายการใบเสนอราคา**, **รายละเอียดการให้บริการตามสัญญาของโครงการ**, **งานโครงการ**, **สมาชิกของทีมโครงการ** และ **รายการการประมาณการ**

> ![การเพิ่มชื่อมาตรฐานเป็นฟิลด์อ้างอิงไปยังบรรทัดการประมาณการ](media/ST-Estimate-Line.png)

ในขั้นตอนการจัดส่งและการออกใบแจ้งหนี้ งานที่เสร็จสมบูรณ์โดยแต่ละชื่อมาตรฐานต้องมีการกำหนดราคาในจำนวนจริงของโครงการอย่างแม่นยำ ซึ่งหมายความว่าต้องมีความสัมพันธ์แบบ 1: N จาก **ชื่อมาตรฐาน** ไปยัง **รายการเวลา** **ค่าจริง** **รายละเอียดรายการใบแจ้งหนี้** และ **เอนทิตีรายการสมุดรายวัน**

6. ทำซ้ำขั้นตอนที่ 1-6 เพื่อสร้างความสัมพันธ์แบบ 1: N จาก **ชื่อมาตรฐาน** ไปยัง **รายการเวลา** **ค่าจริง** **รายละเอียดบรรทัดใบแจ้งหนี้** และ **เอนทิตีบรรทัดสมุดรายวัน**

> ![การเพิ่มชื่อมาตรฐานเป็นฟิลด์อ้างอิงไปยังรายการเวลา](media/ST-Mapping.png)

### <a name="set-up-dimension-value-defaulting-using-the-mappings-features-of-the-platform"></a>ตั้งค่าเริ่มต้นของค่ามิติโดยใช้ลักษณะการทำงานของการแม็ปของแพลตฟอร์ม
สำหรับรายการเวลา เป็นประโยชน์ที่จะมีระบบกำหนดชื่อมาตรฐานเริ่มต้นบนรายการเวลาจากทรัพยากรที่สามารถทำได้ที่มีการบันทึกรายการเวลา ใช้ขั้นตอนต่อไปนี้ในการเพิ่มการแม็ปฟิลด์บนความสัมพันธ์แบบ 1:N จาก **ทรัพยากรที่สามารถจองได้** ไปยัง **รายการเวลา**

1. ในตัวสำรวจโซลูชัน บนบานหน้าต่างการนำทางด้านซ้าย เลือก **เอนทิตี > ชื่อมาตรฐาน**
2. ขยายเอนทิตี **ชื่อมาตรฐาน** และเลือก **ความสัมพันธ์แบบ 1:N**
3. คลิกสองครั้ง **ทรัพยากรที่สามารถจองได้ไปยังรายการเวลา** บนเพจ **ความสัมพันธ์** ให้คลิก **ใช้การแม็ปของฟิลด์** 
4. คลิก **สร้าง** เพื่อสร้างการแม็ปของฟิลด์ใหม่ระหว่างฟิลด์ **ชื่อมาตรฐาน** บนเอนทิตี **ทรัพยากรที่สามารถจองได้** ไปยังฟิลด์การอ้างอิง **ชื่อมาตรฐาน** บนเอนทิตี **รายการเวลา** 

> ![ตั้งค่าการแม็ปของฟิลด์เพื่ออนุญาตการกำหนดค่าเริ่มต้นของชื่อมาตรฐานจากทรัพยากรที่สามารถจองได้ไปยังรายการเวลา](media/ST-Mapping2.png)


ดำเนินการการเปลี่ยนแปลง Schema ที่จำเป็นสำหรับมิติข้อมูลที่กำหนดเองตามเอนทิตีจนเสร็จ

##  <a name="add-custom-fields-to-forms-views-and-business-rules"></a>เพิ่มฟิลด์แบบกำหนดเองลงในฟอร์ม มุมมองและกฎธุรกิจ

หลังจากที่คุณได้ทำการเปลี่ยนแปลง Schema ที่จำเป็นทั้งหมดแล้ว ขั้นตอนถัดไปคือทำให้ฟิลด์มองเห็นได้ใน UI โดยการเพิ่มฟิลด์ลงในฟอร์มและมุมมอง

1. เปิดฟอร์มหรือมุมมอง บนบานหน้าต่างนำทางด้านขวา ให้เลือกฟิลด์ และลากไปยังพื้นที่ทำงานของฟอร์ม 
2. ถ้าคุณกำลังแก้ไขมุมมอง ให้ใช้บานหน้าต่างนำทางด้านขวา คลิก **เพิ่มฟิลด์** และในกล่องโต้ตอบ **รายการฟิลด์** ให้เลือกฟิลด์ที่คุณต้องการและคลิก **ตกลง**

ตารางต่อไปนี้แสดงรายการที่ครอบคลุมของฟอร์มและมุมมองสำเร็จรูป โดยเอนทิตี ซึ่งจะต้องมีการปรับปรุงกับฟิลด์ใหม่ ถ้าคุณมีมุมมองหรือฟอร์มเพิ่มเติมใดๆ ในการกำหนดเองของคุณบนเอนทิตีเหล่านี้ ให้เพิ่มฟิลด์ใหม่ให้กับรายการเหล่านั้นด้วย

| เอนทิตี Project Service        | ฟอร์มที่ต้องการฟิลด์ใหม่   |มุมมองที่ต้องการฟิลด์ใหม่      |
| ------------------------------|---------------------------------|----------------------------------|
|  ราคาตามบทบาท|• ข้อมูล |• ราคาของประเภททรัพยากรที่ใช้งาน<br> • มุมมองร่วมของราคาประเภททรัพยากร|
|  ส่วนเพิ่มราคาของราคาตามบทบาท|• ข้อมูล|• ส่วนเพิ่มราคาของราคาตามบทบาทที่ใช้งาน<br>• มุมมองร่วมของส่วนเพิ่มราคาสำหรับราคาตามบทบาท|
|  รายละเอียดรายการใบเสนอราคา|• ข้อมูลโครงการ<br>• การสร้างโครงการแบบด่วน|• รายละเอียดรายการใบเสนอราคาที่ใช้งาน<br>• รายละเอียดรายการใบเสนอราคาแบบรวม<br>• มุมมองร่วมของรายละเอียดรายการใบเสนอราคา|
|  รายการรายละเอียดการให้บริการตามสัญญาโครงการ|• ข้อมูลโครงการ<br>• การสร้างโครงการแบบด่วน|• รายละเอียดที่เป็นรายละเอียดการให้บริการตามสัญญาของโครงการแบบรวม<br>• รายละเอียดที่เป็นรายละเอียดการให้บริการตามสัญญาของโครงการที่ใช้งาน<br>• มุมมองร่วมของรายละเอียดที่เป็นรายละเอียดการให้บริการตามสัญญา|
|  งานโครงการ|• ข้อมูล<br>• ฟอร์มใหม่||
|  สมาชิกของทีมโครงการ|• ข้อมูล<br>• ฟอร์มใหม่|• สมาชิกทีมโครงการที่ใช้งาน<br>• สมาชิกของทีมโครงการ<br>• มุมมองร่วมของสมาชิกทีมโครงการ|
|  รายการเวลา|• ข้อมูล<br>• สร้างรายการเวลา|• รายการเวลาของฉันตามวันที่<br>• รายการเวลาของฉันสำหรับสัปดาห์นี้<br>• รายการเวลาสำหรับการอนุมัติ|
|  รายการสมุดรายวัน|• ข้อมูล<br>• การสร้างด่วน|• รายการสมุดรายวันที่ใช้งาน<br>• มุมมองร่วมของรายการสมุดรายวัน|
|  รายละเอียดรายการใบแจ้งหนี้|• ข้อมูล<br>• การสร้างด่วน|• รายละเอียดรายการใบแจ้งหนี้ที่ใช้งาน<br>• ธุรกรรมใบแจ้งหนี้ที่คิดค่าธรรมเนียมได้<br>• ธุรกรรมใบแจ้งหนี้ส่วนเสริม<br>• มุมมองร่วมของรายละเอียดรายการใบแจ้งหนี้<br>• ธุรกรรมใบแจ้งหนี้ที่คิดค่าธรรมเนียมไม่ได้|
|  ตามจริง|• ข้อมูล<br>• ข้อมูลจริงที่ใช้งาน|• มุมมองร่วมของข้อมูลจริง|

ฟิลด์ที่กำหนดเองอาจจำเป็นต้องเพิ่มลงในกฎธุรกิจ โดยขึ้นอยู่กับสิ่งที่คุณได้กำหนดไว้ ตัวอย่างสำเร็จรูปหนึ่งตัวอย่างคือสำหรับกฎธุรกิจ **ความสามารถในการแก้ไขรายการเวลาตามสถานะ** กฎนี้กำหนดว่าฟิลด์ใดจำเป็นต้องถูกล็อก เมื่อรายการเวลาอยู่ในสถานะที่ไม่สามารถแก้ไขได้ เช่น **อนุมัติแล้ว** เพิ่มฟิลด์ลงในกฎทางธุรกิจนี้ เพื่อให้ฟิลด์ถูกล็อกเพื่อแก้ไข เมื่อรายการเวลาอยู่ในสถานะอื่นที่ไม่ใช่ **แบบร่าง** หรือ **ถูกส่งคืน**


[!INCLUDE[footer-include](../includes/footer-banner.md)]