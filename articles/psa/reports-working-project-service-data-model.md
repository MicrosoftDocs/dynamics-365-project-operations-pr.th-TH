---
title: การทำงานกับแบบจำลองข้อมูล Project Service Automation
description: หัวข้อนี้แสดงข้อมูลเกี่ยวกับวิธีการทำงานกับแบบจำลองข้อมูล
author: ruhercul
ms.custom:
- dyn365-projectservice
ms.date: 03/01/2019
ms.topic: article
ms.author: ruhercul
audience: Admin
search.audienceType:
- admin
- customizer
- enduser
search.app:
- D365CE
- D365PS
- ProjectOperations
ms.openlocfilehash: 375850b893b7afead8371824606b422d3f36c36de4da908fdf76666bd1b415ee
ms.sourcegitcommit: 7f8d1e7a16af769adb43d1877c28fdce53975db8
ms.translationtype: HT
ms.contentlocale: th-TH
ms.lasthandoff: 08/06/2021
ms.locfileid: "7002444"
---
# <a name="working-with-the-project-service-automation-data-model"></a>การทำงานกับแบบจำลองข้อมูล Project Service Automation

[!include [banner](../includes/psa-now-project-operations.md)]

[!INCLUDE[cc-applies-to-psa-app-3.x](../includes/cc-applies-to-psa-app-3x.md)]
[!include [rename-banner](~/includes/cc-data-platform-banner.md)]

Dynamics 365 Project Service Automation ขยายเอนทิตีแอปอื่นๆและแนะนำเอนทิตีของตัวเองในแบบจำลองข้อมูล Common Data Service หัวข้อนี้อธิบายถึงเอนทิตีบางอย่างที่คุณจะพบในสถานการณ์การรายงานของ PSA ทั่วไป

## <a name="reporting-on-opportunities"></a>การรายงานเกี่ยวกับโอกาสทางการขาย

Project Service Automation ขยายเอนทิตีของ **โอกาสทางการขาย** Dynamics 365 Sales โดยการเพิ่มฟิลด์ที่เปิดใช้งานสถานการณ์จำลองตามโครงการ ฟิลด์เหล่านี้จะถูกระบุโดยชื่อ schema ที่ถูกนำหน้าด้วย **msdyn\_** หนึ่งฟิลด์ใหม่ที่มีความสำคัญสำหรับการรายงานเกี่ยวกับโอกาสของ PSA คือ **ชนิดใบสั่ง** ค่าของ **งานที่ยึดตาม** สำหรับฟิลด์นี้บ่งชี้ว่าโอกาสทางการขายเป็นโอกาสทางการขายของ PSA ฟิลด์อื่นๆที่ถูกเพิ่มเข้าไปในเอนทิตีได้แก่ **การทำสัญญาองค์กร** ซึ่งจะบันทึกองค์กรที่มีโอกาสทางการขายและ **ผู้จัดการลูกค้าองค์กร** ซึ่งบันทึกชื่อของผู้จัดการลูกค้าองค์กรที่รับผิดชอบต่อโอกาสทางการขาย

เอนทิตี **รายการโอกาสทางการขาย** ยังรวมถึงฟิลด์ที่เกี่ยวข้องกับ Project Service **วิธีการเรียกเก็บเงิน** บ่งชี้ว่ารายงานโอกาสทางการขายควรถูกเรียกเก็บเงินบนพื้นฐานเวลาและวัสดุหรือพื้นฐานราคาคงที่และ **โครงการ** จะบันทึกชื่อของโครงการที่มีการสำรองโอกาสทางการขาย ฟิลด์อื่นๆที่คุณสามารถรายงานเกี่ยวกับการบันทึกต้นทุนและยอดเงินงบประมาณของลูกค้าสำหรับสินค้าในรายการ

## <a name="reporting-on-quotes"></a>การรายงานเกี่ยวกับใบเสนอราคา

PSA ขยายเอนทิตี **ใบเสนอราคา** ขายโดยการเพิ่มฟิลด์ที่เกี่ยวข้องกับโครงการ **ชนิดใบสั่ง** จะแยกใบเสนอราคา PSA จากใบเสนอราคาที่ไม่ใช่ PSA ค่าของ **งานที่ยึดตาม** สำหรับฟิลด์นี้บ่งชี้ว่าใบเสนอราคาเป็นใบเสนอราคาของ PSA ฟิลด์อื่นๆที่สามารถเกี่ยวข้องกับการรายงานเกี่ยวกับใบเสนอราคา PSA รวมจำนวนฟิลด์เช่น **ต้นทุนที่คิดค่าธรรมเนียมได้** **ต้นทุนที่ไมาสามารถคิดค่าธรรมเนียมได้** **กำไรขั้นต้น** **การประมาณการ** และ **งบประมาณ** ฟิลด์ที่มีประโยชน์อื่นๆบ่งชี้ว่าไม่ว่าใบเสนอราคามีผลกำไร ไม่ว่าจะเป็นการเสร็จสิ้นตามหมายกำหนดการให้บริการ และไม่ว่าจะเป็นไปตามความคาดหวังของงบประมาณของลูกค้า

PSA ยังขยายเอนทิตี **รายการใบเสนอราคา** ขายด้วย ฟิลด์หนึ่งที่ PSA เพิ่มเป็น **วิธีการเรียกเก็บเงิน** ซึ่งบ่งชี้ว่ารายการใบเสนอราคาจะถูกเรียกเก็บเงินอย่างไร (เวลาและวัสดุหรือราคาคงที่) ฟิลด์อื่นๆที่ได้เพิ่มเข้าในเอนทิตีจะบันทึกโครงการที่เกี่ยวข้องเป็นการสำรองรายการใบเสนอราคา การออกใบแจ้งหนี้ ต้นทุน และงบประมาณ

PSA ยังเพิ่มเอนทิตีที่เกี่ยวข้องกับใบเสนอราคาใหม่ให้กับแบบจำลองข้อมูลของ Dynamics 365 ด้วย นี่คือตัวอย่าง:

- **รายละเอียดรายการใบเสนอราคา** – เอนทิตีนี้ประกอบด้วยรายละเอียดการประเมินโครงการของรายการใบเสนอราคา มีสองเรกคอร์ดสำหรับแต่ละรายการใบเสนอราคา หนึ่งเรกคอร์ดจะจัดเก็บต้นทุนและรายละเอียดของต้นทุนของรายการใบเสนอราคาและเรกคอร์ดอื่นๆจะจัดเก็บยอดขายและรายละเอียดการขายของรายการใบเสนอราคา
- **หมายกำหนดการให้บริการใบแจ้งหนี้รายการใบเสนอราคา** – เอนทิตีนี้ประกอบด้วยหมายกำหนดการให้บริการการเรียกเก็บเงินสำหรับรายการใบเสนอราคา หมายกำหนดการให้บริการนี้จะถูกสร้างขึ้นตามความถี่ของการออกใบแจ้งหนี้ที่มอบหมายให้กับรายการใบเสนอราคา
- **เหตุการณ์สำคัญของรายการใบเสนอราคา** – เอนทิตีนี้ประกอบด้วยเหตุการณ์การเรียกเก็บเงินสำหรับรายการใบเสนอราคาของราคาที่คงที่
- **รายละเอียดแยกย่อยของการวิเคราะห์รายการใบเสนอราคา** – เอนทิตีนี้ประกอบด้วยรายละเอียดทางการเงินของรายการใบเสนอราคา รายละเอียดเหล่านี้มีประโยชน์สำหรับการรายงานยอดขายที่มีการเสนอราคาและจำนวนต้นทุนโดยประมาณตามมิติต่างๆ

เอนทิตีอื่นๆที่ PSA เพิ่มไปยังใบเสนอราคาคือ **รายการราคาของโครงการรายการใบเสนอ** **ประเภททรัพยากรในรายการใบเสนอราคา** และ **ประเภทธุรกรรมของรายการใบเสนอราคา**

![แผนภาพที่แสดงใบเสนอราคา บรรทัดใบเสนอราคา และความสัมพันธ์ของโครงการ](media/PS-Reporting-image2.png "แผนภาพที่แสดงใบเสนอราคา บรรทัดใบเสนอราคา และความสัมพันธ์ของโครงการ")

## <a name="reporting-on-project-contracts"></a>การรายงานเกี่ยวกับสัญญาโครงการ

PSA จะขยายเอนทิตี **ใบสั่ง** ขายที่ใช้เมื่อมีสัญญาโครงการมีการบันทึกไว้แล้ว โดยจะเพิ่มฟิลด์ใหม่ที่สำคัญ **ชนิดใบสั่ง** ที่ระบุสัญญาเป็นสัญญาโครงการ PSA แทนที่จะเป็นใบสั่งขาย ค่าของ **งานที่ยึดตาม** สำหรับฟิลด์นี้บ่งชี้ว่าใบสั่งเป็นสัญญาโครงการ PSA ฟิลด์ใหม่อื่นๆที่ถูกเพิ่มไปยังรายละเอียดเอนทิตี **ใบสั่ง** ซึ่งบันทึกรายละเอียดเกี่ยวกับต้นทุน สถานะสัญญา PSA และองค์กรที่เป็นเจ้าของสัญญา

PSA ยังขยายเอนทิตี **รายการใบสั่งขาย** ด้วย ท่ามกลางฟิลด์ที่จะเพิ่มเป็นฟิลด์ที่จับันทึกวิธีการเรียกเก็บเงิน (เวลาและวัสดุหรือราคาคงที่) ยอดเงินงบประมาณของลูกค้า และโครงการต้นแบบ

นอกจากนี้ PSA ยังเพิ่มเอนทิตีใหม่ที่ออกแบบมาสำหรับสัญญาโครงการด้วย นี่คือตัวอย่าง:

- **รายละเอียดของรายการสัญญาโครงการ** – เอนทิตีนี้ประกอบด้วยรายละเอียดระดับรายการที่สะสมจนถึงยอดจำนวนรายการสัญญา รายการเหล่านี้สามารถมีรายละเอียดเหมือนกับรายการสินค้าที่สร้างขึ้นจากหมายกำหนดการให้บริการโครงการที่ระดับงาน
- **หมายกำหนดการให้บริการใบแจ้งหนี้รายละเอียดการให้บริการตามสัญญา** – เอนทิตีนี้ประกอบด้วยหมายกำหนดการให้บริการการเรียกเก็บเงินที่สร้างขึ้นตามความถี่ของใบแจ้งหนี้ที่มอบหมายให้กับรายละเอียดการให้บริการตามสัญญา
- **เหตุการณ์สำคัญของสัญญา** – เอนทิตีนี้ประกอบด้วยเหตุการณ์การเรียกเก็บเงินสำหรับรายละเอียดการให้บริการตามสัญญาที่มีเงื่อนไขการเรียกเก็บเงินที่มีราคาคงที่

เอนทิตีอื่นๆที่ PSA เพิ่มไปยังสัญญาคือ **รายการราคาของโครงการทีมีรายละเอียดการให้บริการตามสัญญาของโครงการ** **ประเภททรัพยากรในรายละเอียดการให้บริการตามสัญญาโครงการ** และ **ประเภทธุรกรรมของรายละเอียดการให้บริการตามสัญญาโครงการ**

![แผนภาพที่แสดงใบสั่ง บรรทัดใบสั่ง และความสัมพันธ์ของโครงการ](media/PS-Reporting-image3.png "แผนภาพที่แสดงใบสั่ง บรรทัดใบสั่ง และความสัมพันธ์ของโครงการ")

## <a name="reporting-on-projects"></a>การรายงานเกี่ยวกับโครงการ

เอนทิตี **โครงการ** และเอนทิตีที่เกี่ยวข้องกับโครงการเป็นเอกสิทธิ์เฉพาะสำหรับ PSA **โครงการ** เป็นเอนทิตีระดับบนสุดที่ใช้ในการบันทึกงานและด้านต้นทุนของการดำเนินงาน นี่คือรายการของเอนทิตีที่เกี่ยวข้อง:

- **สมาชิกทีมโครงการ** – เอนทิตีนี้มีรายละเอียดเกี่ยวกับทรัพยากรที่สามารถจองได้ที่มอบหมายให้กับโครงการ ทรัพยากรเหล่านั้นอาจเป็นทรัพยากรที่สามารถจองได้ชนิดทั่วไปหรืออาจมีการตั้งชื่อทรัพยากรที่สามารถจองได้ซึ่งถูกป้อนโดยผู้จัดการโครงการหรือสร้างขึ้นจากหมายกำหนดการให้บริการโครงการ
- **งานโครงการ** – เอนทิตีนี้ประกอบด้วยงานที่สร้างแผนหรือหมายกำหนดการให้บริการโครงการ
- **การมอบหมายทรัพยากร** – เอนทิตีนี้ประกอบด้วยการมอบหมายงานสำหรับทรัพยากรที่มีการจอง
- **ความต้องการทรัพยากร** – เอนทิตีนี้ประกอบด้วยความต้องการสำหรับสมาชิกในทีมทรัพยากรทั่วไปใดๆ
- **ประเมิน** และ **รายการการประเมิน** – เอนทิตีเหล่านี้มีความสัมพันธ์ส่วนหัว/รายการและมีการประเมินค่าใช้จ่ายสำหรับโครงการ การประเมินงานจะถูกจัดเก็บไว้ในเอนทิตี **การประเมินทรัพยากร**

![แผนภาพที่แสดงความต้องการทรัพยากรและความสัมพันธ์ของโครงการ](media/PS-Reporting-image4.png "แผนภาพที่แสดงความต้องการทรัพยากรและความสัมพันธ์ของโครงการ")

## <a name="reporting-on-resources"></a>การรายงานเกี่ยวกับทรัพยากร

ทรัพยากรโครงการใช้เอนทิตี **ทรัพยากรที่สามารถจองได้** จาก Universal Resource Scheduling (URS) ที่ใช้ร่วมกันกับแอปอื่นๆ เช่น Microsoft Dynamics 365 Field Service นี่คือรายการของเอนทิตีที่คุณอาจต้องใช้เมื่อคุณรายงานเกี่ยวกับทรัพยากรของโครงการ:

- **ทรัพยากรที่สามารถจองได้** – เอนทิตีนี้แสดงถึงผู้ใช้ ผู้ติดต่อ ทรัพยากรทั่วไป ลูกค้าองค์กร กลุ่มเมนูหรืออุปกรณ์ที่ใช้ในทีมโครงการ
- **ทรัพยาคุณลักษณะทรัพยากรที่สามารถจองได้** – เอนทิตีนี้รวมทักษะ ประกาศนียบัตร หรือการศึกษาของทรัพยากร คุณลักษณะสามารถมีค่าการจัดอันดับที่กำหนดโดยแบบจำลองการจัดอันดับ
- **ประเภททรัพยากรที่สามารถจองได้** – เอนทิตีนี้แสดงถึงบทบาทของทรัพยากรที่สามารถจองได้
- **การจองทรัพยากรที่สามารถจองได้** – เอนทิตีนี้แสดงถึงเวลาที่มีการจองในโครงการสำหรับทรัพยากร การจองแต่ละครั้งมีทั้งเอนทิตีส่วนหัวและเอนทิตีรายการและแต่ละรายการจะมีสถานะที่แสดงถึงสถานะของการจอง

![แผนภาพที่แสดงความสัมพันธ์ของลักษณะทรัพยากรที่สามารถจองได้](media/PS-Reporting-image5.png "แผนภาพแสดงความสัมพันธ์ของลักษณะทรัพยากรที่สามารถจองได้")

## <a name="reporting-on-actual-transactions"></a>การรายงานเกี่ยวกับธุรกรรมจริง

เมื่อคุณอนุมัติใบบันทึกเวลาหรือค่าใช้จ่ายหรือออกใบแจ้งหนี้สัญญาใน PSA ธุรกรรมทางธุรกิจจะถูกบันทึกในเอนทิตี **จริง** เอนทิตีนี้สามารถทำหน้าที่เป็นพื้นฐานสำหรับรายงานที่เกี่ยวข้องกับการเงินเกือบทั้งหมดใน PSA เอนทิตี **ที่เกิดขึ้นจริง** บันทึกธุรกรรมต้นทุนและการขายสำหรับเหตุการณ์ทางธุรกิจ นอกจากนี้ยังอาจบันทึกแอตทริบิวต์ที่เกี่ยวข้องมากมาย

เมื่อคุณกำลังทำงานกับเอนทิตี **ที่เกิดขึ้นจริง** นับเป็นเรื่องสำคัญที่คุณควรเข้าใจว่าธุรกรรมเดียวหรือธุรกรรมหลายรายการถูกบันทึกไว้ในเอนทิตีและเมื่อใดที่ธุรกรรมมีการบันทึก นี่คือโฟลว์ทั่วไปเมื่อคุณทำงานกับรายการเวลา (โฟลว์สำหรับรายการค่าใช้จ่ายที่คล้ายกัน):

1. เมื่อรายการเวลาถูกบันทึกจะไม่มีการสร้างเรกคอร์ดในเอนทิตี **ที่เกิดขึ้นจริง**
2. เมื่อรายการเวลาถูกส่งจะไม่มีการสร้างเรกคอร์ดในเอนทิตี **ที่เกิดขึ้นจริง**
3. เมื่อรายการเวลาได้รับการอนุมัติจะมีการสร้างเรกคอร์ดหนึ่งในเอนทิตี **ที่เกิดขึ้นจริง** และยังสามารถสร้างเรกคอร์ดที่สองได้ด้วย เรกคอร์ดแรกจะเก็บต้นทุนของรายการเวลา เรกคอร์ดที่สองจะจัดเก็บยอดขายที่ยังไม่ได้รับการเรียกเก็บของรายการเวลา เรกคอร์ดที่สองจะขึ้นอยู่กับโครงการทั้งที่มีลูกค้า ใบเสนอราคา หรือรายการสัญญาที่ได้มอบหมายไว้

    | วันที่ของเอกสาร | ชนิดธุรกรรม | ประเภทธุรกรรม | ลูกค้า         | สัญญา   | ทรัพยากร     | บทบาทของทรัพยากร | ชนิดการเรียกเก็บเงิน | ปริมาณ | ราคาต่อหน่วย | จำนวน |
    |---------------|------------------|-------------------|------------------|------------|--------------|---------------|--------------|----------|------------|--------|
    | 2/3/18        | ต้นทุน             | Time              | บ้านสกี Alpine  | Alpine CRM | บุญศิริ เกษมศานต์ | Project Mgr   | คิดค่าธรรมเนียมได้   | 8.0      | 50.00      | 400.00 |
    | 2/3/18        | การขายที่ยังไม่ได้เรียกเก็บเงิน   | Time              | บ้านสกี Alpine  | Alpine CRM | บุญศิริ เกษมศานต์ | Project Mgr   | คิดค่าธรรมเนียมได้   | 8.0      | 100.00     | 800.00 |

    ทั้งสองเรกคอร์ดนี้แยกกันแต่เป็นเรกคอร์ดที่เกี่ยวข้องกัน พวกเขาจะไม่เดบิตหรือเครดิต

4. ถ้าสัญญาเชื่อมโยงกับโครงการเมื่อรายการเวลามีการออกใบแจ้งหนี้แล้ว เรกคอร์ดทั้งสองที่เพิ่มขึ้นมาจะถูกสร้างในเอนทิตี **ที่เกิดขึ้นจริง** ขั้นแรก จำนวนเงินติดลบสำหรับเรกคอร์ดการขายที่ยังไม่ได้เรียกเก็บเงินจะถูกสร้างขึ้น บันทึกนี้ย้อนกลับการขายที่ยังไม่ได้เรียกเก็บเงินที่สำคัญ ขั้นที่สอง ธุรกรรมสำหรับการขายที่ยังไม่ได้เรียกเก็บเงินจะถูกสร้างขึ้น เรกคอร์ดเหล่านี้จะแยกกันอีกครั้งแต่เป็นเรกคอร์ดที่เกี่ยวข้องกัน ไม่ใช่เดบิตและเครดิต

    | วันที่ของเอกสาร | ชนิดธุรกรรม | ประเภทธุรกรรม | ลูกค้า         | สัญญา   | ทรัพยากร     | บทบาทของทรัพยากร | ชนิดการเรียกเก็บเงิน | ปริมาณ | ราคาต่อหน่วย | จำนวน   |
    |---------------|------------------|-------------------|------------------|------------|--------------|---------------|--------------|----------|------------|----------|
    | 2/4/18        | การขายที่ยังไม่ได้เรียกเก็บเงิน   | Time              | บ้านสกี Alpine  | Alpine CRM | บุญศิริ เกษมศานต์ | Project Mgr   | คิดค่าธรรมเนียมได้   | - 8.0    | 100.00     | - 800.00 |
    | 2/4/18        | การขายที่เรียกเก็บเงินแล้ว     | Time              | บ้านสกี Alpine  | Alpine CRM | บุญศิริ เกษมศานต์ | Project Mgr   | คิดค่าธรรมเนียมได้   | 8.0      | 100.00     | 800.00   |

เรกคอร์ดเอนทิตีที่เป็น **ที่มาของธุรกรรม** และที่มาของเรกคอร์ด **ที่เกิดขึ้นจริง** และเอนทิตี **การเชื่อมต่อธุรกรรม** บันทึกเรกคอร์ดที่เกี่ยวข้องสำหรับเรกคอร์ด **ที่เกิดขึ้นจริง** นอกจากนี้เรกคอร์ด **ที่เกิดขึ้นจริง** ประกอบด้วยข้อมูลอ้างอิงโครงการ สัญญาโครงการ (ใบสั่ง) ทรัพยากรที่สามารถจองได้ และลูกค้า

![แผนภาพที่แสดงการเชื่อมต่อธุรกรรม ที่มา และความสัมพันธ์จริง](media/PS-Reporting-image6.png "แผนภาพแสดงการเชื่อมต่อธุรกรรม ที่มา และความสัมพันธ์จริง")


[!INCLUDE[footer-include](../includes/footer-banner.md)]