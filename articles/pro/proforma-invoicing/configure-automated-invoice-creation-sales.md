---
title: ตั้งค่าการสร้างใบแจ้งหนี้อัตโนมัติ
description: หัวข้อนี้ให้ข้อมูลเกี่ยวกับการตั้งค่าและกำหนดค่าการสร้างใบแจ้งหนี้ชั่วคราวอัตโนมัติ
author: rumant
manager: Annbe
ms.date: 04/05/2021
ms.topic: article
ms.service: project-operations
ms.reviewer: kfend
ms.author: rumant
ms.openlocfilehash: 359c5902e0b6a08ab7fc982095062e4d1816db6c
ms.sourcegitcommit: ca0fc078d1a12484eca193fe051b8442c0559db8
ms.translationtype: HT
ms.contentlocale: th-TH
ms.lasthandoff: 04/07/2021
ms.locfileid: "5866840"
---
# <a name="set-up-automatic-invoice-creation"></a><span data-ttu-id="3a73c-103">ตั้งค่าการสร้างใบแจ้งหนี้อัตโนมัติ</span><span class="sxs-lookup"><span data-stu-id="3a73c-103">Set up automatic invoice creation</span></span> 
 
<span data-ttu-id="3a73c-104">_**นำไปใช้กับ:** การปรับใช้งานแบบ Lite - จัดการกับการออกใบแจ้งหนี้ชั่วคราว, Project Operations สำหรับสถานการณ์ตามทรัพยากร/สินค้าที่ไม่ได้เก็บในคลัง_</span><span class="sxs-lookup"><span data-stu-id="3a73c-104">_**Applies To:** Lite deployment - deal to proforma invoicing, Project Operations for resource/non-stocked based scenarios_</span></span>

<span data-ttu-id="3a73c-105">คุณสามารถกำหนดค่าการสร้างใบแจ้งหนี้อัตโนมัติใน Dynamics 365 Project Operations</span><span class="sxs-lookup"><span data-stu-id="3a73c-105">You can configure automatic invoice creation in Dynamics 365 Project Operations.</span></span> <span data-ttu-id="3a73c-106">ระบบจะสร้างใบแจ้งหนี้ Proforma แบบร่างตามกำหนดการใบแจ้งหนี้สำหรับสัญญาโครงการและรายละเอียดการให้บริการตามสัญญา</span><span class="sxs-lookup"><span data-stu-id="3a73c-106">The system creates a draft proforma invoice based on the invoice schedule for each project contract and contract line.</span></span> <span data-ttu-id="3a73c-107">กำหนดการใบแจ้งหนี้ได้รับการกำหนดค่าที่ระดับรายละเอียดการให้บริการตามสัญญา</span><span class="sxs-lookup"><span data-stu-id="3a73c-107">Invoice schedules are configured at the contract line level.</span></span> <span data-ttu-id="3a73c-108">แต่ละบรรทัดในสัญญาอาจมีกำหนดการใบแจ้งหนี้ที่แตกต่างกัน หรืออาจรวมกำหนดการใบแจ้งหนี้เดียวกันไว้ในทุกบรรทัดของสัญญาก็ได้</span><span class="sxs-lookup"><span data-stu-id="3a73c-108">Each line on a contract can have a distinct invoice schedule, or the same invoice schedule can be included on every line of the contract.</span></span>

<span data-ttu-id="3a73c-109">เมื่อคุณสร้างใบแจ้งหนี้ ระบบจะสร้างใบแจ้งหนี้อย่างน้อยหนึ่งใบต่อสัญญาโครงการเสมอ</span><span class="sxs-lookup"><span data-stu-id="3a73c-109">When you create an invoice, the system always creates at least one invoice per project contract.</span></span> <span data-ttu-id="3a73c-110">ในบางกรณี อาจมีการสร้างใบแจ้งหนี้หลายใบ</span><span class="sxs-lookup"><span data-stu-id="3a73c-110">In some cases, there may be multiple invoices created.</span></span> <span data-ttu-id="3a73c-111">ตัวอย่างเช่น หากสัญญามีลูกค้าหลายราย จำนวนใบแจ้งหนี้เดียวกันจะถูกสร้างขึ้นตามจำนวนลูกค้าที่มีธุรกรรมที่เรียกเก็บเงินได้เพื่อออกใบแจ้งหนี้ในสัญญาโครงการนั้น</span><span class="sxs-lookup"><span data-stu-id="3a73c-111">For example, if the contract has multiple customers, the same number of invoices will be created as the number of customers that have billable transactions to invoice on that project contract.</span></span>

## <a name="understand-how-transactions-are-included-on-an-invoice"></a><span data-ttu-id="3a73c-112">ทำความเข้าใจว่าธุรกรรมรวมอยู่ในใบแจ้งหนี้อย่างไร</span><span class="sxs-lookup"><span data-stu-id="3a73c-112">Understand how transactions are included on an invoice</span></span> 

<span data-ttu-id="3a73c-113">บางครั้งรายละเอียดการให้บริการตามสัญญาตามโครงการแต่ละรายการจะระบุกำหนดการใบแจ้งหนี้แยกกัน</span><span class="sxs-lookup"><span data-stu-id="3a73c-113">Sometimes, each project-based contract line specifies a separate invoice schedule.</span></span> <span data-ttu-id="3a73c-114">ตัวอย่างเช่น บริการการใช้งานสำหรับสัญญา Adatum มีรายละเอียดการให้บริการตามสัญญาต่อไปนี้:</span><span class="sxs-lookup"><span data-stu-id="3a73c-114">For example, implementation services for the Adatum contract have the following contract lines:</span></span>

- <span data-ttu-id="3a73c-115">งานต้นแบบที่เป็นราคาคงที่โดยมีหลักเป้าหมายที่สร้างขึ้นด้วยตนเองสองรายการ</span><span class="sxs-lookup"><span data-stu-id="3a73c-115">Prototype work that is a fixed price with two manually created milestones.</span></span>
- <span data-ttu-id="3a73c-116">งานการใช้งานซึ่งรวมเวลาและจะถูกเรียกเก็บเงินทุกสองสัปดาห์ในวันจันทร์</span><span class="sxs-lookup"><span data-stu-id="3a73c-116">Implementation work that includes Time and will be billed bi-weekly on Mondays.</span></span>
- <span data-ttu-id="3a73c-117">ค่าใช้จ่ายที่เกิดขึ้นซึ่งต้องเรียกเก็บเป็นรายเดือนในวันจันทร์แรกของแต่ละเดือน</span><span class="sxs-lookup"><span data-stu-id="3a73c-117">Expenses incurred that need to be billed monthly on the first Monday of each month.</span></span>

<span data-ttu-id="3a73c-118">กำหนดการใบแจ้งหนี้ที่กำหนดไว้สำหรับรายการทั้งสองรายการนี้มีลักษณะดังตารางต่อไปนี้:</span><span class="sxs-lookup"><span data-stu-id="3a73c-118">Invoice schedules defined on each of these two line items look like the following table:</span></span>

| <span data-ttu-id="3a73c-119">รายละเอียดการให้บริการตามสัญญา</span><span class="sxs-lookup"><span data-stu-id="3a73c-119">Contract line</span></span> | <span data-ttu-id="3a73c-120">วันที่เรียกใช้ใบแจ้งหนี้</span><span class="sxs-lookup"><span data-stu-id="3a73c-120">Invoice run date</span></span> | <span data-ttu-id="3a73c-121">วันที่ตัดยอดธุรกรรม</span><span class="sxs-lookup"><span data-stu-id="3a73c-121">Transaction cut-off date</span></span> | <span data-ttu-id="3a73c-122">วันที่ของหลักเป้าหมาย</span><span class="sxs-lookup"><span data-stu-id="3a73c-122">Milestone date</span></span> | <span data-ttu-id="3a73c-123">จำนวนเงินของหลักเป้าหมาย</span><span class="sxs-lookup"><span data-stu-id="3a73c-123">Milestone amount</span></span> |
| --- | --- | --- | --- | --- |
| <span data-ttu-id="3a73c-124">งานต้นแบบ</span><span class="sxs-lookup"><span data-stu-id="3a73c-124">Prototype work</span></span> | <span data-ttu-id="3a73c-125">วันจันทร์ที่ 5 ตุลาคม</span><span class="sxs-lookup"><span data-stu-id="3a73c-125">October 5, Monday</span></span> | - | <span data-ttu-id="3a73c-126">วันจันทร์ที่ 5 ตุลาคม</span><span class="sxs-lookup"><span data-stu-id="3a73c-126">October 5, Monday</span></span> | <span data-ttu-id="3a73c-127">5000 USD</span><span class="sxs-lookup"><span data-stu-id="3a73c-127">5000 USD</span></span> |
| - | <span data-ttu-id="3a73c-128">วันอังคารที่ 3 พฤศจิกายน</span><span class="sxs-lookup"><span data-stu-id="3a73c-128">November 3, Tuesday</span></span> | - | <span data-ttu-id="3a73c-129">วันอังคารที่ 3 พฤศจิกายน</span><span class="sxs-lookup"><span data-stu-id="3a73c-129">November 3, Tuesday</span></span> | <span data-ttu-id="3a73c-130">12,000 USD</span><span class="sxs-lookup"><span data-stu-id="3a73c-130">12,000 USD</span></span> |
| <span data-ttu-id="3a73c-131">งานการใช้งาน</span><span class="sxs-lookup"><span data-stu-id="3a73c-131">Implementation work</span></span> | <span data-ttu-id="3a73c-132">วันจันทร์ที่ 5 ตุลาคม</span><span class="sxs-lookup"><span data-stu-id="3a73c-132">October 5, Monday</span></span> | <span data-ttu-id="3a73c-133">วันอาทิตย์ที่ 4 ตุลาคม</span><span class="sxs-lookup"><span data-stu-id="3a73c-133">October 4, Sunday</span></span> | - | - |
| - | <span data-ttu-id="3a73c-134">วันจันทร์ที่ 19 ตุลาคม</span><span class="sxs-lookup"><span data-stu-id="3a73c-134">October 19, Monday</span></span> | <span data-ttu-id="3a73c-135">วันอาทิตย์ที่ 18 ตุลาคม</span><span class="sxs-lookup"><span data-stu-id="3a73c-135">October 18, Sunday</span></span> | - | - |
| - | <span data-ttu-id="3a73c-136">วันจันทร์ที่ 2 พฤศจิกายน</span><span class="sxs-lookup"><span data-stu-id="3a73c-136">November 2, Monday</span></span> | <span data-ttu-id="3a73c-137">วันอาทิตย์ที่ 1 พฤศจิกายน</span><span class="sxs-lookup"><span data-stu-id="3a73c-137">November 1, Sunday</span></span> | - | - |
| - | <span data-ttu-id="3a73c-138">วันจันทร์ที่ 16 พฤศจิกายน</span><span class="sxs-lookup"><span data-stu-id="3a73c-138">November 16, Monday</span></span> | <span data-ttu-id="3a73c-139">วันอาทิตย์ที่ 15 พฤศจิกายน</span><span class="sxs-lookup"><span data-stu-id="3a73c-139">November 15, Sunday</span></span> | - | - |
| <span data-ttu-id="3a73c-140">ค่าใช้จ่ายที่เกิดขึ้น</span><span class="sxs-lookup"><span data-stu-id="3a73c-140">Expenses incurred</span></span> | <span data-ttu-id="3a73c-141">วันจันทร์ที่ 5 ตุลาคม</span><span class="sxs-lookup"><span data-stu-id="3a73c-141">October 5, Monday</span></span> | <span data-ttu-id="3a73c-142">วันอาทิตย์ที่ 4 ตุลาคม</span><span class="sxs-lookup"><span data-stu-id="3a73c-142">October 4, Sunday</span></span> | - | - |
| - | <span data-ttu-id="3a73c-143">วันจันทร์ที่ 2 พฤศจิกายน</span><span class="sxs-lookup"><span data-stu-id="3a73c-143">November 2, Monday</span></span> | <span data-ttu-id="3a73c-144">วันอาทิตย์ที่ 1 พฤศจิกายน</span><span class="sxs-lookup"><span data-stu-id="3a73c-144">November 1, Sunday</span></span> | - | - |

<span data-ttu-id="3a73c-145">ในตัวอย่างนี้เมื่อการออกใบแจ้งหนี้อัตโนมัติทำงานบน:</span><span class="sxs-lookup"><span data-stu-id="3a73c-145">In this example when the automatic invoicing runs on:</span></span>

- <span data-ttu-id="3a73c-146">**4 ตุลาคมหรือก่อนหน้าวันใดก็ได้**: ไม่มีการสร้างใบแจ้งหนี้สำหรับสัญญานี้เนื่องจากตาราง **กำหนดการใบแจ้งหนี้** สำหรับแต่ละบรรทัดสัญญาเหล่านี้ไม่เรียกวันอาทิตย์ที่ 4 ตุลาคมเป็นวันที่เรียกใช้ใบแจ้งหนี้</span><span class="sxs-lookup"><span data-stu-id="3a73c-146">**October 4 or any date before**: No invoice is generated for this contract because the **Invoice Schedule** table for each of these contract lines doesn't call out October 4, Sunday as an invoice run date.</span></span>
- <span data-ttu-id="3a73c-147">**วันจันทร์ที่ 5 ตุลาคม**: ใบแจ้งหนี้หนึ่งใบถูกสร้างขึ้นสำหรับ:</span><span class="sxs-lookup"><span data-stu-id="3a73c-147">**October 5 Monday**: One invoice is generated for:</span></span>

    - <span data-ttu-id="3a73c-148">งานต้นแบบที่มีหลักเป้าหมายหากมีการทำเครื่องหมายเป็น **พร้อมที่จะออกใบแจ้งหนี้**</span><span class="sxs-lookup"><span data-stu-id="3a73c-148">Prototype work that includes the milestone, if it is marked as **Ready to Invoice**.</span></span>
    - <span data-ttu-id="3a73c-149">งานการใช้งานที่รวมธุรกรรมเวลาทั้งหมดที่สร้างขึ้นก่อนวันตัดธุรกรรมของวันอาทิตย์ที่ 4 ตุลาคม ซึ่งทำเครื่องหมายเป็น **พร้อมที่จะออกใบแจ้งหนี้**</span><span class="sxs-lookup"><span data-stu-id="3a73c-149">Implementation work that includes all Time transactions created before the transaction cut-off date of October 4, Sunday, that is marked as **Ready to Invoice**.</span></span>
    - <span data-ttu-id="3a73c-150">ค่าใช้จ่ายที่เกิดขึ้นที่รวมธุรกรรมค่าใช้จ่ายทั้งหมดที่สร้างขึ้นก่อนวันตัดธุรกรรมของวันอาทิตย์ที่ 4 ตุลาคม ซึ่งทำเครื่องหมายเป็น **พร้อมที่จะออกใบแจ้งหนี้**</span><span class="sxs-lookup"><span data-stu-id="3a73c-150">Expense incurred that includes all Expense transactions created before the transaction cut-off date of October 4, Sunday, that is marked as **Ready to Invoice**.</span></span>
  
- <span data-ttu-id="3a73c-151">**6 ตุลาคมหรือก่อนหน้าวันที่ 19 ตุลาคม**: ไม่มีการสร้างใบแจ้งหนี้สำหรับสัญญานี้เนื่องจากตาราง **กำหนดการใบแจ้งหนี้** สำหรับแต่ละบรรทัดสัญญาเหล่านี้ไม่เรียกวันที่ 6 ตุลาคมหรือวันใดๆก่อนหน้า 19 ตุลาคมเป็นวันที่เรียกใช้ใบแจ้งหนี้</span><span class="sxs-lookup"><span data-stu-id="3a73c-151">**On October 6 or any date before October 19**: No invoice is generated for this contract since the **Invoice Schedule** table for each of these contract lines does not call out October 6 or any date before October 19 as an invoice run date.</span></span>
- <span data-ttu-id="3a73c-152">**วันจันทร์ที่ 19 ตุลาคม**: ใบแจ้งหนี้หนึ่งใบถูกสร้างขึ้นสำหรับงานการใช้งานที่รวมธุรกรรมเวลาทั้งหมดที่สร้างขึ้นก่อนวันตัดธุรกรรมของวันอาทิตย์ที่ 18 ตุลาคม ซึ่งทำเครื่องหมายเป็น **พร้อมที่จะออกใบแจ้งหนี้**</span><span class="sxs-lookup"><span data-stu-id="3a73c-152">**October 19, Monday**: One invoice is generated for implementation work that includes all Time transactions created before the transaction cut-off date of October 18, Sunday, that is marked as **Ready to Invoice**.</span></span>
- <span data-ttu-id="3a73c-153">**วันจันทร์ที่ 2 พฤศจิกายน**: ใบแจ้งหนี้หนึ่งใบถูกสร้างขึ้นสำหรับ:</span><span class="sxs-lookup"><span data-stu-id="3a73c-153">**November 2 Monday**: One invoice is generated for:</span></span>

    - <span data-ttu-id="3a73c-154">งานการใช้งานที่รวมธุรกรรมเวลาทั้งหมดที่สร้างขึ้นก่อนวันตัดธุรกรรมของวันอาทิตย์ที่ 1 พฤศจิกายน ซึ่งทำเครื่องหมายเป็น **พร้อมที่จะออกใบแจ้งหนี้**</span><span class="sxs-lookup"><span data-stu-id="3a73c-154">Implementation work that includes all Time transactions created before the transaction cut-off date of November 1, Sunday, that is marked as **Ready to Invoice**.</span></span>
    - <span data-ttu-id="3a73c-155">ค่าใช้จ่ายที่เกิดขึ้นที่รวมธุรกรรมค่าใช้จ่ายทั้งหมดที่สร้างขึ้นก่อนวันตัดธุรกรรมของวันอาทิตย์ที่ 1 พฤศจิกายน ซึ่งทำเครื่องหมายเป็น **พร้อมที่จะออกใบแจ้งหนี้**</span><span class="sxs-lookup"><span data-stu-id="3a73c-155">Expense incurred that includes all Expense transactions created before the transaction cut-off date of November 1, Sunday, that is marked as **Ready to Invoice**.</span></span>

- <span data-ttu-id="3a73c-156">**วันอังคารที่ 3 พฤศจิกายน**: ใบแจ้งหนี้หนึ่งใบถูกสร้างขึ้นสำหรับงานต้นแบบที่มีหลักเป้าหมายสำหรับ 12000 USD หากถูกทำเครื่องหมายเป็น **พร้อมที่จะออกใบแจ้งหนี้**</span><span class="sxs-lookup"><span data-stu-id="3a73c-156">**November 3, Tuesday**: One invoice is generated for prototype work that includes the milestone for 12000 USD, if it is marked as **Ready to Invoice**.</span></span>

## <a name="configure-automatic-invoicing"></a><span data-ttu-id="3a73c-157">กำหนดค่าการออกใบแจ้งหนี้อัตโนมัติ</span><span class="sxs-lookup"><span data-stu-id="3a73c-157">Configure automatic invoicing</span></span>

<span data-ttu-id="3a73c-158">ทำตามขั้นตอนเหล่านี้เพื่อกำหนดค่าการเรียกใช้ใบแจ้งหนี้อัตโนมัติ</span><span class="sxs-lookup"><span data-stu-id="3a73c-158">Complete the following steps to configure an automated invoice run.</span></span>

1. <span data-ttu-id="3a73c-159">ใน **Project Operations** ไปที่ **การตั้งค่า** > **การตั้งค่าใบแจ้งหนี้ที่เกิดซ้ำ**</span><span class="sxs-lookup"><span data-stu-id="3a73c-159">In **Project Operations**, go to **Settings** > **Recurring Invoice Setup**.</span></span>
2. <span data-ttu-id="3a73c-160">สร้างชุดงาน และตั้งชื่อว่า **Project Operations สร้างใบแจ้งหนี้**</span><span class="sxs-lookup"><span data-stu-id="3a73c-160">Create a batch job, and name it **rPoject Operations Create Invoices**.</span></span> <span data-ttu-id="3a73c-161">ชื่อของชุดงานต้องมีคำว่า "สร้างใบแจ้งหนี้"</span><span class="sxs-lookup"><span data-stu-id="3a73c-161">The name of the batch job must include the words, "create invoices".</span></span>
3. <span data-ttu-id="3a73c-162">ในฟิลด์ **ชนิดงาน** ให้เลือก **ไม่มี**</span><span class="sxs-lookup"><span data-stu-id="3a73c-162">In the **Job Type** field, select **None**.</span></span> <span data-ttu-id="3a73c-163">โดยค่าเริ่มต้น ฟิลด์ **ความถี่รายวัน** และ **เปิดใช้งาน** จะถูกตั้งค่าเป็น **ใช่**</span><span class="sxs-lookup"><span data-stu-id="3a73c-163">By default, the **Frequency Daily** and **Is Active** fields are set to **Yes**.</span></span>
4. <span data-ttu-id="3a73c-164">เลือก **เรียกใช้เวิร์กโฟลว์**</span><span class="sxs-lookup"><span data-stu-id="3a73c-164">Select **Run Workflow**.</span></span> <span data-ttu-id="3a73c-165">ในกล่องโต้ตอบ **การค้นหาเรกคอร์ด** คุณจะเห็นสามเวิร์กโฟลว์</span><span class="sxs-lookup"><span data-stu-id="3a73c-165">In the **Look Up Record** dialog box, you will see three workflows:</span></span>

- <span data-ttu-id="3a73c-166">ProcessRunCaller</span><span class="sxs-lookup"><span data-stu-id="3a73c-166">ProcessRunCaller</span></span>
- <span data-ttu-id="3a73c-167">ProcessRunner</span><span class="sxs-lookup"><span data-stu-id="3a73c-167">ProcessRunner</span></span>
- <span data-ttu-id="3a73c-168">UpdateRoleUtilization</span><span class="sxs-lookup"><span data-stu-id="3a73c-168">UpdateRoleUtilization</span></span>

5. <span data-ttu-id="3a73c-169">เลือก **ProcessRunCaller** จากนั้นเลือก **เพิ่ม**</span><span class="sxs-lookup"><span data-stu-id="3a73c-169">Select **ProcessRunCaller**, and then select **Add**.</span></span>
6. <span data-ttu-id="3a73c-170">ในกล่องโต้ตอบถัดไป ให้เลือก **ตกลง**</span><span class="sxs-lookup"><span data-stu-id="3a73c-170">In the next dialog box, select **OK**.</span></span> <span data-ttu-id="3a73c-171">เวิร์กโฟลว์ **การพักเครื่อง** ตามด้วยเวิร์กโฟลว์ **กระบวนการ**</span><span class="sxs-lookup"><span data-stu-id="3a73c-171">A **Sleep** workflow is followed by a **Process** workflow.</span></span> 

> [!NOTE]
> <span data-ttu-id="3a73c-172">นอกจากนี้คุณยังสามารถเลือก **ProcessRunner** ในขั้นตอนที่5</span><span class="sxs-lookup"><span data-stu-id="3a73c-172">You can also select **ProcessRunner** in step 5.</span></span> <span data-ttu-id="3a73c-173">จากนั้น เมื่อคุณเลือก **ตกลง** เวิร์กโฟลว์ **กระบวนการ** ตามด้วยเวิร์กโฟลว์ **การพักเครื่อง**</span><span class="sxs-lookup"><span data-stu-id="3a73c-173">Then, when you select **OK**, a **Process** workflow is followed by a **Sleep** workflow.</span></span>

<span data-ttu-id="3a73c-174">เวิร์กโฟลว์ **ProcessRunCaller** และ **ProcessRunner** สร้างใบแจ้งหนี้</span><span class="sxs-lookup"><span data-stu-id="3a73c-174">The **ProcessRunCaller** and **ProcessRunner** workflows create invoices.</span></span> <span data-ttu-id="3a73c-175">**ProcessRunCaller** เรียกใช้ **ProcessRunner**</span><span class="sxs-lookup"><span data-stu-id="3a73c-175">**ProcessRunCaller** calls **ProcessRunner**.</span></span> <span data-ttu-id="3a73c-176">**ProcessRunner** เป็นเวิร์กโฟลว์ที่สร้างใบแจ้งหนี้อย่างแท้จริง</span><span class="sxs-lookup"><span data-stu-id="3a73c-176">**ProcessRunner** is the workflow that actually creates the invoices.</span></span> <span data-ttu-id="3a73c-177">เวิร์กโฟลว์รวมถึงรายละเอียดการให้บริการตามสัญญาทั้งหมดที่ต้องสร้างใบแจ้งหนี้ และจะมีการสร้างใบแจ้งหนี้สำหรับรายละเอียดเหล่านั้น</span><span class="sxs-lookup"><span data-stu-id="3a73c-177">The workflow goes through all the contract lines that invoices must be created for, and creates invoices for those lines.</span></span> <span data-ttu-id="3a73c-178">ในการกำหนดรายละเอียดการให้บริการตามสัญญาที่ต้องสร้างใบแจ้งหนี้ งานจะดูที่วันที่เรียกใช้ใบแจ้งหนี้สำหรับรายละเอียดการให้บริการตามสัญญา</span><span class="sxs-lookup"><span data-stu-id="3a73c-178">To determine the contract lines that invoices must be created for, the job looks at invoice run dates for the contract lines.</span></span> <span data-ttu-id="3a73c-179">ถ้ารายละเอียดการให้บริการตามสัญญาที่เป็นของสัญญาเดียวมีวันที่เรียกใช้ใบแจ้งหนี้เดียวกัน ธุรกรรมจะรวมอยู่ในใบแจ้งหนี้เดียวที่มีรายการใบแจ้งหนี้สองรายการ</span><span class="sxs-lookup"><span data-stu-id="3a73c-179">If contract lines that belong to one contract have the same invoice run date, the transactions are combined into one invoice that has two invoice lines.</span></span> <span data-ttu-id="3a73c-180">ถ้าไม่มีธุรกรรมที่จะสร้างใบแจ้งหนี้ งานจะข้ามการสร้างใบแจ้งหนี้</span><span class="sxs-lookup"><span data-stu-id="3a73c-180">If there are no transactions to create invoices for, the job skips creating an invoice.</span></span>

<span data-ttu-id="3a73c-181">หลังจาก **ProcessRunner** เสร็จสิ้น จะเรียก **ProcessRunCaller** ให้เวลาสิ้นสุด และถูกปิด</span><span class="sxs-lookup"><span data-stu-id="3a73c-181">After **ProcessRunner** has finished running, it calls **ProcessRunCaller**, provides the end time, and is closed.</span></span> <span data-ttu-id="3a73c-182">**ProcessRunCaller** เริ่มต้นการจับเวลาที่ทำงานเป็นเวลา 24 ชั่วโมง ตั้งแต่เวลาสิ้นสุดที่ระบุ</span><span class="sxs-lookup"><span data-stu-id="3a73c-182">**ProcessRunCaller** then starts a timer that runs for 24-hours from the specified end time.</span></span> <span data-ttu-id="3a73c-183">ในตอนท้ายของการจับเวลา **ProcessRunCaller** ถูกปิด</span><span class="sxs-lookup"><span data-stu-id="3a73c-183">At the end of the timer, **ProcessRunCaller** is closed.</span></span>

<span data-ttu-id="3a73c-184">งานกระบวนการชุดงานสำหรับการสร้างใบแจ้งหนี้เป็นงานที่เกิดขึ้นเป็นประจำ</span><span class="sxs-lookup"><span data-stu-id="3a73c-184">The batch process job for creating invoices is a recurrent job.</span></span> <span data-ttu-id="3a73c-185">ถ้ามีการเรียกใช้กระบวนการชุดงานนี้หลายครั้ง จะมีการสร้างหลายอินสแตนซ์ของงาน และทำให้เกิดข้อผิดพลาด</span><span class="sxs-lookup"><span data-stu-id="3a73c-185">If this batch process is run many times, multiple instances of the job are created and causes errors.</span></span> <span data-ttu-id="3a73c-186">ดังนั้นคุณควรเริ่มต้นกระบวนการชุดงานเพียงครั้งเดียว และเริ่มต้นใหม่เฉพาะเมื่อหยุดทำงาน</span><span class="sxs-lookup"><span data-stu-id="3a73c-186">Therefore, you should start the batch process only one time, and then restart only if it stops running.</span></span>

> [!NOTE]
> <span data-ttu-id="3a73c-187">การออกใบแจ้งหนี้ชุดงานใน Project Operations ทำงานเฉพาะสำหรับรายละเอียดการให้บริการตามสัญญาของโครงการที่กำหนดค่าโดยกำหนดการใบแจ้งหนี้</span><span class="sxs-lookup"><span data-stu-id="3a73c-187">Batch invoicing in Project Operations only runs for project contract lines that are configured by invoice schedules.</span></span> <span data-ttu-id="3a73c-188">รายละเอียดการให้บริการตามสัญญาที่มีวิธีการเรียกเก็บเงินแบบราคาคงที่ ต้องมีการกำหนดค่าหลักเป้าหมาย</span><span class="sxs-lookup"><span data-stu-id="3a73c-188">A contract line with a fixed price billing method must have milestones configured.</span></span> <span data-ttu-id="3a73c-189">รายละเอียดการให้บริการตามสัญญาโครงการที่มีวิธีการเรียกเก็บเงินตามเวลาและวัสดุจะต้องมีการตั้งค่ากำหนดการใบแจ้งหนี้ตามวันที่</span><span class="sxs-lookup"><span data-stu-id="3a73c-189">A project contract line with a time and material billing method will need a date-based invoice schedule set up.</span></span>


[!INCLUDE[footer-include](../../includes/footer-banner.md)]
