---
title: การสร้างกำหนดการใบแจ้งหนี้ในรายละเอียดการให้บริการตามสัญญาตามโครงการ
description: หัวข้อนี้ให้ข้อมูลเกี่ยวกับการสร้างกำหนดการใบแจ้งหนี้และหลักเป้าหมายสำหรับรายละเอียดการให้บริการตามสัญญา
author: rumant
manager: Annbe
ms.date: 10/17/2020
ms.topic: article
ms.service: dynamics-365-customerservice
ms.reviewer: kfend
ms.author: rumant
ms.openlocfilehash: 2183b915dd2f67e03964246cb0689003e48363f7
ms.sourcegitcommit: 3a0c18823a7ad23df5aa3de272779313abe56c82
ms.translationtype: HT
ms.contentlocale: th-TH
ms.lasthandoff: 10/20/2020
ms.locfileid: "4086166"
---
# <a name="creating-invoice-schedules-on-a-project-based-contract-line"></a><span data-ttu-id="be22e-103">การสร้างกำหนดการใบแจ้งหนี้ในรายละเอียดการให้บริการตามสัญญาตามโครงการ</span><span class="sxs-lookup"><span data-stu-id="be22e-103">Creating invoice schedules on a project-based contract line</span></span>

<span data-ttu-id="be22e-104">_**นำไปใช้กับ:** การปรับใช้งานแบบ Lite - จัดการกับการออกใบแจ้งหนี้ชั่วคราว_</span><span class="sxs-lookup"><span data-stu-id="be22e-104">_**Applies To:** Lite deployment - deal to proforma invoicing_</span></span>


<span data-ttu-id="be22e-105">คุณสามารถสร้างกำหนดการใบแจ้งหนี้ให้รายละเอียดการให้บริการตามสัญญาตามโครงการ</span><span class="sxs-lookup"><span data-stu-id="be22e-105">You can an invoice schedule to a  project-based contract line.</span></span> <span data-ttu-id="be22e-106">ใบแจ้งหนี้อนุญาตให้ออกได้ก็ต่อเมื่อได้รับสัญญาและคุณกำลังสร้างสัญญาโครงการ</span><span class="sxs-lookup"><span data-stu-id="be22e-106">Invoicing is only allowed after the contract is won to and you are creating a project contract.</span></span> <span data-ttu-id="be22e-107">กำหนดการใบแจ้งหนี้ช่วยให้สามารถสร้างใบแจ้งหนี้แบบร่างสำหรับรายละเอียดการให้บริการตามสัญญาตามโครงการได้โดยอัตโนมัติ</span><span class="sxs-lookup"><span data-stu-id="be22e-107">An invoice schedule allows draft invoices for a project-based contract line to be automatically created.</span></span> <span data-ttu-id="be22e-108">อย่างไรก็ตาม หากคุณสร้างใบแจ้งหนี้ด้วยตนเองเท่านั้น คุณสามารถข้ามการสร้างกำหนดการใบแจ้งหนี้ในรายละเอียดการให้บริการตามสัญญาได้</span><span class="sxs-lookup"><span data-stu-id="be22e-108">If however, you only manually create invoices, you can skip creating invoice schedules on contract lines.</span></span>

## <a name="create-a-time-and-material-invoice-schedule-for-a-contract-line"></a><span data-ttu-id="be22e-109">สร้างกำหนดการใบแจ้งหนี้สำหรับเวลาและวัสดุสำหรับรายละเอียดการให้บริการตามสัญญา</span><span class="sxs-lookup"><span data-stu-id="be22e-109">Create a time and material invoice schedule for a contract line</span></span>

<span data-ttu-id="be22e-110">เมื่อรายละเอียดการให้บริการตามสัญญาตามโครงการมีวิธีการเรียกเก็บเงินสำหรับเวลาและวัสดุ คุุณสามารถสร้างกำหนดการใบแจ้งหนี้ตามวันที่</span><span class="sxs-lookup"><span data-stu-id="be22e-110">When a project-based contract line has a time and material billing method, you can create a date-based invoice schedule.</span></span> <span data-ttu-id="be22e-111">หากต้องการสร้างกำหนดการใบแจ้งหนี้ตามวันที่โดยอัตโนมัติ ให้ทำตามขั้นตอนต่อไปนี้</span><span class="sxs-lookup"><span data-stu-id="be22e-111">To automatically generate a date-based invoice schedule, complete the following steps.</span></span>

1. <span data-ttu-id="be22e-112">ไปที่ **การตั้งค่า** > **ความถี่ของใบแจ้งหนี้** และตั้งค่าความถี่ของใบแจ้งหนี้</span><span class="sxs-lookup"><span data-stu-id="be22e-112">Go to **Settings** > **Invoice frequencies** and set up an invoice frequence.</span></span>
2. <span data-ttu-id="be22e-113">ไปที่เรกคอร์ดสัญญาโครงการ และบนแท็บ **สรุป** ในฟิลด์ **วันที่จัดส่งที่ร้องขอ** เลือกวันที่</span><span class="sxs-lookup"><span data-stu-id="be22e-113">Go to the project contract record, and on the **Summary** tab, in the **Requested Delivery Date** field, select a date.</span></span>
3. <span data-ttu-id="be22e-114">เปิดรายละเอียดการให้บริการตามสัญญา **สำหรับเวลาและวัสดุ** ที่คุณกำลังสร้างกำหนดการใบแจ้งหนี้ตามวันที่</span><span class="sxs-lookup"><span data-stu-id="be22e-114">Open the **Time and Material** contract line that you are making the date-based invoice schedule for.</span></span> 
4. <span data-ttu-id="be22e-115">บนแท็บ **กำหนดการใบแจ้งหนี้** ให้เลือกวันที่เริ่มต้นการเรียกเก็บเงิน และความถี่ของใบแจ้งหนี้</span><span class="sxs-lookup"><span data-stu-id="be22e-115">On the **Invoice Schedule** tab, select the billing start date and the invoice frequency.</span></span>
5. <span data-ttu-id="be22e-116">ในตารางย่อย ให้เลือก **สร้างกำหนดการใบแจ้งหนี้**</span><span class="sxs-lookup"><span data-stu-id="be22e-116">On the subgrid, select **Generate Invoice Schedule**.</span></span> <span data-ttu-id="be22e-117">กำหนดการใบแจ้งหนี้สร้างด้วยฟิลด์ **วันที่เรียกใช้ใบแจ้งหนี้** **วันที่ตัดธุรกรรม** และ **การสถานะการเรียกใช้** ตั้งค่าดังต่อไปนี้:</span><span class="sxs-lookup"><span data-stu-id="be22e-117">The invoice schedule is generated with the **Invoice Run Date** , **Transaction Cutoff Date** and **Run Status** fields set as follows:</span></span>

    - <span data-ttu-id="be22e-118">**วันที่เรียกใช้ใบแจ้งหนี้** : วันที่กำหนดตามความถี่ของใบแจ้งหนี้</span><span class="sxs-lookup"><span data-stu-id="be22e-118">**Invoice Run Date** : This date is dictated by the invoice frequency.</span></span>
    - <span data-ttu-id="be22e-119">**วันที่ตัดธุรกรรม** : วันก่อนหน้าวันที่เรียกใช้ใบแจ้งหนี้</span><span class="sxs-lookup"><span data-stu-id="be22e-119">**Transaction Cutoff Date** : The day before the invoice run date.</span></span>
    - <span data-ttu-id="be22e-120">**สถานะการเรียกใช้** : จะตั้งค่าโดยอัตโนมัติเป็น **ไม่ทำงาน**</span><span class="sxs-lookup"><span data-stu-id="be22e-120">**Run Status** : Automatically set to **Not Run**.</span></span> <span data-ttu-id="be22e-121">เมื่องานการสร้างใบแจ้งหนี้อัตโนมัติทำงานในวันที่เรียกใช้ใบแจ้งหนี้ที่กำหนด ฟิลด์นี้อัปเดตเป็น **เรียกใช้สำเร็จ** หรือ **เรียกใช้ล้มเหลว**</span><span class="sxs-lookup"><span data-stu-id="be22e-121">When the automatic invoice creation job runs for a certain invoice run date, this field is updated to **Run Successful** or **Run Failed**.</span></span>


## <a name="create-a-fixed-price-invoice-schedule-for-a-contract-line"></a><span data-ttu-id="be22e-122">สร้างกำหนดการใบแจ้งหนี้ที่มีราคาคงที่สำหรับรายละเอียดการให้บริการตามสัญญา</span><span class="sxs-lookup"><span data-stu-id="be22e-122">Create a fixed price invoice schedule for a contract line</span></span>

<span data-ttu-id="be22e-123">เมื่อรายละเอียดการให้บริการตามสัญญามีวิธีการเรียกเก็บเงินราคาคงที่ คุณสร้างกำหนดการใบแจ้งหนี้ตามหลักเป้าหมาย</span><span class="sxs-lookup"><span data-stu-id="be22e-123">When the contract line has a fixed billing method, you can create a milestone-based invoice schedule.</span></span> <span data-ttu-id="be22e-124">ทำตามขั้นตอนต่อไปนี้เพื่อสร้างกำหนดการใบแจ้งหนี้ตามหลักเป้าหมายสำหรับการตั้งค่าคงที่ซึ่งมีการกระจายหลักเป้าหมายเท่าๆ กันสำหรับช่วงเวลาปฏิทิน</span><span class="sxs-lookup"><span data-stu-id="be22e-124">Complete the following steps to generate a milestone-based invoice schedule for a fixed set of equally distributed milestones for the calendar period.</span></span>

1. <span data-ttu-id="be22e-125">ไปที่ **การตั้งค่า** > **ความถี่ของใบแจ้งหนี้** และตั้งค่าความถี่ของใบแจ้งหนี้</span><span class="sxs-lookup"><span data-stu-id="be22e-125">Go to **Settings** > **Invoice frequencies** and set up an invoice frequence.</span></span>
2. <span data-ttu-id="be22e-126">ไปที่เรกคอร์ดสัญญาโครงการ และบนแท็บ **สรุป** ในฟิลด์ **วันที่จัดส่งที่ร้องขอ** เลือกวันที่</span><span class="sxs-lookup"><span data-stu-id="be22e-126">Go to the project contract record, and on the **Summary** tab, in the **Requested Delivery Date** field, select a date.</span></span>
3. <span data-ttu-id="be22e-127">เปิดรายละเอียดการให้บริการตามสัญญา **ราคาคงที่** ที่คุณกำลังสร้างกำหนดการหลักเป้าหมาย</span><span class="sxs-lookup"><span data-stu-id="be22e-127">Open the **Fixed Price** contract line that you are creating the milestone schedule for.</span></span> <span data-ttu-id="be22e-128">บนแท็บ **หลักเป้าหมายในการเรียกเก็บเงิน** ให้เลือกวันที่เริ่มต้นการเรียกเก็บเงิน และความถี่ของใบแจ้งหนี้</span><span class="sxs-lookup"><span data-stu-id="be22e-128">On the **Billing Milestones** tab, select the billing start date and the invoice frequency.</span></span> 
4. <span data-ttu-id="be22e-129">ในตารางย่อย ให้เลือก **สร้างหลักเป้าหมายเป็นระยะ**</span><span class="sxs-lookup"><span data-stu-id="be22e-129">On the subgrid, select **Generate Periodic Milestones**.</span></span> <span data-ttu-id="be22e-130">กำหนดการใบแจ้งหนี้ถูกสร้างขึ้นด้วยฟิลด์ **ชื่อหลักเป้าหมาย** **วันที่หลักเป้าหมาย** และ **จำนวนหลักเป้าหมาย** ที่กำหนดดังนี้:</span><span class="sxs-lookup"><span data-stu-id="be22e-130">The  invoice schedule is generated with the **Milestone Name** , **Milestone Date** , and **Milestone Amount** fields set as follows:</span></span>

    - <span data-ttu-id="be22e-131">**ชื่อหลักเป้าหมาย** : วันที่กำหนดตามความถี่ของใบแจ้งหนี้</span><span class="sxs-lookup"><span data-stu-id="be22e-131">**Milestone Name** : This date is dictated by the invoice frequency.</span></span>
    - <span data-ttu-id="be22e-132">**วันที่หลักเป้าหมาย** : วันที่กำหนดตามความถี่ของใบแจ้งหนี้</span><span class="sxs-lookup"><span data-stu-id="be22e-132">**Milestone Date** : This date is dictated by the invoice frequency.</span></span>
    - <span data-ttu-id="be22e-133">**จำนวนเงินของหลักเป้าหมาย** : จำนวนนี้คำนวณโดยการหารจำนวนเงินของสัญญาในรายละเอียดการให้บริการตามสัญญาด้วยจำนวนของหลักเป้าหมายที่กำหนดโดยความถี่ และการเริ่มต้นการเรียกเก็บเงิน และวันที่จัดส่งที่ร้องขอ</span><span class="sxs-lookup"><span data-stu-id="be22e-133">**Milestone Amount** : This amount is calculated by dividing the contract amount on the contract line by the number of milestones as dictated by the frequency, billing start, and requested delivery dates.</span></span>

    <span data-ttu-id="be22e-134">หากรายละเอียดการให้บริการตามสัญญามีค่าในฟิลด์ **จำนวนภาษีโดยประมาณ** จากนั้นฟิลด์นี้ยังแบ่งตามแต่ละหลักเป้าหมายเท่า ๆ กันเมื่อสร้างหลักเป้าหมายเป็นระยะ</span><span class="sxs-lookup"><span data-stu-id="be22e-134">If the contract line has a value in the **Estimated Tax amount** field, then this field is also apportioned to each milestone equally when generating periodic milestones.</span></span>

<span data-ttu-id="be22e-135">หลักเป้าหมายในการเรียกเก็บเงินควรเท่ากับมูลค่าตามสัญญาของรายละเอียดการให้บริการตามสัญญา</span><span class="sxs-lookup"><span data-stu-id="be22e-135">Billing milestones should equal the contracted value of the contract line.</span></span> <span data-ttu-id="be22e-136">หากไม่เป็นเช่นนั้น คุณจะได้รับข้อผิดพลาดในหน้า **รายละเอียดการให้บริการตามสัญญา**</span><span class="sxs-lookup"><span data-stu-id="be22e-136">If they don't, you will receive an  error on the **Contract Line** page.</span></span> <span data-ttu-id="be22e-137">คุณสามารถแก้ไขข้อผิดพลาดได้โดยตรวจสอบว่าหลักเป้าหมายในการเรียกเก็บเงินรวมมูลค่าตามสัญญาของรายการโดยการสร้าง แก้ไข หรือลบหลักเป้าหมาย</span><span class="sxs-lookup"><span data-stu-id="be22e-137">You can fix the error by verifying that the billing milestones total the contracted value of the line by creating, editing, or deleting milestones.</span></span> <span data-ttu-id="be22e-138">หลังจากทำการเปลี่ยนแปลงแล้ว ให้รีเฟรชหน้าเพื่อลบข้อผิดพลาด</span><span class="sxs-lookup"><span data-stu-id="be22e-138">After the changes are made, refresh the page to remove the error.</span></span>

### <a name="manually-create-milestones"></a><span data-ttu-id="be22e-139">สร้างหลักเป้าหมายด้วยตนเอง</span><span class="sxs-lookup"><span data-stu-id="be22e-139">Manually create milestones</span></span>

<span data-ttu-id="be22e-140">คุณสามารถสร้างหลักเป้าหมายของราคาคงที่ได้ด้วยตนเองเมื่อไม่มีการแบ่งเป็นระยะได้ด้วย</span><span class="sxs-lookup"><span data-stu-id="be22e-140">You can generate fixed price milestones manually when they are not periodically split.</span></span> <span data-ttu-id="be22e-141">ทำตามขั้นตอนต่อไปนี้เพื่อสร้างหลักเป้าหมายใหม่ด้วยตนเอง</span><span class="sxs-lookup"><span data-stu-id="be22e-141">Complete the following steps to manually create a milestone.</span></span>

1. <span data-ttu-id="be22e-142">เปิดรายละเอียดการให้บริการตามสัญญาราคาคงที่ที่คุณกำลังสร้างหลักเป้าหมาย และในแท็บ **กำหนดการใบแจ้งหนี้** บนตารางย่อย เลือก **+สร้างหลักเป้าหมายของรายละเอียดการให้บริการตามสัญญาใหม่**</span><span class="sxs-lookup"><span data-stu-id="be22e-142">Open the fixed price contract line that you are creating a milestone for, and on the **Invoice Schedule** tab, on the subgrid, select **+ Create new Contract line milestone**.</span></span> 
2. <span data-ttu-id="be22e-143">บนหน้า **การสร้างหลักเป้าหมาย** ป้อนข้อมูลที่จำเป็นตามตารางต่อไปนี้</span><span class="sxs-lookup"><span data-stu-id="be22e-143">On the **Milestone Creation** page, enter the required information based on the following table.</span></span>

| <span data-ttu-id="be22e-144">เขตข้อมูล</span><span class="sxs-lookup"><span data-stu-id="be22e-144">Field</span></span> | <span data-ttu-id="be22e-145">สถานที่ตั้ง</span><span class="sxs-lookup"><span data-stu-id="be22e-145">Location</span></span> | <span data-ttu-id="be22e-146">ความเกี่ยวข้อง วัตถุประสงค์ และคำแนะนำ</span><span class="sxs-lookup"><span data-stu-id="be22e-146">Relevance, purpose, and guidance</span></span> | <span data-ttu-id="be22e-147">ผลกระทบขั้นปลาย</span><span class="sxs-lookup"><span data-stu-id="be22e-147">Downstream impact</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="be22e-148">ชื่อหลักเป้าหมาย</span><span class="sxs-lookup"><span data-stu-id="be22e-148">Milestone Name</span></span> | <span data-ttu-id="be22e-149">การสร้างด่วน</span><span class="sxs-lookup"><span data-stu-id="be22e-149">Quick Create</span></span> | <span data-ttu-id="be22e-150">ฟิลด์ข้อความสำหรับชื่อของหลักเป้าหมาย</span><span class="sxs-lookup"><span data-stu-id="be22e-150">Text field for the name of the milestone.</span></span> | <span data-ttu-id="be22e-151">รายการนี้จะยกยอดไปหลักเป้าหมายในรายละเอียดการให้บริการตามสัญญาโครงการและไปยังใบแจ้งหนี้</span><span class="sxs-lookup"><span data-stu-id="be22e-151">This is carried over to the project contract line milestone and the invoice.</span></span> |
| <span data-ttu-id="be22e-152">งานโครงการ</span><span class="sxs-lookup"><span data-stu-id="be22e-152">Project Task</span></span> | <span data-ttu-id="be22e-153">การสร้างด่วน</span><span class="sxs-lookup"><span data-stu-id="be22e-153">Quick Create</span></span> | <span data-ttu-id="be22e-154">หากหลักเป้าหมายเชื่อมโยงกับงานโครงการ ใช้การอ้างอิงนี้เพื่อเพิ่มตรรกะที่กำหนดเองเพื่อตั้งค่าสถานะหลักเป้าหมายตามสถานะของงาน</span><span class="sxs-lookup"><span data-stu-id="be22e-154">If the milestone is tied to project task, use this reference to add custom logic to set the milestone status based on the task status.</span></span> | <span data-ttu-id="be22e-155">แอปพลิเคชันนี้ ไม่มีผลกระทบขั้นปลายของการอ้างอิงถึงงานนี้</span><span class="sxs-lookup"><span data-stu-id="be22e-155">The application, doesn't have any downstream impact of this reference to a task.</span></span> |
| <span data-ttu-id="be22e-156">วันที่ของหลักเป้าหมาย</span><span class="sxs-lookup"><span data-stu-id="be22e-156">Milestone Date</span></span> | <span data-ttu-id="be22e-157">การสร้างด่วน</span><span class="sxs-lookup"><span data-stu-id="be22e-157">Quick Create</span></span> | <span data-ttu-id="be22e-158">ตั้งค่าวันที่ที่กระบวนการสร้างใบแจ้งหนี้อัตโนมัติควรมองหาสถานะของหลักเป้าหมายนี้เพื่อใช้ในการออกใบแจ้งหนี้</span><span class="sxs-lookup"><span data-stu-id="be22e-158">Set the date on which the automatic invoice creation process should look for the status of this milestone to consider it for invoicing.</span></span> | <span data-ttu-id="be22e-159">รายการนี้จะยกยอดไปหลักเป้าหมายในรายละเอียดการให้บริการตามสัญญาโครงการและไปยังใบแจ้งหนี้</span><span class="sxs-lookup"><span data-stu-id="be22e-159">This is carried over to the project contract line milestone and the invoice.</span></span> |
| <span data-ttu-id="be22e-160">สถานะใบแจ้งหนี้</span><span class="sxs-lookup"><span data-stu-id="be22e-160">Invoice Status</span></span> | <span data-ttu-id="be22e-161">การสร้างด่วน</span><span class="sxs-lookup"><span data-stu-id="be22e-161">Quick Create</span></span> | <span data-ttu-id="be22e-162">เมื่อสร้างหลักเป้าหมาย สถานะนี้จะถูกตั้งค่าเป็น **ไม่พร้อมสำหรับการออกใบแจ้งหนี้** หรือ **ยังไม่ได้เริ่มต้น** เสมอ</span><span class="sxs-lookup"><span data-stu-id="be22e-162">When a milestone is created, this status is always set to **Not Ready for Invoicing** or **Not Started**.</span></span> | <span data-ttu-id="be22e-163">รายการนี้จะยกยอดไปหลักเป้าหมายในรายละเอียดการให้บริการตามสัญญาโครงการและไปยังใบแจ้งหนี้</span><span class="sxs-lookup"><span data-stu-id="be22e-163">This is carried over to the project contract line milestone and the invoice.</span></span> |
| <span data-ttu-id="be22e-164">จำนวนเงินในบรรทัด</span><span class="sxs-lookup"><span data-stu-id="be22e-164">Line Amount</span></span> | <span data-ttu-id="be22e-165">การสร้างด่วน</span><span class="sxs-lookup"><span data-stu-id="be22e-165">Quick Create</span></span> | <span data-ttu-id="be22e-166">จำนวนเงินหรือมูลค่าของหลักเป้าหมายที่จะออกใบแจ้งหนี้ให้กับลูกค้า</span><span class="sxs-lookup"><span data-stu-id="be22e-166">Amount or value of the milestone that will be invoiced to the customer.</span></span> | <span data-ttu-id="be22e-167">รายการนี้จะยกยอดไปหลักเป้าหมายในรายละเอียดการให้บริการตามสัญญาโครงการและไปยังใบแจ้งหนี้</span><span class="sxs-lookup"><span data-stu-id="be22e-167">This is carried over to the project contract line milestone and the invoice.</span></span> |
| <span data-ttu-id="be22e-168">ภาษี</span><span class="sxs-lookup"><span data-stu-id="be22e-168">Tax</span></span> | <span data-ttu-id="be22e-169">การสร้างด่วน</span><span class="sxs-lookup"><span data-stu-id="be22e-169">Quick Create</span></span> | <span data-ttu-id="be22e-170">จำนวนภาษีที่ใช้กับหลักเป้าหมาย</span><span class="sxs-lookup"><span data-stu-id="be22e-170">The tax amount applied on the milestone.</span></span> | <span data-ttu-id="be22e-171">รายการนี้จะยกยอดไปหลักเป้าหมายในรายละเอียดการให้บริการตามสัญญาโครงการและไปยังใบแจ้งหนี้</span><span class="sxs-lookup"><span data-stu-id="be22e-171">This is carried over to the project contract line milestone and the invoice.</span></span> |

3. <span data-ttu-id="be22e-172">เลือก **บันทึกและปิด**</span><span class="sxs-lookup"><span data-stu-id="be22e-172">Select **Save and Close**.</span></span>
<span data-ttu-id="be22e-173">| จำนวนรายการ | สร้างด่วน | จำนวนหรือมูลค่าของหลักเป้าหมายที่จะออกใบแจ้งหนี้ให้กับลูกค้า | สิ่งนี้เผยแพร่ไปยังหลักเป้าหมายของรายละเอียดการให้บริการตามสัญญาโครงการและไปยังใบแจ้งหนี้ | | ภาษี | สร้างด่วน | จำนวนภาษีที่จะใช้กับหลักเป้าหมาย | สิ่งนี้เผยแพร่ไปยัง หลักเป้าหมายของรายละเอียดการให้บริการตามสัญญาโครงการและไปยังใบแจ้งหนี้ |</span><span class="sxs-lookup"><span data-stu-id="be22e-173">| Line Amount | Quick create | Amount or Value of the Milestone that will be invoiced to the customer | This is propagated to the Project contract line Milestone and to the Invoice | | Tax | Quick create | Tax amount that will be applied on the Milestone | This is propagated to the Project contract line Milestone and to the Invoice |</span></span>
