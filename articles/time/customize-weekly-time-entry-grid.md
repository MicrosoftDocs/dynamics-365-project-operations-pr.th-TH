---
title: การขยายรายการเวลา
description: บทความนี้ให้ข้อมูลเกี่ยวกับวิธีการที่นักพัฒนาสามารถขยายการควบคุมรายการเวลา
author: stsporen
ms.date: 01/27/2022
ms.topic: article
ms.reviewer: johnmichalak
ms.author: stsporen
ms.openlocfilehash: 7ed501af3fb2059ab3c3ab6f6c957fe518595d55
ms.sourcegitcommit: 6cfc50d89528df977a8f6a55c1ad39d99800d9b4
ms.translationtype: HT
ms.contentlocale: th-TH
ms.lasthandoff: 06/03/2022
ms.locfileid: "8914793"
---
# <a name="extending-time-entries"></a>การขยายรายการเวลา

_**นำไปใช้กับ:** Project Operations สำหรับสถานการณ์ตามทรัพยากร/ไม่ได้เก็บในคลัง การปรับใช้งานแบบ Lite - จัดการกับการออกใบแจ้งหนี้ชั่วคราว_

Dynamics 365 Project Operations มีตัวควบคุมแบบกำหนดเองของรายการเวลาที่ขยายได้ การควบคุมนี้มีคุณลักษณะดังต่อไปนี้:

- ป้อนเวลาในแนวนอนเป็นเวลาหนึ่งสัปดาห์
- ผลรวมตามวัน แถว หรือสัปดาห์
- คัดลอกแถวหรือสัปดาห์
- รายการเวลาเป็น HH:mm หรือ HH.hh (แปลงเป็น HH.hh โดยอัตโนมัติ)
- นำเข้าจากการมอบหมาย การจอง หรือการนัดหมาย

การขยายรายการเวลาสามารถทำได้ในสองพื้นที่:
- [เพิ่มรายการเวลาที่กำหนดเองสำหรับการใช้งานของคุณเอง](#add)
- [ปรับแต่งการควบคุมรายการเวลารายสัปดาห์](#customize)

## <a name="add-custom-time-entries-for-your-own-use"></a><a name="add"></a>เพิ่มรายการเวลาที่กำหนดเองสำหรับการใช้งานของคุณเอง

รายการเวลาเป็นเอนทิตีหลักที่ใช้ในหลายสถานการณ์ ในเดือนเมษายน 2020 เวฟ 1 ได้เปิดตัวโซลูชันหลักของ TESA TESA มีเอนทิตี **การตั้งค่า** และบทบาทความปลอดภัยใหม่ของ **ผู้ใช้รายการเวลา** ฟิลด์ใหม่ **msdyn_start** และ **msdyn_end** ซึ่งมีความสัมพันธ์โดยตรงกับ **msdyn_duration** มีการรวมไว้ด้วย เอนทิตีใหม่, Security role และฟิลด์ช่วยให้สามารถใช้วิธีการที่เป็นหนึ่งเดียวกันมากขึ้นในผลิตภัณฑ์ต่างๆ


### <a name="time-source-entity"></a>เอนทิตีต้นทางเวลา
| ฟิลด์ | รายละเอียด | 
|-------|------------|
| ชื่อ  | ชื่อของรายการต้นทางเวลาที่ใช้เป็นค่าที่เลือกระหว่างการสร้างรายการเวลา |
| ต้นทางเวลาเริ่มต้น [ต้นทาง: isdefault] | ตามค่าเริ่มต้น ต้นทางเวลาเดียวเท่านั้นที่สามารถทำเครื่องหมายเริ่มต้น สิ่งนี้ช่วยให้รายการเป็นค่าเริ่มต้นเป็นต้นทางเวลาหากไม่ได้ระบุไว้ |
|ชนิดต้นทางเวลา [ต้นทางเวลา: sourcetype] | ชนิดต้นทางเป็นตัวเลือก (ชนิดต้นทางรายการเวลา) ที่อนุญาตให้มีการเชื่อมโยงต้นทางเวลากับแอป Microsoft สำรองค่ามากกว่า 190,000,000|


### <a name="time-entries-and-the-time-source-entity"></a>รายการเวลาและเอนทิตีต้นทางเวลา
รายการเวลาแต่ละรายการจะเชื่อมโยงกับเรกคอร์ดต้นทางเวลา เรกคอร์ดนี้กำหนดว่าแอปพลิเคชันใดควรประมวลผลรายการเวลาและใช้วิธีใด

รายการเวลาเป็นหนึ่งช่วงเวลาที่ต่อเนื่องกันโดยมีจุดเริ่มต้น สิ้นสุด และระยะเวลาที่เชื่อมโยงกันอยู่

ตรรกะจะปรับปรุงเรกคอร์ดรายการเวลาโดยอัตโนมัติในสถานการณ์ต่อไปนี้:

- หากระบุสองในสามฟิลด์ต่อไปนี้ ฟิลด์ที่สามจะมีการคำนวณโดยอัตโนมัติ: 

    - **msdyn_start**
    - **msdyn_end**
    - **msdyn_duration**

- ฟิลด์ **msdyn_start** และ **msdyn_end** เป็นการแสดงโซนเวลา
- รายการเวลาที่สร้างขึ้นด้วย **msdyn_date** และ **msdyn_duration** ที่ระบุเท่านั้นที่จะเริ่มในเวลาเที่ยงคืน ฟิลด์ **msdyn_start** และ **msdyn_end** จะอัปเดตตามลำดับ

#### <a name="time-entry-types"></a>ชนิดรายการเวลา

เรกคอร์ดรายการเวลามีชนิดที่เกี่ยวข้องซึ่งกำหนดลักษณะการทำงานในขั้นตอนการส่งสำหรับแอปพลิเคชันที่เกี่ยวข้อง

|ป้ายชื่อ | ค่า|
|-----|-----|
|อยู่ระหว่างพักกลางวัน   |192,355,000|
|การเดินทาง | 192,355,001|
|ล่วงเวลา   | 192,354,320|
|ทำงาน   | 192,350,000|
|การขาดงาน    | 192,350,001|
|การลาพักร้อน   | 192,350,002|


## <a name="customize-the-weekly-time-entry-control"></a><a name="customize"></a>ปรับแต่งการควบคุมรายการเวลารายสัปดาห์
นักพัฒนาสามารถเพิ่มฟิลด์และการค้นหาเพิ่มเติมให้กับเอนทิตีอื่น และใช้กฎธุรกิจที่กำหนดเองเพื่อสนับสนุนสถานการณ์ทางธุรกิจของตน

### <a name="add-custom-fields-with-lookups-to-other-entities"></a>เพิ่มฟิลด์แบบกำหนดเองที่มีการค้นหาไปยังเอนทิตีอื่น
มีสามขั้นตอนหลักในการเพิ่มฟิลด์แบบกำหนดเองไปยังกริดรายการเวลารายสัปดาห์

1. เพิ่มฟิลด์แบบกำหนดเองลงในกล่องโต้ตอบ **การสร้างด่วน**
2. กำหนดค่ากริดเพื่อแสดงฟิลด์แบบกำหนดเอง
3. เพิ่มฟิลด์ที่กำหนดเองในหน้า **การแก้ไขแถว** หรือ **การแก้ไขรายการเวลา** ได้ตามความเหมาะสม

ต้องแน่ใจว่าฟิลด์ใหม่มีการตรวจสอบที่จำเป็นในหน้า **การแก้ไขแถว** หรือ **การแก้ไขรายการเวลา** ในส่วนของงานนี้ ให้ล็อกฟิลด์ตามสถานะของรายการเวลา

เมื่อคุณเพิ่มฟิลด์ที่กำหนดเองลงในกริด **รายการเวลา** แล้วสร้างรายการเวลาในกริดโดยตรง ฟิลด์ที่กำหนดเองสำหรับรายการเหล่านั้นจะถูกตั้งค่าโดยอัตโนมัติเพื่อให้ตรงกับแถว 

### <a name="add-the-custom-field-to-the-quick-create-dialog-box"></a>เพิ่มฟิลด์ที่กำหนดเองลงในกล่องโต้ตอบการสร้างด่วน
เพิ่มฟิลด์ที่กำหนดเองลงในกล่องโต้ตอบ **การสร้างด่วน: สร้างรายการเวลา** จากนั้นผู้ใช้สามารถป้อนค่าเมื่อเพิ่มรายการเวลาโดยการเลือก **ใหม่**

### <a name="configure-the-grid-to-show-the-custom-field"></a>กำหนดค่ากริดเพื่อแสดงฟิลด์แบบกำหนดเอง
มีสองวิธีในการเพิ่มฟิลด์ที่กำหนดเองในกริด **รายการเวลารายสัปดาห์**

- ปรับแต่งมุมมอง **รายการเวลารายสัปดาห์ของฉัน** และเพิ่มฟิลด์ที่กำหนดเอง คุณสามารถระบุตำแหน่งและขนาดของฟิลด์แบบกำหนดเองในกริดได้โดยการแก้ไขคุณสมบัติในมุมมอง
- สร้างมุมมองรายการเวลาที่กำหนดเองใหม่และตั้งค่าเป็นมุมมองเริ่มต้น มุมมองนี้ควรมีฟิลด์ **คำอธิบาย** และฟิลด์ **ข้อคิดเห็นภายนอก** เพิ่มเติมจากคอลัมน์ที่คุณต้องการให้มีในกริด คุณสามารถระบุตำแหน่ง ขนาด และค่าเริ่มต้นการจัดเรียงของกริดโดยการแก้ไขคุณสมบัติในมุมมอง ถัดไป กำหนดค่าตัวควบคุมแบบกำหนดเองสำหรับมุมมองนี้เพื่อให้เป็นตัวควบคุม **กริดรายการเวลา** เพิ่มตัวควบคุมนี้ลงในมุมมอง และเลือกสำหรับ **เว็บ**, **โทรศัพท์** และ **แท็บเล็ต** จากนั้น กำหนดค่าพารามิเตอร์สำหรับกริด **รายการเวลารายสัปดาห์** Set the **วันที่เริ่มต้น** เป็น **msdyn\_date** ตั้งค่าฟิลด์ **ระยะเวลา** เป็น **msdyn\_duration** และตั้งค่าฟิลด์ **สถานะ** เป็น **msdyn\_entrystatus** ตั้งค่าฟิลด์ **รายการสถานะอ่านอย่างเดียว** เป็น **192350002 (อนุมัติแล้ว)**, **192350003 (ส่งแล้ว)** หรือ **192350004 (ร้องขอการเรียกคืนแล้ว)**

### <a name="add-the-custom-field-to-the-appropriate-edit-page"></a>เพิ่มฟิลด์แบบกำหนดเองในหน้าการแก้ไขที่เหมาะสม
หน้าที่ใช้ในการแก้ไขรายการเวลาหรือแถวของรายการเวลามีอยู่ภายใต้ **ฟอร์ม** ปุ่ม **แก้ไขรายการ** ในกริดจะเปิดหน้า **แก้ไขรายการ** และปุ่ม **แก้ไขแถว** จะเปิดหน้า **การแก้ไขแถว** คุณสามารถแก้ไขหน้าเหล่านี้เพื่อให้มีฟิลด์ที่กำหนดเอง

ทั้งสองตัวเลือกลบการกรองสำเร็จรูปบางอย่างในเอนทิตี **โครงการ** และเอนทิตี **งานโครงการ** เพื่อให้สามารถมองเห็นมุมมองการค้นหาทั้งหมดสำหรับเอนทิตี แบบสำเร็จรูป จะมองเห็นได้เฉพาะมุมมองการค้นหาที่เกี่ยวข้องเท่านั้น

คุณต้องกำหนดหน้าที่เหมาะสมสำหรับฟิลด์ที่กำหนดเอง มีความเป็นไปได้มากที่สุดถ้าคุณเพิ่มฟิลด์ลงในกริด ฟิลด์นั้นควรไปที่หน้า **การแก้ไขแถว** ที่จะใช้สำหรับฟิลด์ที่ใช้กับทั้งแถวของรายการเวลา ถ้าฟิลด์ที่กำหนดเองมีค่าที่ไม่ซ้ำกันในแถวทุกวัน (เช่น หากเป็นฟิลด์ที่กำหนดเองสำหรับเวลาสิ้นสุด) ควรไปที่หน้า **การแก้ไขรายการเวลา**

เมื่อต้องการเพิ่มฟิลด์ที่กำหนดเองในหน้า ให้ลากองค์ประกอบ **ฟิลด์** ลงในตำแหน่งที่เหมาะสมบนหน้า แล้วตั้งค่าคุณสมบัติ

### <a name="add-new-option-set-values"></a>เพิ่มค่าชุดตัวเลือกใหม่
เมื่อต้องการเพิ่มค่าชุดตัวเลือกลงในฟิลด์แบบสำเร็จรูป ให้ทำตามขั้นตอนเหล่านี้

1. เปิดหน้าการแก้ไขสำหรับฟิลด์ จากนั้นภายใต้ **ชนิด** ให้เลือก **แก้ไข** ถัดจากชุดตัวเลือก
2. เพิ่มตัวเลือกใหม่ที่มีป้ายชื่อและสีที่กำหนดเอง ถ้าคุณต้องการเพิ่มสถานะรายการเวลาใหม่ ฟิลด์สำเร็จรูปจะถูกตั้งชื่อว่า **สถานะรายการ**

### <a name="designate-a-new-time-entry-status-as-read-only"></a>กำหนดสถานะรายการเวลาใหม่เป็นแบบอ่านอย่างเดียว
เมื่อต้องการกำหนดสถานะรายการเวลาใหม่เป็นแบบอ่านอย่างเดียว ให้เพิ่มค่ารายการเวลาใหม่ไปยังคุณสมบัติ **รายการสถานะแบบอ่านอย่างเดียว** อย่าลืมเพิ่มหมายเลข ไม่ใช่ป้ายชื่อ ตอนนี้ส่วนที่แก้ไขได้ของกริดรายการเวลาจะถูกล็อคสำหรับแถวที่มีสถานะใหม่ หากต้องการตั้งค่าคุณสมบัติ **รายการสถานะอ่านอย่างเดียว** ที่แตกต่างกันสำหรับมุมมอง **รายการเวลา** ต่างๆ ให้เพิ่มกริด **รายการเวลา** ในส่วน **ตัวควบคุมที่กำหนดเอง** ของมุมมอง และกำหนดค่าพารามิเตอร์ตามความเหมาะสม

ถัดไป เพิ่มกฎทางธุรกิจเพื่อล็อกฟิลด์ทั้งหมดในหน้า **การแก้ไขแถว** และ **การแก้ไขรายการเวลา** หากต้องการเข้าถึงกฎธุรกิจสำหรับหน้าเหล่านี้ ให้เปิดตัวแก้ไขฟอร์มสำหรับแต่ละหน้า แล้วเลือก **กฎธุรกิจ** คุณสามารถเพิ่มสถานะใหม่ให้กับเงื่อนไขในกฎทางธุรกิจที่มีอยู่ หรือคุณสามารถเพิ่มกฎทางธุรกิจใหม่สำหรับสถานะใหม่

### <a name="add-custom-validation-rules"></a>เพิ่มกฎการตรวจสอบความถูกต้องแบบกำหนดเอง
คุณสามารถเพิ่มกฎการตรวจสอบความถูกต้องได้สองประเภทสำหรับประสบการณ์กริด **รายการเวลารายสัปดาห์**:

- กฎธุรกิจฝั่งไคลเอ็นต์ที่ทำงานบนหน้า
- การตรวจสอบความถูกต้องของปลั๊กอินฝั่งเซิร์ฟเวอร์ที่ใช้กับการปรับปรุงรายการเวลาทั้งหมด

#### <a name="client-side-business-rules"></a>กฎธุรกิจฝั่งไคลเอ็นต์
ใช้กฎทางธุรกิจเพื่อล็อคและปลดล็อกฟิลด์ ป้อนค่าเริ่มต้นในฟิลด์ และกำหนดการตรวจสอบที่จำเป็นต้องมีข้อมูลจากเรกคอร์ดการป้อนเวลาปัจจุบันเท่านั้น หากต้องการเข้าถึงกฎธุรกิจสำหรับหน้า ให้เปิดตัวแก้ไขฟอร์ม แล้วเลือก **กฎธุรกิจ** จากนั้นคุณสามารถแก้ไขกฎทางธุรกิจที่มีอยู่หรือเพิ่มกฎทางธุรกิจใหม่

#### <a name="server-side-plug-in-validations"></a>การตรวจสอบความถูกต้องของปลั๊กอินฝั่งเซิร์ฟเวอร์
คุณควรใช้การตรวจสอบปลั๊กอินสำหรับการตรวจสอบใดๆที่จำเป็นต้องมีบริบทมากกว่าแบบพร้อมใช้งานในเรกคอร์ดรายการเวลาเดียว คุณควรใช้รายการเหล่านี้สำหรับการตรวจสอบความถูกต้องใดๆ ที่คุณต้องการเรียกใช้การปรับปรุงแบบอินไลน์ในกริด เมื่อต้องการทำการตรวจสอบความถูกต้องให้เสร็จสมบูรณ์ ให้สร้างปลั๊กอินแบบกำหนดเองบนเอนทิตี **รายการเวลา**

### <a name="limits"></a>ขีดจำกัด
ปัจจุบันกริด **รายการเวลา** มีการจำกัดขนาดที่ 500 แถว หากมีมากกว่า 500 แถว แถวที่เกินจะไม่แสดง ไม่มีวิธีเพิ่มขีดจำกัดของขนาดนี้ได้

### <a name="copying-time-entries"></a>การคัดลอกรายการเวลา
ใช้มุมมอง **คัดลอกคอลัมน์รายการเวลา** เพื่อกำหนดรายการฟิลด์ที่จะคัดลอกระหว่างรายการเวลา **วันที่** และ **ระยะเวลา** เป็นฟิลด์ที่จำเป็นและไม่ควรลบออกจากมุมมอง


[!INCLUDE[footer-include](../includes/footer-banner.md)]
