---
title: ตั้งค่าคอนฟิกวัสดุที่ไม่ได้เก็บในคลังและใบแจ้งหนี้ของผู้จัดจำหน่ายที่รอดำเนินการ
description: บทความนี้อธิบายวิธีการเปิดใช้งานวัสดุที่ไม่ได้เก็บในคลังและใบแจ้งหนี้ของผู้จัดจำหน่ายที่รอดำเนินการ
author: sigitac
ms.date: 06/22/2021
ms.topic: article
ms.prod: ''
ms.reviewer: johnmichalak
ms.author: sigitac
ms.openlocfilehash: 6473ef3510f0d3641a2d61b6a1b1f28980993277
ms.sourcegitcommit: 6cfc50d89528df977a8f6a55c1ad39d99800d9b4
ms.translationtype: HT
ms.contentlocale: th-TH
ms.lasthandoff: 06/03/2022
ms.locfileid: "8913781"
---
# <a name="configure-non-stocked-materials-and-pending-vendor-invoices"></a>ตั้งค่าคอนฟิกวัสดุที่ไม่ได้เก็บในคลังและใบแจ้งหนี้ของผู้จัดจำหน่ายที่รอดำเนินการ

_**นำไปใช้กับ:** Project Operations สำหรับสถานการณ์ตามทรัพยากร/ไม่ได้เก็บในคลัง_

## <a name="minimum-version-requirement"></a>ข้อกำหนดเวอร์ชันขั้นต่ำ

การใช้วัสดุที่ไม่ได้เก็บในคลังและใบแจ้งหนี้ของผู้จัดจำหน่ายที่รอดำเนินการสำหรับสถานการณ์ที่ไม่ได้เก็บในคลัง/ที่ใช้ทรัพยากรของ Dynamics 365 Project Operations จำเป็นต้องใช้เวอร์ชันต่อไปนี้:

โซลูชัน Dynamics 365 Dataverse:

- Project Operations – 4.9.0.221 หรือสูงกว่า
- โซลูชันการจัดเรียงแอปพลิเคชันการรวมแบบสองทิศทาง - 2.2.2.23 หรือสูงกว่า

Dynamics 365 Finance:
- 10.0.18 (10.0.793.52) หรือสูงกว่า ตรวจสอบให้แน่ใจว่าสภาพแวดล้อม Finance ของคุณเป็นปัจจุบัน และมีการใช้การอัปเดตคุณภาพทั้งหมดเพื่อให้เป็นไปตามข้อกำหนดเวอร์ชันขั้นต่ำ

## <a name="run-dual-write-maps-for-non-stocked-materials-and-vendor-invoice-integration"></a>เรียกใช้แผนที่การรวมแบบสองทิศทางสำหรับวัสดุที่ไม่ได้เก็บในคลังและการรวมใบแจ้งหนี้ของผู้จัดจำหน่าย

ส่วนนี้ให้ข้อมูลเกี่ยวกับแผนที่เฉพาะที่จำเป็นสำหรับวัสดุที่ไม่ได้เก็บในคลังและใบแจ้งหนี้ของผู้จัดจำหน่าย ตรวจสอบว่าแผนผังข้อกำหนดเบื้องต้นที่ระบุไว้ในบทความ [จัดเตรียมสภาพแวดล้อมใหม่](../environment/resource-provision-new-environment.md#run-project-operations-dual-write-maps) กำลังทำงานในสภาพแวดล้อมของคุณ

1. ไปที่ Lifecycle Services (LCS) นำทางไปยังโครงการ LCS ของคุณ และไปที่หน้า **รายละเอียดสภาพแวดล้อม**
2. ในส่วน **ข้อมูลสภาพแวดล้อม Common Data Service** เลือก **ลิงก์ไปยัง CDS สำหรับแอป** หลังจากคุณเลือกลิงก์ คุณจะได้รับการเปลี่ยนเส้นทางไปยังรายการเอนทิตีในการแมป
3. ตรวจสอบให้แน่ใจว่าแผนที่ต่อไปนี้กำลังทำงานอยู่ หากไม่ทำงาน ให้เริ่มใช้งานและตรวจสอบให้แน่ใจว่าได้รวมแผนที่ตารางที่เกี่ยวข้องทั้งหมด

    - CDS เปิดตัวผลิตภัณฑ์ที่แตกต่าง (ผลิตภัณฑ์)
    - ผู้จัดจำหน่าย v2 (msdyn_vendors)
    - ตาราง Project Operations สำหรับการประมาณวัสดุ (msdyn_estimatelines)
    - เอนทิตีการส่งออกใบแจ้งหนี้ของผู้จัดจำหน่ายโครงการการรวม Project Operations (msdyn_projectvendorinvoices)
    - เอนทิตีการส่งออกรายการใบแจ้งหนี้ของผู้จัดจำหน่ายโครงการการรวม Project Operations (msdyn_projectvendorinvoicelines)
    - ข้อมูลจริงของการรวม Project Operations (msdyn_actuals) ตรวจสอบให้แน่ใจว่าคุณใช้แผนที่เวอร์ชัน 1.0.0.14 หรือสูงกว่า คุณสามารถดูแผนที่เวอร์ชันที่ใช้งานได้ในคอลัมน์ **เวอร์ชัน** บนหน้า **การรวมแบบสองทิศทาง** คุณสามารถเปิดใช้งานแผนที่เวอร์ชันใหม่ได้โดยเลือก **เวอร์ชันแผนที่ของตาราง** แล้วจากนั้น บันทึกเวอร์ชันที่เลือก

หากคุณกำลังใช้ข้อมูลสาธิตมาตรฐาน คุณอาจต้องหยุดและรีสตาร์ทแผนที่เอนทิตีต่อไปนี้ด้วยการซิงค์ครั้งแรก:
  - วันชำระเงิน CDS V2 (msdyn_paymentdays)
  - กำหนดการชำระเงิน (msdyn_paymentschedules)
  - เงื่อนไขการชำระเงิน (msdyn_paymentterms)
  - กลุ่มผู้จัดจำหน่าย (msdyn_vendorgroups)
  - หน่วย (uom)

> [!NOTE]
> การซิงค์เริ่มต้นสำหรับกลุ่มผู้จัดจำหน่ายและหน่วย อาจล้มเหลวสำหรับเรกคอร์ดสองสามรายการในชุดข้อมูลสาธิตที่มีอยู่ คุณสามารถเพิกเฉยต่อความล้มเหลวได้ เนื่องจากจะไม่ป้องกันไม่ให้คุณใช้ข้อมูลสาธิตด้วย Project Operations

## <a name="configure-prerequisites-in-dataverse"></a>ตั้งค่าคอนฟิกข้อกำหนดเบื้องต้นใน Dataverse

### <a name="activate-workflow-to-create-accounts-based-on-vendor-entity"></a>เริ่มการใช้งานเวิร์กโฟลว์เพื่อสร้างบัญชีตามเอนทิตีผู้จัดจำหน่าย

โซลูชัน Dual Write Orchestration มี [การรวมหลักของผู้จัดจำหน่าย](/dynamics365/fin-ops-core/dev-itpro/data-entities/dual-write/vendor-mapping) ดังข้อกำหนดเบื้องต้นสำหรับคุณลักษณะนี้ ต้องมีการสร้างข้อมูลผู้จัดจำหน่ายในเอนทิตี **บัญชี** เริ่มการใช้งานกระบวนการเวิร์กโฟลว์เทมเพลตเพื่อสร้างผู้จัดจำหน่ายในตาราง **บัญชี** ตามที่อธิบายไว้ใน [สลับไปมาระหว่างการออกแบบของผู้จัดจำหน่าย](/dynamics365/fin-ops-core/dev-itpro/data-entities/dual-write/vendor-switch)

### <a name="set-products-to-be-created-as-active"></a>ตั้งค่าผลิตภัณฑ์ที่จะถูกสร้างเป็นใช้งานอยู่

ต้องตั้งค่าคอนฟิกวัสดุที่ไม่ได้เก็บในคลังเป็น **ผลิตภัณฑ์ที่นำออกใช้** ใน Finance โซลูชัน Dual Write Orchestration มี [การรวมผลิตภัณฑ์ที่นำออกใช้กับแค็ตตาล็อกผลิตภัณฑ์ Dataverse](/dynamics365/fin-ops-core/dev-itpro/data-entities/dual-write/product-mapping) โดยค่าเริ่มต้น ผลิตภัณฑ์จาก Finance จะถูกซิงโครไนซ์กับ Dataverse ในสถานะร่าง ในการซิงโครไนซ์ผลิตภัณฑ์ให้อยู่ในสถานะใช้งาน เพื่อให้สามารถใช้ได้โดยตรงในเอกสารการใช้วัสดุหรือใบแจ้งหนี้ของผู้จัดจำหน่ายที่รอดำเนินการ ให้ไปที่ **ระบบ** > **การจัดการ** > **การจัดการระบบ** > **การตั้งค่าระบบ** และบนแท็บ **การขาย** ตั้งค่า **สร้างผลิตภัณฑ์ในสถานะใช้งาน** เป็น **ใช่**

## <a name="configure-prerequisites-in-finance"></a>ตั้งค่าคอนฟิกข้อกำหนดเบื้องต้นใน Finance

### <a name="enable-the-feature-key-for-pending-vendor-invoices"></a>เปิดใช้งานคีย์คุณลักษณะสำหรับใบแจ้งหนี้ของผู้จัดจำหน่ายที่รอดำเนินการ

ทำตามขั้นตอนต่อไปนี้เพื่อเปิดใช้งานฟังก์ชันเพื่อเพิ่มรายละเอียดโครงการในรายการใบแจ้งหนี้ของผู้จัดจำหน่ายที่รอดำเนินการ

1. ใน Finance ไปที่พื้นที่ทำงาน **การจัดการคุณลักษณะ**
2. ในรายการคุณลักษณะ ค้นหาคุณลักษณะ **เปิดใช้งานใบแจ้งหนี้ของผู้จัดจำหน่ายที่รอดำเนินการใน Project Operations สำหรับสถานการณ์ที่อิงตามทรัพยากร/ที่ไม่ได้เก็บในคลัง** และเลือก **เปิดใช้งาน**

### <a name="define-category-groups-and-project-categories-for-items"></a>กำหนดกลุ่มประเภทและประเภทโครงการสำหรับรายการ

ตั้งค่าคอนฟิกกลุ่มประเภทอย่างน้อยหนึ่งกลุ่มสำหรับชนิดธุรกรรม **สินค้า** และอย่างน้อยหนึ่งประเภทโครงการที่ใช้กลุ่มนี้ สำหรับข้อมูลเพิ่มเติม โปรดดู [ตั้งค่าคอนฟิกประเภทโครงการ](../project-accounting/configure-project-categories.md#category-groups)

ตรวจสอบโปรไฟล์ต้นทุนโครงการและโปรไฟล์รายได้ และตั้งค่าคอนฟิกการตั้งค่าการลงรายการบัญชีแยกประเภทสำหรับธุรกรรมสินค้า สำหรับข้อมูลเพิ่มเติม โปรดดู [ตั้งค่าคอนฟิกการบัญชีสำหรับโครงการที่เรียกเก็บเงินได้](../project-accounting/configure-accounting-billable-projects.md)

### <a name="set-up-a-write-in-product"></a>ตั้งค่าผลิตภัณฑ์ที่เขียนเพิ่ม

ใน Project Operations คุณสามารถบันทึกค่าประมาณวัสดุและการใช้งานสำหรับผลิตภัณฑ์แค็ตตาล็อกที่ตั้งค่าคอนฟิกไว้ในแค็ตตาล็อกผลิตภัณฑ์ที่นำออกใช้และสำหรับผลิตภัณฑ์ที่เขียนเพิ่ม การใช้ผลิตภัณฑ์ที่เขียนเพิ่มจำเป็นต้องใช้ผลิตภัณฑ์ที่นำออกใช้เดียวซึ่งตั้งค่าคอนฟิกไว้ใน Finance เพื่อจุดประสงค์นี้ ทำตามขั้นตอนต่อไปนี้เพื่อตั้งค่าคอนฟิกผลิตภัณฑ์ที่เขียนเพิ่ม ทำซ้ำขั้นตอนเหล่านี้ในนิติบุคคลแต่ละรายที่ใช้ Project Operations สำหรับสถานการณ์จำลองทรัพยากร/ที่ไม่ได้เก็บในคลัง

1. ใน Finance ไปที่ **การจัดการข้อมูลผลิตภัณฑ์** > **ผลิตภัณฑ์** > **ผลิตภัณฑ์ที่นำออกใช้** และเลือก **ใหม่**
2. ในฟิลด์ **ชนิดผลิตภัณฑ์** ให้เลือก **สินค้า** และในฟิลด์ **ชนิดย่อยของผลิตภัณฑ์** ให้เลือก **ผลิตภัณฑ์**
3. ป้อนหมายเลขผลิตภัณฑ์ (WRITEIN) และชื่อผลิตภัณฑ์ (ผลิตภัณฑ์ที่เขียนเพิ่ม)
4. เลือกกลุ่มโมเดลสินค้า ตรวจสอบให้แน่ใจว่ากลุ่มโมเดลสินค้าที่คุณเลือกได้ตั้งค่าฟิลด์ **นโยบายสินค้าคงคลัง ผลิตภัณฑ์ที่เก็บในคลัง** เป็น **เท็จ**
5. เลือกค่าในฟิลด์ **กลุ่มสินค้า**, **กลุ่มมิติการจัดเก็บ** และ **กลุ่มมิติการติดตาม** ใช้ **มิติการจัดเก็บ** สำหรับ **ไซต์** เท่านั้นและในฟิลด์ **มิติการติดตาม** เลือก **ไม่มี**
6. เลือกค่าในฟิลด์ **หน่วยสินค้าคงคลัง**, **หน่วยการซื้อ** และ **หน่วยการขาย** แล้วจากนั้น บันทึกการเปลี่ยนแปลงของคุณ
7. ในแท็บ **วางแผน** ตั้งค่าการตั้งค่าใบสั่งเริ่มต้น และบนแท็บ **สินค้าคงคลัง** ตั้งค่าไซต์และคลังสินค้าเริ่มต้น
8. ไปที่ **การจัดการโครงการและการบัญชี** > **ติดตั้ง** > **พารามิเตอร์การจัดการโครงการและการบัญชี** และเปิด **Project Operations บน Dynamics 365 Dataverse** 
9. บนแท็บ **วัสดุ** ใน **ผลิตภัณฑ์ที่เขียนเพิ่ม** เลือกผลิตภัณฑ์ที่คุณสร้างขึ้น
10. ในสภาพแวดล้อม Dataverse ในแผนผังเว็บไซต์ เปิดเอนทิตี **ผลิตภัณฑ์** และค้นหาเรกคอร์ดผลิตภัณฑ์ที่เขียนเพิ่ม 
11. เปิดรายละเอียดเรกคอร์ดและตั้งค่าสถานะผลิตภัณฑ์เป็น **เลิกใช้แล้ว** สถานะผลิตภัณฑ์นี้ป้องกันไม่ให้ใครก็ตามใช้เรกคอร์ดนี้โดยตรงในเอกสารประมาณการวัสดุและเอกสารการใช้งาน

### <a name="set-up-a-procurement-integration-account"></a>ตั้งค่าบัญชีการรวมการจัดซื้อ

บัญชีการรวมการจัดซื้อถูกใช้เป็นบัญชีการหักบัญชี เมื่อลงรายการบัญชีใบแจ้งหนี้ของผู้จัดจำหน่ายที่รอดำเนินการพร้อมรายการที่มาจากโครงการ

เมื่อระบบลงรายการบัญชีใบแจ้งหนี้ของผู้จัดจำหน่ายที่รอดำเนินการ บัญชีนี้จะถูกใช้สำหรับยอดต้นทุนโครงการ รายละเอียดใบแจ้งหนี้ของผู้จัดจำหน่ายจะถูกประมวลผลใน Dataverse และมีการสร้างข้อมูลจริงของโครงการที่เกี่ยวข้อง ข้อมูลจากข้อมูลจริงของโครงการถูกเพิ่มลงในสมุดรายวันการรวม Project Operations เมื่อคุณลงรายการบัญชีสมุดรายวันการรวม จำนวนเงินจะถูกหักออกจากบัญชีการรวมการจัดซื้อและบันทึกลงในต้นทุนโครงการ

1. เพื่อตั้งค่าบัญชีการรวมการจัดซื้อ ไปที่ **การจัดการโครงการและการบัญชี** > **ติดตั้ง** > **พารามิเตอร์การจัดการโครงการและการบัญชี** และเปิด **Project Operations บน Dynamics 365 Dataverse** 
2. เลือกแท็บ **วัสดุ** แล้วเลือกค่าในฟิลด์ **บัญชีการรวมการจัดซื้อ**

#### <a name="set-up-project-category-defaults-for-an-item"></a>ตั้งค่าค่าเริ่มต้นประเภทโครงการสำหรับสินค้า

1. ใน Finance ไปที่ **การจัดการโครงการและการบัญชี** > **ติดตั้ง** > **พารามิเตอร์การจัดการโครงการและการบัญชี** และเปิด **Project Operations บน Dynamics 365 Dataverse** 
2. บนแท็บ **ค่าเริ่มต้นประเภทโครงการ** ในฟิลด์ **สินค้า** เลือกค่า ประเภทโครงการนี้ถูกใช้สำหรับธุรกรรมวัสดุ หากไม่ได้ตั้งค่าประเภทของโครงการไว้ในเรกคอร์ดข้อมูลจริงของโครงการ
