---
title: เชื่อมโยงข้อมูลจริงกับเรกคอร์ดเดิม
description: หัวข้อนี้อธิบายถึงวิธีการเชื่อมโยงข้อมูลจริงกับเรกคอร์ดเดิม เช่น รายการเวลา รายการค่าใช้จ่าย หรือบันทึกการใช้วัสดุ
author: rumant
ms.date: 03/25/2021
ms.topic: article
ms.prod: ''
ms.reviewer: kfend
ms.author: rumant
ms.openlocfilehash: b5a70d2c2b3f98028b4e4998ed25ab73a275c66e4b8137eb573b943658a1a41e
ms.sourcegitcommit: 7f8d1e7a16af769adb43d1877c28fdce53975db8
ms.translationtype: HT
ms.contentlocale: th-TH
ms.lasthandoff: 08/06/2021
ms.locfileid: "6991779"
---
# <a name="link-actuals-to-original-records"></a>เชื่อมโยงข้อมูลจริงกับเรกคอร์ดเดิม

_**นำไปใช้กับ:** Project Operations สำหรับสถานการณ์ตามทรัพยากร/วัสดุที่ไม่ได้เก็บในคลัง การปรับใช้งานแบบ Lite - จัดการกับการออกใบแจ้งหนี้ชั่วคราว_


ใน Dynamics 365 Project Operations *ธุรกรรมทางธุรกิจ* เป็นแนวคิดที่เป็นนามธรรมซึ่งไม่ได้แสดงโดยเอนทิตี อย่างไรก็ตามบางฟิลด์และกระบวนการทั่วไปบนเอนทิตีได้รับการออกแบบมาเพื่อใช้แนวคิดของธุรกรรมทางธุรกิจ เอนทิตีต่อไปนี้ใช้แนวคิดนี้:

- รายละเอียดรายการใบเสนอราคา
- รายละเอียดที่เป็นรายละเอียดการให้บริการตามสัญญา
- บรรทัดการประมาณการ
- บรรทัดสมุดรายวัน
- ตามจริง

สำหรับเอนทิตี **รายละเอียดรายการใบเสนอราคา**, **รายละเอียดของรายละเอียดการให้บริการตามสัญญา** และ **รายการประมาณการ** เหล่านี้มีการแมปกับระยะการประเมินในวงจรการใช้ของโครงการ **บรรทัดสมุดรายวัน** และ **เอนทิตีข้อมูลจริง** ได้รับการแมปกับขั้นตอนการดำเนินการในวงจรใช้งานของโครงการ

Project Operations ให้เรกคอร์ดในทั้งห้าเอนทิตีนี้เป็นธุรกรรมทางธุรกิจ ความแตกต่างเพียงอย่างเดียวคือเรกคอร์ดในเอนทิตีที่มีการแมปกับระยะประมาณการจะถือว่าเป็นการคาดการณ์ทางการเงิน ในขณะที่เรกคอร์ดในเอนทิตีที่ถูกแมปไปยังระยะการดำเนินการจะถือว่าเป็นข้อเท็จจริงทางการเงินที่เกิดขึ้นแล้ว

## <a name="concepts-that-are-unique-to-business-transactions"></a>แนวคิดที่ไม่ซ้ำกับธุรกรรมทางธุรกิจ
แนวคิดต่อไปนี้ไม่ซ้ำกับแนวคิดของธุรกรรมทางธุรกิจ:

- ชนิดธุรกรรม
- คลาสธุรกรรม
- ที่มาของธุรกรรม
- การเชื่อมต่อธุรกรรม

### <a name="transaction-type"></a>ชนิดธุรกรรม

ชนิดของธุรกรรมแสดงถึงระยะเวลาและบริบทของผลกระทบทางการเงินในโครงการ แสดงโดยชุดตัวเลือกที่มีค่าที่สนับสนุนใน Project Operations ดังต่อไปนี้:

  - ต้นทุน
  - สัญญาโครงการ
  - การขายที่ยังไม่ได้เรียกเก็บเงิน
  - การขายที่เรียกเก็บเงินแล้ว
  - การขายระหว่างองค์กร
  - ต้นทุนต่อหน่วยการจัดเตรียมทรัพยากร

### <a name="transaction-class"></a>คลาสธุรกรรม

คลาสของธุรกรรมแสดงถึงชนิดต่างๆ ของต้นทุนที่เกิดขึ้นในโครงการ แสดงโดยชุดตัวเลือกที่มีค่าที่สนับสนุนใน Project Operations ดังต่อไปนี้:

  - เวลา
  - ค่าใช้จ่าย
  - วัสดุ
  - ค่าธรรมเนียม
  - หลักเป้าหมาย
  - ภาษี

**หลักเป้าหมาย** มักถูกใช้โดยตรรกะทางธุรกิจสำหรับการเรียกเก็บเงินที่มีราคาคงที่ใน Project Operations

### <a name="transaction-origin"></a>ที่มาของธุรกรรม

**ที่มาของธุรกรรม** เป็นเอนทิตีที่เก็บต้นกำเนิดของธุรกรรมทางธุรกิจแต่ละรายการ ในขณะที่โครงการกำลังดำเนินอยู่ ธุรกรรมทางธุรกิจแต่ละรายการจะก่อให้เกิดธุรกรรมทางธุรกิจอื่นซึ่งจะทำให้เกิดรายการอื่นขึ้นไปเรื่อยๆ เอนทิตีที่มาของธุรกรรมได้รับการออกแบบมาเพื่อจัดเก็บข้อมูลเกี่ยวกับที่มาของธุรกรรมแต่ละรายการเพื่อช่วยในการรายงานและการตรวจสอบย้อนกลับ 

### <a name="transaction-connection"></a>การเชื่อมต่อธุรกรรม

**การเชื่อมต่อธุรกรรม** เป็นเอนทิตีที่จัดเก็บความสัมพันธ์ระหว่างสองธุรกรรมทางธุรกิจที่คล้ายกัน เช่น ข้อมูลจริงต้นทุนและการขายที่เกี่ยวข้อง หรือการกลับรายการธุรกรรมที่ถูกทริกเกอร์โดยกิจกรรมการเรียกเก็บเงิน เช่น การยืนยันใบแจ้งหนี้หรือการแก้ไขใบแจ้งหนี้

**ที่มาของธุรกรรม** และ **การเชื่อมต่อธุรกรรม** ช่วยให้คุณรักษาการติดตามความสัมพันธ์ระหว่างธุรกรรมธุรกิจและการดำเนินการที่มีผลลัพธ์เป็นธุรกรรมทางธุรกิจที่เฉพาะเจาะจง

### <a name="example-how-transaction-origin-works-with-transaction-connection"></a>ตัวอย่าง: วิธีที่ที่มาของธุรกรรมทำงานกับการเชื่อมต่อธุรกรรม

ตัวอย่างต่อไปนี้แสดงการประมวลผลรายการเวลาโดยทั่วไปในวงจรการใช้ของโครงการ Project Operations

> ![การประมวลผลรายการเวลาในวัฏจักร Project Service](media/basic-guide-17.png)
 
1. การส่งรายการเวลาจะสร้างบรรทัดสมุดรายวันสองรายการ: รายการหนึ่งสำหรับต้นทุนและรายการหนึ่งสำหรับการขายที่ยังไม่ได้เรียกเก็บเงิน
2. การส่งการอนุมัติของรายการเวลาจะสร้างข้อมูลจริงสองรายการ: ข้อมูลจริงหนึ่งสำหรับต้นทุนและข้อมูลจริงหนึ่งสำหรับการขายที่ยังไม่ได้เรียกเก็บเงิน
3. เมื่อมีการสร้างใบแจ้งหนี้โครงการใหม่ ธุรกรรมรายการใบแจ้งหนี้จะถูกสร้างขึ้นโดยใช้ข้อมูลจากการขายจริงที่ยังไม่ได้เรียกเก็บเงิน 
4. เมื่อใบแจ้งหนี้ได้รับการยืนยันจะมีการสร้างข้อมูลจริงใหม่สองรายการ: การกลับรายการขายจริงที่ยังไม่ได้เรียกเก็บเงินและการขายจริงที่เรียกเก็บเงินแล้ว

แต่ละเหตุการณ์เหล่านี้สร้างเรกคอร์ดในเอนทิตี **ที่มาของธุรกรรม** และ **การเชื่อมต่อธุรกรรม** เรกคอร์ดใหม่เหล่านี้ช่วยสร้างประวัติของความสัมพันธ์ระหว่างเรกคอร์ดที่สร้างขึ้นระหว่างรายการเวลา บรรทัดสมุดรายวัน ข้อมูลจริง และรายละเอียดรายการใบแจ้งหนี้

ตารางต่อไปนี้แสดงเรกคอร์ดในเอนทิตี **ที่มาของธุรกรรม** สำหรับเวิร์กโฟลว์

| กิจกรรมพิเศษ                        | ต้นเรื่อง                   | ชนิดที่มา                       | ธุรกรรม                       | ชนิดธุรกรรม         |
|------------------------------|--------------------------|-----------------------------------|-----------------------------------|--------------------------|
| การส่งรายการเวลา        | GUID เรกคอร์ดรายการเวลา   | รายการเวลา                        | GUID (ต้นทุน) เรกคอร์ดบรรทัดสมุดรายวัน    | บรรทัดสมุดรายวัน             |
| GUID เรกคอร์ดรายการเวลา       | รายการเวลา               | GUID เรกคอร์ดบรรทัดสมุดรายวัน (การขาย)   | บรรทัดสมุดรายวัน                      |                          |
| การอนุมัติเวลา                | GUID เรกคอร์ดบรรทัดสมุดรายวัน | บรรทัดสมุดรายวัน                      | GUID เรกคอร์ดการขายที่ยังไม่ได้เรียกเก็บเงิน        | ตามจริง                   |
| GUID เรกคอร์ดรายการเวลา       | รายการเวลา               | GUID เรกคอร์ดการขายที่ยังไม่ได้เรียกเก็บเงิน        | ตามจริง                            |                          |
| GUID เรกคอร์ดบรรทัดสมุดรายวัน     | บรรทัดสมุดรายวัน             | GUID เรกคอร์ดต้นทุนตามจริง           | ตามจริง                            |                          |
| GUID เรกคอร์ดรายการเวลา       | รายการเวลา               | GUID เรกคอร์ดต้นทุนตามจริง           | เกิดขึ้นจริง                            |                          |
| การสร้างใบแจ้งหนี้             | GUID เรกคอร์ดรายการเวลา   | รายการเวลา                        | GUID ธุรกรรมของรายการใบแจ้งหนี้     | ธุรกรรมของรายการใบแจ้งหนี้ |
| GUID เรกคอร์ดบรรทัดสมุดรายวัน     | บรรทัดสมุดรายวัน             | GUID ธุรกรรมของรายการใบแจ้งหนี้     | ธุรกรรมของรายการใบแจ้งหนี้          |                          |
| การยืนยันใบแจ้งหนี้         | GUID รายการใบแจ้งหนี้        | รายการใบแจ้งหนี้                      | GUID เรกคอร์ดการขายที่เรียกเก็บเงินแล้ว          | ตามจริง                   |
| GUID ใบแจ้งหนี้                 | ใบแจ้งหนี้                  | GUID เรกคอร์ดการขายที่เรียกเก็บเงินแล้ว          | ตามจริง                            |                          |
| GUID รายละเอียดรายการใบแจ้งหนี้     | รายละเอียดรายการใบแจ้งหนี้      | GUID เรกคอร์ดการขายที่เรียกเก็บเงินแล้ว          | ตามจริง                            |                          |
| GUID เรกคอร์ดรายการเวลา       | รายการเวลา               | GUID เรกคอร์ดการขายที่เรียกเก็บเงินแล้ว          | ตามจริง                            |                          |
| GUID เรกคอร์ดบรรทัดสมุดรายวัน     | บรรทัดสมุดรายวัน             | GUID เรกคอร์ดการขายที่เรียกเก็บเงินแล้ว          | ตามจริง                            |                          |
| GUID เรกคอร์ดรายการเวลา       | รายการเวลา               | GUID การกลับการขายที่ยังไม่ได้เรียกเก็บเงิน      | ตามจริง                            |                          |
| GUID เรกคอร์ดบรรทัดสมุดรายวัน     | บรรทัดสมุดรายวัน             | GUID การกลับการขายที่ยังไม่ได้เรียกเก็บเงิน      | ตามจริง                            |                          |
| การแก้ไขใบแจ้งหนี้แบบร่าง     | ILD GUID เก่า             | ธุรกรรมของรายการใบแจ้งหนี้          | ILD GUID การแก้ไข               | ธุรกรรมของรายการใบแจ้งหนี้ |
| IL GUID เก่า                  | รายการใบแจ้งหนี้             | ILD GUID การแก้ไข               | ธุรกรรมของรายการใบแจ้งหนี้          |                          |
| GUID ใบแจ้งหนี้ที่ชำระแล้วเก่า             | ใบแจ้งหนี้                  | ILD GUID การแก้ไข               | ธุรกรรมของรายการใบแจ้งหนี้          |                          |
| GUID เรกคอร์ดรายการเวลา       | รายการเวลา               | ILD GUID การแก้ไข               | ธุรกรรมของรายการใบแจ้งหนี้          |                          |
| GUID เรกคอร์ดบรรทัดสมุดรายวัน     | บรรทัดสมุดรายวัน             | ILD GUID การแก้ไข               | ธุรกรรมของรายการใบแจ้งหนี้          |                          |
| การแก้ไขใบแจ้งหนี้ที่ยืนยันแล้ว | ILD GUID เก่า             | ธุรกรรมของรายการใบแจ้งหนี้          | GUID การขายตามจริงที่เรียกเก็บเงินแล้วที่กลับรายการ | ตามจริง                   |
| IL GUID เก่า                  | รายการใบแจ้งหนี้             | GUID การขายตามจริงที่เรียกเก็บเงินแล้วที่กลับรายการ | ตามจริง                            |                          |
| GUID ใบแจ้งหนี้ที่ชำระแล้วเก่า             | ใบแจ้งหนี้                  | GUID การขายตามจริงที่เรียกเก็บเงินแล้วที่กลับรายการ | ตามจริง                            |                          |
| GUID เรกคอร์ดรายการเวลา       | รายการเวลา               | GUID การขายตามจริงที่เรียกเก็บเงินแล้วที่กลับรายการ | ตามจริง                            |                          |
| GUID เรกคอร์ดบรรทัดสมุดรายวัน     | บรรทัดสมุดรายวัน             | GUID การขายตามจริงที่เรียกเก็บเงินแล้วที่กลับรายการ | ตามจริง                            |                          |
| ILD GUID เก่า                 | ธุรกรรมของรายการใบแจ้งหนี้ | GUID การขายตามจริงใหม่ที่ยังไม่ได้เรียกเก็บเงิน    | ตามจริง                            |                          |
| IL GUID เก่า                  | รายการใบแจ้งหนี้             | GUID การขายตามจริงใหม่ที่ยังไม่ได้เรียกเก็บเงิน    | ตามจริง                            |                          |
| GUID ใบแจ้งหนี้ที่ชำระแล้วเก่า             | ใบแจ้งหนี้                  | GUID การขายตามจริงใหม่ที่ยังไม่ได้เรียกเก็บเงิน    | ตามจริง                            |                          |
| GUID เรกคอร์ดรายการเวลา       | รายการเวลา               | GUID การขายตามจริงใหม่ที่ยังไม่ได้เรียกเก็บเงิน    | ตามจริง                            |                          |
| GUID เรกคอร์ดบรรทัดสมุดรายวัน     | บรรทัดสมุดรายวัน             | GUID การขายตามจริงใหม่ที่ยังไม่ได้เรียกเก็บเงิน    | ตามจริง                            |                          |
| ILD GUID การแก้ไข          | ธุรกรรมของรายการใบแจ้งหนี้ | GUID การขายตามจริงใหม่ที่ยังไม่ได้เรียกเก็บเงิน    | ตามจริง                            |                          |
| IL GUID การแก้ไข           | รายการใบแจ้งหนี้             | GUID การขายตามจริงใหม่ที่ยังไม่ได้เรียกเก็บเงิน    | ตามจริง                            |                          |
| GUID ใบแจ้งหนี้การแก้ไข      | ใบแจ้งหนี้                  | GUID การขายตามจริงใหม่ที่ยังไม่ได้เรียกเก็บเงิน    | ตามจริง                            |                          |

ตารางต่อไปนี้แสดงเรกคอร์ดในเอนทิตี **การเชื่อมต่อธุรกรรม** สำหรับเวิร์กโฟลว์

| กิจกรรมพิเศษ                          | ธุรกรรม 1                 | บทบาทธุรกรรม 1 | ชนิดธุรกรรม 1           | ธุรกรรม 2                | บทบาทธุรกรรม 2 | ชนิดธุรกรรม 2 |
|--------------------------------|-------------------------------|--------------------|------------------------------|------------------------------|--------------------|--------------------|
| การส่งรายการเวลา          | GUID เรกคอร์ดบรรทัดสมุดรายวัน (การขาย)      | การขายที่ยังไม่ได้เรียกเก็บเงิน     | msdyn_journalline            | GUID เรกคอร์ดบรรทัดสมุดรายวัน (ต้นทุน)     | ต้นทุน               | msdyn_journalline  |
| การอนุมัติเวลา                  | GUID (การขาย) ตามจริงที่ยังไม่ได้เรียกเก็บเงิน  | การขายที่ยังไม่ได้เรียกเก็บเงิน     | msdyn_actual                 | GUID ต้นทุนตามจริง (ต้นทุน)       | ต้นทุน               | msdyn_actual       |
| การสร้างใบแจ้งหนี้               | GUID รายละเอียดรายการใบแจ้งหนี้      | การขายที่เรียกเก็บเงินแล้ว       | msdyn_invoicelinetransaction | GUID การขายตามจริงที่ยังไม่ได้เรียกเก็บเงิน   | การขายที่ยังไม่ได้เรียกเก็บเงิน     | msdyn_actual       |
| การยืนยันใบแจ้งหนี้           | GUID การกลับรายการตามจริง         | การกลับ          | msdyn_actual                 | GUID การขายที่ยังไม่ได้เรียกเก็บเงินเดิม | ดั้งเดิม           | msdyn_actual       |
| GUID การขายที่เรียกเก็บเงินแล้ว              | การขายที่เรียกเก็บเงินแล้ว                  | msdyn_actual       | GUID การขายตามจริงที่ยังไม่ได้เรียกเก็บเงิน   | การขายที่ยังไม่ได้เรียกเก็บเงิน               | msdyn_actual       |                    |
| การแก้ไขใบแจ้งหนี้แบบร่าง       | GUID ธุรกรรมของรายการใบแจ้งหนี้ | แทน          | msdyn_invoicelinetransaction | GUID การขายที่เรียกเก็บเงินแล้ว            | ดั้งเดิม           | msdyn_actual       |
| ยืนยันการแก้ไขใบแจ้งหนี้     | GUID การกลับการขายที่เรียกเก็บเงินแล้ว    | การกลับ          | msdyn_actual                 | GUID การขายที่เรียกเก็บเงินแล้ว            | ดั้งเดิม           | msdyn_actual       |
| GUID การขายตามจริงใหม่ที่ยังไม่ได้เรียกเก็บเงิน | แทน                     | msdyn_actual       | GUID การขายที่เรียกเก็บเงินแล้ว            | ดั้งเดิม                     | msdyn_actual       |                    |


[!INCLUDE[footer-include](../includes/footer-banner.md)]
