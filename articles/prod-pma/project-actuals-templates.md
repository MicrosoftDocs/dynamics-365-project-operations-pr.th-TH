---
title: ซิงโครไนซ์ข้อมูลจริงของโครงการโดยตรงจาก Project Service Automation ไปยังสมุดรายวันการรวมโครงการเพื่อลงรายการบัญชีใน Finance and Operations
description: หัวข้อนี้อธิบายแม่แบบและงานพื้นฐานที่ใช้เพื่อซิงโครไนซ์ค่าจริงของโครงการโดยตรงจาก Microsoft Dynamics 365 Project Service Automation ไปยัง Finance and Operations
author: Yowelle
manager: AnnBe
ms.date: 07/20/2018
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-applications
ms.technology: ''
audience: Application User
ms.reviewer: kfend
ms.search.scope: Core, Operations
ms.custom: 87983
ms.assetid: b454ad57-2fd6-46c9-a77e-646de4153067
ms.search.region: Global
ms.author: andchoi
ms.search.validFrom: 2016-11-28
ms.dyn365.ops.version: AX 7.3.0
ms.openlocfilehash: 11ccbd64c37341b2969e10e9a737f1aa4b4a61f9
ms.sourcegitcommit: fa32b1893286f20271fa4ec4be8fc68bd135f53c
ms.translationtype: HT
ms.contentlocale: th-TH
ms.lasthandoff: 02/15/2021
ms.locfileid: "5289707"
---
# <a name="synchronize-project-actuals-directly-from-project-service-automation-to-the-project-integration-journal-for-posting-in-finance-and-operations"></a><span data-ttu-id="93cbc-103">ซิงโครไนซ์ข้อมูลจริงของโครงการโดยตรงจาก Project Service Automation ไปยังสมุดรายวันการรวมโครงการเพื่อลงรายการบัญชีใน Finance and Operations</span><span class="sxs-lookup"><span data-stu-id="93cbc-103">Synchronize project actuals directly from Project Service Automation to the project integration journal for posting in Finance and Operations</span></span>

[!include[banner](../includes/banner.md)]

<span data-ttu-id="93cbc-104">หัวข้อนี้อธิบายแม่แบบและงานพื้นฐานที่ใช้เพื่อซิงโครไนซ์ค่าจริงของโครงการโดยตรงจาก Dynamics 365 Project Service Automation ไปยัง Dynamics 365 Finance</span><span class="sxs-lookup"><span data-stu-id="93cbc-104">This topic describes the templates and underlying tasks that are used to synchronize project actuals directly from Dynamics 365 Project Service Automation to Dynamics 365 Finance.</span></span>

<span data-ttu-id="93cbc-105">แม่แบบซิงโครไนซ์ธุรกรรมจาก Project Service Automation ไปยังตารางการจัดเตรียมใน Finance</span><span class="sxs-lookup"><span data-stu-id="93cbc-105">The template synchronizes transactions from Project Service Automation into a staging table in Finance.</span></span> <span data-ttu-id="93cbc-106">หลังจากการซิงโครไนซ์เสร็จสิ้น คุณ **ต้อง** นำเข้าข้อมูลจากตารางการจัดเตรียมลงในสมุดรายวันการรวม</span><span class="sxs-lookup"><span data-stu-id="93cbc-106">After synchronization is completed, you **must** import the data from the staging table into the integration journal.</span></span>

> [!NOTE]
> - <span data-ttu-id="93cbc-107">การรวมค่าจริงโครงการพร้อมใช้งานตั้งแต่เวอร์ชัน 8.0.1</span><span class="sxs-lookup"><span data-stu-id="93cbc-107">Project actuals integration is available starting in version 8.0.1.</span></span>
> - <span data-ttu-id="93cbc-108">หากคุณใช้ Enterprise Edition 7.3.0 หลังจากที่คุณติดตั้ง KB 4132657 และ KB 4132660 คุณจะสามารถใช้แม่แบบเพื่อรวมงานโครงการ ประเภทธุรกรรมค่าใช้จ่าย การประมาณชั่วโมง การประมาณค่าใช้จ่ายและข้อมูลจริง และเพื่อตั้งค่าคอนฟิกการล็อกฟังก์ชัน</span><span class="sxs-lookup"><span data-stu-id="93cbc-108">If you're using Enterprise edition 7.3.0 after you install KB 4132657 and KB 4132660, you will be able to use the templates to integrate project tasks, expense transaction categories, hour estimates, expense estimates, and actuals, and to configure functionality locking.</span></span> <span data-ttu-id="93cbc-109">หากคุณต้องรีเซ็ตการกระจายการลงบัญชี เราขอแนะนำให้คุณติดตั้ง KB 4131710 ด้วย</span><span class="sxs-lookup"><span data-stu-id="93cbc-109">If you must reset the accounting distributions, we recommend that you also install KB 4131710.</span></span>
> - <span data-ttu-id="93cbc-110">หากคุณใช้เวอร์ชัน 7.3.0 และคุณนำธุรกรรมค่าธรรมเนียมมาจาก Project Service Automation คุณต้องติดตั้ง KB 4345320 เพื่อรวมค่าธรรมเนียมเหล่านั้นในใบแจ้งหนี้โครงการ</span><span class="sxs-lookup"><span data-stu-id="93cbc-110">If you're using version 7.3.0, and you are bringing fee transactions over from Project Service Automation, you must install KB 4345320 in order to include those fees in the project invoice.</span></span>
> - <span data-ttu-id="93cbc-111">ถ้าคุณกำลังป้อนยอดภาษีขายตรงเวลาหรือธุรกรรมค่าใช้จ่ายใน Project Service Automation คุณต้องติดตั้ง Project Service Automation รุ่นอัปเดต 7</span><span class="sxs-lookup"><span data-stu-id="93cbc-111">If you're entering sales tax amounts on time or expense transactions in Project Service Automation, you must install Project Service Automation Update 7.</span></span> <span data-ttu-id="93cbc-112">มิฉะนั้นภาษีจะไม่เชื่อมโยงกับเวลาที่เกี่ยวข้องหรือค่าใช้จ่ายที่เกิดขึ้นจริงและจะไม่ซิงโครไนซ์กับ Finance</span><span class="sxs-lookup"><span data-stu-id="93cbc-112">Otherwise, the tax actuals won't be linked to the associated time or expense actuals, and they won't be synchronized to Finance.</span></span> <span data-ttu-id="93cbc-113">สำหรับข้อมูลเพิ่มเติม โปรดติดต่อทีมสนับสนุน</span><span class="sxs-lookup"><span data-stu-id="93cbc-113">For more information, contact Support.</span></span>

## <a name="data-flow-for-project-service-automation-to-finance"></a><span data-ttu-id="93cbc-114">โฟลว์ข้อมูลสำหรับ Project Service Automation กับ Finance</span><span class="sxs-lookup"><span data-stu-id="93cbc-114">Data flow for Project Service Automation to Finance</span></span>

<span data-ttu-id="93cbc-115">โซลูชันการรวม Project Service Automation กับ Finance ใช้คุณลักษณะการรวมข้อมูลเพื่อซิงโครไนซ์ข้อมูลระหว่างอินสแตนซ์ของ Project Service Automation และ Finance</span><span class="sxs-lookup"><span data-stu-id="93cbc-115">The Project Service Automation to Finance integration solution uses the Data integration feature to synchronize data across instances of Project Service Automation and Finance.</span></span> <span data-ttu-id="93cbc-116">แม่แบบการรวมที่พร้อมใช้งานกับคุณลักษณะการรวมข้อมูล เปิดใช้งานโฟลว์ของข้อมูลเกี่ยวกับค่าจริงของโครงการจาก Project Service Automation ไปยัง Finance</span><span class="sxs-lookup"><span data-stu-id="93cbc-116">The integration templates that are available with the Data integration feature enable the flow of data about project actuals from Project Service Automation to Finance.</span></span>

<span data-ttu-id="93cbc-117">ภาพประกอบต่อไปนี้แสดงวิธีซิงโครไนซ์ข้อมูลระหว่าง Project Service Automation และ Finance</span><span class="sxs-lookup"><span data-stu-id="93cbc-117">The following illustration shows how the data is synchronized between Project Service Automation and Finance.</span></span>

<span data-ttu-id="93cbc-118">[![โฟลว์ข้อมูลสำหรับการรวม Project Service Automation กับ Finance and Operations](./media/ProjectActualsFlow.jpg)](./media/ProjectActualsFlow.jpg)</span><span class="sxs-lookup"><span data-stu-id="93cbc-118">[![Data flow for Project Service Automation integration with Finance and Operations](./media/ProjectActualsFlow.jpg)](./media/ProjectActualsFlow.jpg)</span></span>

## <a name="project-actuals-from-project-service-automation"></a><span data-ttu-id="93cbc-119">ค่าจริงของโครงการจาก Project Service Automation</span><span class="sxs-lookup"><span data-stu-id="93cbc-119">Project actuals from Project Service Automation</span></span>

### <a name="template-and-tasks"></a><span data-ttu-id="93cbc-120">แม่แบบและงาน</span><span class="sxs-lookup"><span data-stu-id="93cbc-120">Template and tasks</span></span>

<span data-ttu-id="93cbc-121">ในการเข้าถึงแม่แบบที่พร้อมใช้งาน ในศูนย์การจัดการ Microsoft Power Apps เลือก **โครงการ** และจากนั้น ที่มุมขวาบน ให้เลือก **โครงการใหม่** เพื่อเลือกแม่แบบสาธารณะ</span><span class="sxs-lookup"><span data-stu-id="93cbc-121">To access the available templates, in the Microsoft Power Apps admin center, select **Projects**, and then, in the upper-right corner, select **New project** to select public templates.</span></span>

<span data-ttu-id="93cbc-122">แม่แบบและงานพื้นฐานต่อไปนี้ถูกใช้เพื่อซิงโครไนซ์ค่าจริงของโครงการจาก Project Service Automation ไปยัง Finance:</span><span class="sxs-lookup"><span data-stu-id="93cbc-122">The following template and underlying tasks are used to synchronize project actuals from Project Service Automation to Finance:</span></span>

- <span data-ttu-id="93cbc-123">**ชื่อของแม่แบบในการรวมข้อมูล:** ค่าจริงของโครงการ (PSA ไปยัง Fin และ Ops)</span><span class="sxs-lookup"><span data-stu-id="93cbc-123">**Name of the template in Data integration:** Project actuals (PSA to Fin and Ops)</span></span>
- <span data-ttu-id="93cbc-124">**ชื่อของงานในโครงการ:**</span><span class="sxs-lookup"><span data-stu-id="93cbc-124">**Name of the tasks in the project:**</span></span>

    - <span data-ttu-id="93cbc-125">ข้อมูลจริง</span><span class="sxs-lookup"><span data-stu-id="93cbc-125">Actuals</span></span>
    - <span data-ttu-id="93cbc-126">การเชื่อมต่อธุรกรรม</span><span class="sxs-lookup"><span data-stu-id="93cbc-126">TransactionConnections</span></span>

### <a name="entity-set"></a><span data-ttu-id="93cbc-127">ชุดเอนทิตี</span><span class="sxs-lookup"><span data-stu-id="93cbc-127">Entity set</span></span>

| <span data-ttu-id="93cbc-128">Project Service Automation</span><span class="sxs-lookup"><span data-stu-id="93cbc-128">Project Service Automation</span></span> | <span data-ttu-id="93cbc-129">Finance</span><span class="sxs-lookup"><span data-stu-id="93cbc-129">Finance</span></span>                                   |
|----------------------------|----------------------------------------------------------|
| <span data-ttu-id="93cbc-130">ข้อมูลจริง</span><span class="sxs-lookup"><span data-stu-id="93cbc-130">Actuals</span></span>                    | <span data-ttu-id="93cbc-131">เอนทิตีการรวมสำหรับค่าจริงของโครงการ</span><span class="sxs-lookup"><span data-stu-id="93cbc-131">Integration entity for project actuals</span></span>                   |
| <span data-ttu-id="93cbc-132">การเชื่อมต่อธุรกรรม</span><span class="sxs-lookup"><span data-stu-id="93cbc-132">Transaction Connections</span></span>    | <span data-ttu-id="93cbc-133">เอนทิตีการรวมสำหรับความสัมพันธ์ธุรกรรมโครงการ</span><span class="sxs-lookup"><span data-stu-id="93cbc-133">Integration entity for project transaction relationships</span></span> |

### <a name="entity-flow"></a><span data-ttu-id="93cbc-134">โฟลว์เอนทิตี</span><span class="sxs-lookup"><span data-stu-id="93cbc-134">Entity flow</span></span>

<span data-ttu-id="93cbc-135">ค่าจริงของโครงการได้รับการจัดการใน Project Service Automation และมีการซิงโครไนซ์กับสมุดรายวันการรวมโครงการใน Finance</span><span class="sxs-lookup"><span data-stu-id="93cbc-135">Project actuals are managed in Project Service Automation, and they are synchronized to the project integration journal in Finance.</span></span> <span data-ttu-id="93cbc-136">การบัญชีจะถูกนำไปใช้ตามมิติทางการเงินเริ่มต้นและการตั้งค่าการลงรายการบัญชี</span><span class="sxs-lookup"><span data-stu-id="93cbc-136">The accounting will be applied based on default financial dimensions and the posting setup.</span></span>

### <a name="prerequisites"></a><span data-ttu-id="93cbc-137">ข้อกำหนดเบื้องต้น</span><span class="sxs-lookup"><span data-stu-id="93cbc-137">Prerequisites</span></span>

<span data-ttu-id="93cbc-138">ก่อนที่การซิงโครไนซ์ของค่าจริงจะเกิดขึ้น คุณต้องกำหนดค่าพารามิเตอร์การรวม Project Service Automation และซิงโครไนซ์โครงการ งานโครงการ และประเภทธุรกรรมค่าใช้จ่ายของโครงการ</span><span class="sxs-lookup"><span data-stu-id="93cbc-138">Before synchronization of actuals can occur, you must configure the Project Service Automation integration parameters and synchronize projects, project tasks, and project expense transaction categories.</span></span>

### <a name="power-query"></a><span data-ttu-id="93cbc-139">Power Query</span><span class="sxs-lookup"><span data-stu-id="93cbc-139">Power Query</span></span>

<span data-ttu-id="93cbc-140">ในแม่แบบค่าจริงของโครงการ คุณต้องใช้ Microsoft Power Query สำหรับ Excel เพื่อทำงานเหล่านี้ให้เสร็จสิ้น:</span><span class="sxs-lookup"><span data-stu-id="93cbc-140">In the project actuals template, you must use Microsoft Power Query for Excel to complete these tasks:</span></span>

- <span data-ttu-id="93cbc-141">แปลงชนิดธุรกรรมใน Project Service Automation เป็นชนิดธุรกรรมที่ถูกต้องใน Finance</span><span class="sxs-lookup"><span data-stu-id="93cbc-141">Transform the transaction type in Project Service Automation to the correct transaction type in Finance.</span></span> <span data-ttu-id="93cbc-142">การเปลี่ยนแปลงนี้ได้กำหนดไว้แล้วในแม่แบบ Project actuals (PSA ไปยัง Fin and Ops)</span><span class="sxs-lookup"><span data-stu-id="93cbc-142">This transformation is already defined in the Project actuals (PSA to Fin and Ops) template.</span></span>
- <span data-ttu-id="93cbc-143">แปลงชนิดการเรียกเก็บเงินใน Project Service Automation เป็นชนิดการเรียกเก็บเงินที่ถูกต้องใน Finance</span><span class="sxs-lookup"><span data-stu-id="93cbc-143">Transform the billing type in Project Service Automation to the correct billing type in Finance.</span></span> <span data-ttu-id="93cbc-144">การเปลี่ยนแปลงนี้ได้กำหนดไว้แล้วในแม่แบบ Project actuals (PSA ไปยัง Fin and Ops)</span><span class="sxs-lookup"><span data-stu-id="93cbc-144">This transformation is already defined in the Project actuals (PSA to Fin and Ops) template.</span></span> <span data-ttu-id="93cbc-145">จากนั้นประเภทการเรียกเก็บเงินจะถูกจับคู่กับคุณสมบัติรายการ ตามการกำหนดค่าบนหน้า **พารามิเตอร์การรวม Project Service Automation**</span><span class="sxs-lookup"><span data-stu-id="93cbc-145">The billing type is then mapped to the line property, based on the configuration on the **Project Service Automation integration parameters** page.</span></span>
- <span data-ttu-id="93cbc-146">กรองหน่วยขององค์กรทรัพยากรเฉพาะที่ต้องซิงโครไนซ์กับแม่แบบนี้</span><span class="sxs-lookup"><span data-stu-id="93cbc-146">Filter to specific resource organizational units that must be synchronized with this template.</span></span>
- <span data-ttu-id="93cbc-147">ถ้าค่าจริงของเวลาระหว่างบริษัทหรือค่าใช้จ่ายระหว่างบริษัทจะซิงโครไนซ์กับ Finance คุณต้องเปลี่ยนหน่วยขององค์กรตามสัญญาเป็นนิติบุคคลที่ถูกต้องใน Finance</span><span class="sxs-lookup"><span data-stu-id="93cbc-147">If intercompany time or intercompany expense actuals will be synchronized to Finance, you must transform the contract organizational unit to the correct legal entity in Finance.</span></span> <span data-ttu-id="93cbc-148">ในแม่แบบค่าจริงของโครงการ (PSA ไปยัง Fin และ Ops) คอลัมน์เงื่อนไขจะถูกกำหนดตามข้อมูลสาธิต</span><span class="sxs-lookup"><span data-stu-id="93cbc-148">In the Project actuals (PSA to Fin and Ops) template, a conditional column is defined based on demo data.</span></span> <span data-ttu-id="93cbc-149">คุณต้องอัปเดตคอลัมน์เงื่อนไขสุดท้ายที่แทรกเป็นนิติบุคคลที่ถูกต้อง</span><span class="sxs-lookup"><span data-stu-id="93cbc-149">You must update the last inserted conditional column to the correct legal entities.</span></span> <span data-ttu-id="93cbc-150">มิฉะนั้นข้อผิดพลาดในการรวมอาจเกิดขึ้นหรืออาจมีการนำเข้าธุรกรรมตามจริงที่ไม่ถูกต้องไปยัง Finance</span><span class="sxs-lookup"><span data-stu-id="93cbc-150">Otherwise, either an integration error might occur, or incorrect actual transactions might be imported into Finance.</span></span>
- <span data-ttu-id="93cbc-151">ถ้าค่าจริงของเวลาระหว่างบริษัทหรือค่าใช้จ่ายระหว่างบริษัทจะไม่ซิงโครไนซ์กับ Finance คุณต้องลบคอลัมน์เงื่อนไขสุดท้ายที่แทรกออกจากแม่แบบของคุณ</span><span class="sxs-lookup"><span data-stu-id="93cbc-151">If intercompany time or intercompany expense actuals won't be synchronized to Finance, you must delete the last inserted conditional column from your template.</span></span> <span data-ttu-id="93cbc-152">มิฉะนั้นข้อผิดพลาดในการรวมอาจเกิดขึ้นหรืออาจมีการนำเข้าธุรกรรมตามจริงที่ไม่ถูกต้องไปยัง Finance</span><span class="sxs-lookup"><span data-stu-id="93cbc-152">Otherwise, either an integration error might occur, or incorrect actual transactions might be imported into Finance.</span></span>

#### <a name="contract-organizational-unit"></a><span data-ttu-id="93cbc-153">หน่วยองค์กรตามสัญญา</span><span class="sxs-lookup"><span data-stu-id="93cbc-153">Contract organizational unit</span></span>
<span data-ttu-id="93cbc-154">หากต้องการอัปเดตคอลัมน์เงื่อนไขสุดท้ายที่แทรกในแม่แบบ ให้คลิกลูกศร **แม็ป** เพื่อเปิดการแม็ป</span><span class="sxs-lookup"><span data-stu-id="93cbc-154">To update the inserted conditional column in the template, click the **Map** arrow to open the mapping.</span></span> <span data-ttu-id="93cbc-155">เลือกลิงก์ **การสืบค้นและการกรองขั้นสูง** เพื่อเปิด Power Query</span><span class="sxs-lookup"><span data-stu-id="93cbc-155">Select the **Advanced Query and Filtering** link to open Power Query.</span></span>

- <span data-ttu-id="93cbc-156">หากคุณกำลังใช้แม่แบบค่าจริงของโครงการเริ่มต้น (PSA ไปยัง Fin และ Ops) ใน Power Query ให้เลือก **แทรกเงื่อนไข** สุดท้ายจากส่วน **ขั้นตอนที่ใช้**</span><span class="sxs-lookup"><span data-stu-id="93cbc-156">If you're using the default Project actuals (PSA to Fin and Ops) template, in Power Query, select the last **Inserted Condition** from the **Applied Steps** section.</span></span> <span data-ttu-id="93cbc-157">ในรายการ **ฟังก์ชัน** ให้แทนที่ **USSI** ด้วยชื่อของนิติบุคคลที่ควรใช้กับการรวม</span><span class="sxs-lookup"><span data-stu-id="93cbc-157">In the **Function** entry, replace **USSI** with the name of the legal entity that should be used with the integration.</span></span> <span data-ttu-id="93cbc-158">เพิ่มเงื่อนไขเพิ่มเติมในรายการ **ฟังก์ชัน** ตามที่คุณต้องการและอัปเดตเงื่อนไข **อื่น** จาก **USMF** ไปเป็นนิติบุคคลที่ถูกต้อง</span><span class="sxs-lookup"><span data-stu-id="93cbc-158">Add additional conditions to the **Function** entry as you require, and update the **else** condition from **USMF** to the correct legal entity.</span></span>
- <span data-ttu-id="93cbc-159">หากคุณกำลังสร้างแม่แบบใหม่ คุณต้องเพิ่มคอลัมน์เพื่อรองรับเวลาและค่าใช้จ่ายระหว่างบริษัท</span><span class="sxs-lookup"><span data-stu-id="93cbc-159">If you're creating a new template, you must add the column to support intercompany time and expenses.</span></span> <span data-ttu-id="93cbc-160">เลือก **เพิ่มคอลัมน์เงื่อนไข** และป้อนชื่อสำหรับคอลัมน์ใหม่ เช่น **LegalEntity**</span><span class="sxs-lookup"><span data-stu-id="93cbc-160">Select **Add Conditional Column**, and enter a name for the column, such as **LegalEntity**.</span></span> <span data-ttu-id="93cbc-161">ป้อนเงื่อนไขสำหรับคอลัมน์โดย ที่ถ้า **msdyn\_contractorganizationalunitid.msdyn\_ชื่อ** คือ \<organizational unit\> แล้ว \<enter the legal entity\>; อื่นว่าง</span><span class="sxs-lookup"><span data-stu-id="93cbc-161">Enter a condition for the column, where, if **msdyn\_contractorganizationalunitid.msdyn\_name** is \<organizational unit\>, then \<enter the legal entity\>; else null.</span></span>

### <a name="template-mapping-in-data-integration"></a><span data-ttu-id="93cbc-162">การแม็ปแม่แบบในการรวมข้อมูล</span><span class="sxs-lookup"><span data-stu-id="93cbc-162">Template mapping in Data integration</span></span>

<span data-ttu-id="93cbc-163">ภาพประกอบต่อไปนี้แสดงตัวอย่างของการแม็ปงานแม่แบบในการรวมข้อมูล</span><span class="sxs-lookup"><span data-stu-id="93cbc-163">The following illustrations show an example of the template task mapping in Data integration.</span></span> <span data-ttu-id="93cbc-164">การแม็ปแสดงข้อมูลฟิลด์ที่จะซิงโครไนซ์จาก Project Service Automation ไปยัง Finance</span><span class="sxs-lookup"><span data-stu-id="93cbc-164">The mapping shows the field information that will be synchronized from Project Service Automation to Finance.</span></span>

<span data-ttu-id="93cbc-165">[![การแม็ปแม่แบบ - ข้อมูลจริง](./media/ActualsMapping.jpg)](./media/ActualsMapping.jpg)</span><span class="sxs-lookup"><span data-stu-id="93cbc-165">[![Template mapping - Actuals](./media/ActualsMapping.jpg)](./media/ActualsMapping.jpg)</span></span>

<span data-ttu-id="93cbc-166">[![การแม็ปแม่แบบ - การเชื่อมต่อธุรกรรม](./media/TransactionConnections.jpg)](./media/TransactionConnections.jpg)</span><span class="sxs-lookup"><span data-stu-id="93cbc-166">[![Template mapping - Transaction connections](./media/TransactionConnections.jpg)](./media/TransactionConnections.jpg)</span></span>

## <a name="import-from-staging-table-after-integration-from-project-service-automation"></a><span data-ttu-id="93cbc-167">นำเข้าจากตารางการจัดเตรียมหลังจากการรวมจาก Project Service Automation</span><span class="sxs-lookup"><span data-stu-id="93cbc-167">Import from staging table after integration from Project Service Automation</span></span>

<span data-ttu-id="93cbc-168">ต้องเรียกใช้กระบวนการนำเข้าจากตารางการจัดเตรียมหลังจากการซิงโครไนซ์ของค่าจริงจาก Project Service Automation ไปยัง Finance</span><span class="sxs-lookup"><span data-stu-id="93cbc-168">The Import from staging table periodic process must be run after the synchronization of actuals from Project Service Automation to Finance.</span></span> <span data-ttu-id="93cbc-169">กระบวนการนี้จะนำเข้าธุรกรรมโครงการจากตารางการจัดเตรียมลงในสมุดรายวันการรวม Project Service Automation ซึ่งการบัญชีจะถูกนำไปใช้และสามารถลงรายการบัญชีธุรกรรมที่นำเข้าได้</span><span class="sxs-lookup"><span data-stu-id="93cbc-169">This process will import the project transactions from the staging table into the Project Service Automation integration journal, where the accounting is applied and the imported transactions can be posted.</span></span> <span data-ttu-id="93cbc-170">เราขอแนะนำให้คุณเรียกใช้กระบวนการนี้ในโหมดชุดงาน เพราะสามารถเลือกที่จะตั้งค่าให้ทำงานเป็นชุดที่เกิดซ้ำได้</span><span class="sxs-lookup"><span data-stu-id="93cbc-170">We recommend that you run this process in batch mode; it can optionally be set up to run as a recurring batch.</span></span>

## <a name="update-actuals-from-finance"></a><span data-ttu-id="93cbc-171">อัปเดตข้อมูลจริงจาก Finance</span><span class="sxs-lookup"><span data-stu-id="93cbc-171">Update actuals from Finance</span></span>

### <a name="template-and-tasks"></a><span data-ttu-id="93cbc-172">แม่แบบและงาน</span><span class="sxs-lookup"><span data-stu-id="93cbc-172">Template and tasks</span></span>

<span data-ttu-id="93cbc-173">แม่แบบและงานพื้นฐานต่อไปนี้ใช้เพื่อซิงโครไนซ์หมายเลขใบสำคัญและภาษีขายสำหรับธุรกรรมโครงการที่ลงรายการบัญชีจาก Finance ไปยัง Project Service Automation:</span><span class="sxs-lookup"><span data-stu-id="93cbc-173">The following template and underlying tasks are used to synchronize the voucher number and sales taxes for posted project transactions from Finance to Project Service Automation:</span></span>

- <span data-ttu-id="93cbc-174">**ชื่อของแม่แบบในการรวมข้อมูล:** การอัปเดตค่าจริงของโครงการ (Fin Ops ไปยัง PSA)</span><span class="sxs-lookup"><span data-stu-id="93cbc-174">**Name of the template in Data integration:** Project actuals update (Fin Ops to PSA)</span></span>
- <span data-ttu-id="93cbc-175">**ชื่อของงานในโครงการ:**</span><span class="sxs-lookup"><span data-stu-id="93cbc-175">**Name of the tasks in the project:**</span></span>

    - <span data-ttu-id="93cbc-176">ข้อมูลจริง</span><span class="sxs-lookup"><span data-stu-id="93cbc-176">Actuals</span></span> 
    - <span data-ttu-id="93cbc-177">การเชื่อมต่อธุรกรรม</span><span class="sxs-lookup"><span data-stu-id="93cbc-177">TransactionConnections</span></span>

### <a name="entity-set"></a><span data-ttu-id="93cbc-178">ชุดเอนทิตี</span><span class="sxs-lookup"><span data-stu-id="93cbc-178">Entity set</span></span>

| <span data-ttu-id="93cbc-179">Finance</span><span class="sxs-lookup"><span data-stu-id="93cbc-179">Finance</span></span>                                                  | <span data-ttu-id="93cbc-180">Project Service Automation</span><span class="sxs-lookup"><span data-stu-id="93cbc-180">Project Service Automation</span></span> |
|----------------------------------------------------------|----------------------------|
| <span data-ttu-id="93cbc-181">เอนทิตีการรวมสำหรับค่าจริงของโครงการ</span><span class="sxs-lookup"><span data-stu-id="93cbc-181">Integration entity for project actuals</span></span>                   | <span data-ttu-id="93cbc-182">ข้อมูลจริง</span><span class="sxs-lookup"><span data-stu-id="93cbc-182">Actuals</span></span>                    |
| <span data-ttu-id="93cbc-183">เอนทิตีการรวมสำหรับความสัมพันธ์ธุรกรรมโครงการ</span><span class="sxs-lookup"><span data-stu-id="93cbc-183">Integration entity for project transaction relationships</span></span> | <span data-ttu-id="93cbc-184">การเชื่อมต่อธุรกรรม</span><span class="sxs-lookup"><span data-stu-id="93cbc-184">Transaction Connections</span></span>    |

### <a name="entity-flow"></a><span data-ttu-id="93cbc-185">โฟลว์เอนทิตี</span><span class="sxs-lookup"><span data-stu-id="93cbc-185">Entity flow</span></span>

<span data-ttu-id="93cbc-186">ค่าจริงของโครงการได้รับการจัดการใน Project Service Automation และมีการซิงโครไนซ์กับสมุดรายวันการรวมโครงการใน Finance</span><span class="sxs-lookup"><span data-stu-id="93cbc-186">Project actuals are managed in Project Service Automation, and they are synchronized to the project integration journal in Finance.</span></span> <span data-ttu-id="93cbc-187">หลังจากลงรายการบัญชีจริงใน Finance แล้วจะมีการอัปเดตใน Project Service Automation ด้วยหมายเลขใบสำคัญจาก Finance</span><span class="sxs-lookup"><span data-stu-id="93cbc-187">After actuals are posted in Finance, they are updated in Project Service Automation with the voucher number from Finance.</span></span> <span data-ttu-id="93cbc-188">ถ้ามีการเพิ่มภาษีขายใน Finance ค่าจริงใหม่ของภาษีจะถูกสร้างขึ้นใน Project Service Automation</span><span class="sxs-lookup"><span data-stu-id="93cbc-188">If sales taxes were added in Finance, new tax actuals are created in Project Service Automation.</span></span>

### <a name="power-query"></a><span data-ttu-id="93cbc-189">Power Query</span><span class="sxs-lookup"><span data-stu-id="93cbc-189">Power Query</span></span>

<span data-ttu-id="93cbc-190">ในแม่แบบการอัปเดตค่าจริงของโครงการ คุณต้องใช้ Power Query เพื่อทำงานเหล่านี้ให้เสร็จสิ้น:</span><span class="sxs-lookup"><span data-stu-id="93cbc-190">In the project actuals update template, you must use Power Query to complete these tasks:</span></span>

- <span data-ttu-id="93cbc-191">แปลงชนิดธุรกรรมใน Finance เป็นชนิดธุรกรรมที่ถูกต้องใน Project Service Automation</span><span class="sxs-lookup"><span data-stu-id="93cbc-191">Transform the transaction type in Finance to the correct transaction type in Project Service Automation.</span></span> <span data-ttu-id="93cbc-192">การเปลี่ยนแปลงนี้ได้กำหนดไว้แล้วในการอัปเดตค่าจริงของแม่แบบโครงการ (Fin Ops ไปยัง PSA)</span><span class="sxs-lookup"><span data-stu-id="93cbc-192">This transformation is already defined in the Project actuals update (Fin Ops to PSA) template.</span></span>
- <span data-ttu-id="93cbc-193">แปลงชนิดการเรียกเก็บเงินใน Finance เป็นชนิดการเรียกเก็บเงินที่ถูกต้องใน Project Service Automation</span><span class="sxs-lookup"><span data-stu-id="93cbc-193">Transform the billing type in Finance to the correct billing type in Project Service Automation.</span></span> <span data-ttu-id="93cbc-194">การเปลี่ยนแปลงนี้ได้กำหนดไว้แล้วในการอัปเดตค่าจริงของแม่แบบโครงการ (Fin Ops ไปยัง PSA)</span><span class="sxs-lookup"><span data-stu-id="93cbc-194">This transformation is already defined in the Project actuals update (Fin Ops to PSA) template.</span></span>

### <a name="template-mapping-in-data-integration"></a><span data-ttu-id="93cbc-195">การแม็ปแม่แบบในการรวมข้อมูล</span><span class="sxs-lookup"><span data-stu-id="93cbc-195">Template mapping in Data integration</span></span>

<span data-ttu-id="93cbc-196">ภาพประกอบต่อไปนี้แสดงตัวอย่างของการแม็ปงานแม่แบบในการรวมข้อมูล</span><span class="sxs-lookup"><span data-stu-id="93cbc-196">The following illustrations show examples of the template task mappings in Data integration.</span></span> <span data-ttu-id="93cbc-197">การแม็ปแสดงข้อมูลฟิลด์ที่จะซิงโครไนซ์จาก Finance ไปยัง Project Service Automation</span><span class="sxs-lookup"><span data-stu-id="93cbc-197">The mapping shows the field information that will be synchronized from Finance to Project Service Automation.</span></span>

<span data-ttu-id="93cbc-198">[![การแม็ปแม่แบบ - อัปเดตข้อมูลจริง](./media/ActualsUpdateMapping.jpg)](./media/ActualsUpdateMapping.jpg)</span><span class="sxs-lookup"><span data-stu-id="93cbc-198">[![Template mapping - Actuals update](./media/ActualsUpdateMapping.jpg)](./media/ActualsUpdateMapping.jpg)</span></span>

<span data-ttu-id="93cbc-199">[![การแม็ปแม่แบบ - อัปเดตธุรกรรม](./media/TransactionConnectionsUpdate.jpg)](./media/TransactionConnectionsUpdate.jpg)</span><span class="sxs-lookup"><span data-stu-id="93cbc-199">[![Template mapping - Transaction update](./media/TransactionConnectionsUpdate.jpg)](./media/TransactionConnectionsUpdate.jpg)</span></span>


[!INCLUDE[footer-include](../includes/footer-banner.md)]